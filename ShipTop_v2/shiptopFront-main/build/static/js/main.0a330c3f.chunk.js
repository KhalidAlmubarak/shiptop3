(this.webpackJsonpshiptop=this.webpackJsonpshiptop||[]).push([[0],{138:function(e,t,n){"use strict";t.a=n.p+"static/media/logo.08bb687d.svg"},180:function(e,t){},184:function(e,t,n){"use strict";(function(e){var a=n(2),r=n(8),c=n(4),i=n(0),o=n.n(i),s=n(197),l=n(147),d=n(198),u=n(195),j=n(160),b=n(199),h=n(110),m=n(120),p=n.n(m),O=n(138),D=n(27),g=n(196),f=n(44),x=n(139),A=n.n(x),v=n(200),y=n(159),w=n(194),S=n(90),C=n(111),N=n(42),k=n(1);function B(e){var t=e.children,n=Object(u.a)({disableHysteresis:!0,threshold:0});return o.a.cloneElement(t,{elevation:n?4:0})}var I=Object(j.a)((function(e){var t,n;return{toolbarMargin:Object(c.a)(Object(c.a)({},e.mixins.toolbar),{},(t={marginBottom:"3em"},Object(r.a)(t,e.breakpoints.down("md"),{marginBottom:"2em"}),Object(r.a)(t,e.breakpoints.down("xs"),{marginBottom:"1.25em"}),t)),logo:(n={height:"6em"},Object(r.a)(n,e.breakpoints.down("md"),{height:"5em"}),Object(r.a)(n,e.breakpoints.down("xs"),{height:"4.5em"}),n),tabContainer:{margin:"auto"},tab:{fontFamily:"Raleway",textTransform:"none",fontWeight:"700",fontSize:"1rem",minWidth:10,marginLeft:"25px",color:"white"},button:{fontFamily:"Raleway",textTransform:"none",fontWeight:"700",fontSize:"1rem",marginRight:"25px"},drawerIcon:{height:"50px",width:"50px "},drawerIconContainer:{marginLeft:"auto","&:hover":{backgroundColor:"transparent"}},drawer:Object(r.a)({backgroundColor:e.palette.common.mahmoolBlue,width:"178.9px"},e.breakpoints.down("xs"),{width:"161px"}),drawerItem:Object(c.a)(Object(c.a)({},e.typography.tab),{},{color:"white",opacity:.7}),draweItemSelected:{opacity:1},appbar:{zIndex:e.zIndex.modal+1}}}));t.a=function(t){Object(N.f)();var n=Object(i.useState)(!1),r=Object(a.a)(n,2),c=r[0],u=r[1],j=e.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent),m=I(),x=Object(f.a)(),P=Object(g.a)(x.breakpoints.down("md")),_=Object(i.useState)(0),E=Object(a.a)(_,2),T=E[0],F=E[1],H=[{name:"Orders",link:"/",activeIndex:0},{name:"Awaiting Location",link:"/waitingl",activeIndex:1},{name:"Awaiting Reschedule",link:"/waitingr",activeIndex:2},{name:"Invalid Phone",link:"/invalidp",activeIndex:3},{name:"All Shipments",link:"/all",activeIndex:4},{name:"To Return",link:"/return",activeIndex:5},{name:"Log in",link:"/"}];Object(i.useEffect)((function(){H.forEach((function(e){if(window.location.pathname==="".concat(e.link))T!==e.activeIndex&&"Log in"!==e.name&&F(e.activeIndex)}))}),[T,H]);var R=Object(k.jsxs)(o.a.Fragment,{children:[Object(k.jsxs)(b.a,{value:T,onChange:function(e,t){F(t)},className:m.tabContainer,indicatorColor:"primary",children:[Object(k.jsx)(h.a,{className:m.tab,label:"Orders",component:D.b,to:"/"}),Object(k.jsx)(h.a,{className:m.tab,label:"Awaiting Location",component:D.b,to:"/waitingl"}),Object(k.jsx)(h.a,{className:m.tab,label:"Awaiting Reschedule",component:D.b,to:"/waitingr"}),Object(k.jsx)(h.a,{className:m.tab,label:"Invalid Phone",component:D.b,to:"/invalidp"}),Object(k.jsx)(h.a,{className:m.tab,label:"All Shipments",component:D.b,to:"/all"}),Object(k.jsx)(h.a,{className:m.tab,label:"To Return",component:D.b,to:"/return"})]}),Object(k.jsxs)(l.a,{className:m.button,endIcon:Object(k.jsx)(p.a,{}),color:"inherit",onClick:function(){sessionStorage.clear(),localStorage.clear(),window.location.href="/"},children:[" ","Log out"]})]}),L=Object(k.jsxs)(o.a.Fragment,{children:[Object(k.jsxs)(v.a,{disableBackdropTransition:!j,disableDiscovery:j,open:c,onClose:function(){return u(!1)},onOpen:function(){return u(!0)},classes:{paper:m.drawer},children:[Object(k.jsx)("di",{className:m.toolbarMargin}),Object(k.jsxs)(w.a,{disablePadding:!0,children:[Object(k.jsx)(S.a,{className:0===T?[m.drawerItem,m.draweItemSelected]:m.drawerItem,onClick:function(){u(!1),F(0)},divider:!0,button:!0,component:D.b,to:"/",selected:0===T,children:Object(k.jsx)(C.a,{disableTypography:!0,children:"RFD"})}),Object(k.jsx)(S.a,{className:1===T?[m.drawerItem,m.draweItemSelected]:m.drawerItem,onClick:function(){u(!1),F(1)},divider:!0,button:!0,component:D.b,to:"/waitingl",selected:1===T,children:Object(k.jsx)(C.a,{disableTypography:!0,children:"Awaiting Location"})}),Object(k.jsx)(S.a,{className:2===T?[m.drawerItem,m.draweItemSelected]:m.drawerItem,onClick:function(){u(!1),F(2)},divider:!0,button:!0,component:D.b,to:"/waitingr",selected:2===T,children:Object(k.jsx)(C.a,{disableTypography:!0,children:"Awaiting Reschedule "})}),Object(k.jsx)(S.a,{className:3===T?[m.drawerItem,m.draweItemSelected]:m.drawerItem,onClick:function(){u(!1),F(3)},divider:!0,button:!0,component:D.b,to:"/invalidp",selected:3===T,children:Object(k.jsx)(C.a,{disableTypography:!0,children:"Invalid Phone"})}),Object(k.jsx)(S.a,{className:4===T?[m.drawerItem,m.draweItemSelected]:m.drawerItem,onClick:function(){u(!1),F(4)},divider:!0,button:!0,component:D.b,to:"/all",selected:4===T,children:Object(k.jsx)(C.a,{disableTypography:!0,children:"All Shipments"})}),Object(k.jsx)(S.a,{className:4===T?[m.drawerItem,m.draweItemSelected]:m.drawerItem,onClick:function(){u(!1),F(4)},divider:!0,button:!0,component:D.b,to:"/return",selected:4===T,children:Object(k.jsx)(C.a,{disableTypography:!0,children:"To Return"})}),Object(k.jsx)(S.a,{className:m.drawerItem,onClick:function(){return u(!1)},divider:!0,button:!0,component:D.b,to:"/",selected:5===T,children:Object(k.jsxs)(l.a,{className:m.button,endIcon:Object(k.jsx)(p.a,{}),color:"inherit",onClick:function(){sessionStorage.clear(),localStorage.clear(),window.location.href="/"},children:[" ","Log out"]})})]})]}),Object(k.jsx)(y.a,{className:m.drawerIconContainer,onClick:function(){return u(!c)},disableRipple:!0,children:Object(k.jsx)(A.a,{className:m.drawerIcon})})]});return Object(k.jsxs)(o.a.Fragment,{children:[Object(k.jsx)(B,{children:Object(k.jsx)(s.a,{className:m.appbar,children:Object(k.jsxs)(d.a,{disableGutters:!0,children:[Object(k.jsx)("img",{src:O.a,className:m.logo,alt:"mahmool logo"}),P?L:R]})})}),Object(k.jsx)("div",{className:m.toolbarMargin})]})}}).call(this,n(130))},188:function(e,t){},269:function(e,t){},270:function(e,t){},271:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),i=n.n(c),o=n(4),s=n(2),l=n(8),d=n(300),u=n(127),j=n(147),b=n(322),h=n.p+"static/media/shiptop.46b6b0db.jpg",m=n(297),p=n(15),O=n.n(p),D={API_ROOT:"http://3.88.142.246:5001"},g=n(1),f=Object(m.a)((function(e){var t;return{h2:{color:"white"},carStyle:{backgroundPosition:"center",backgroundSize:"fill",backgroundRepeat:"no-repeat",height:"55em"},logo:(t={height:"6em"},Object(l.a)(t,e.breakpoints.down("md"),{height:"5em"}),Object(l.a)(t,e.breakpoints.down("xs"),{height:"4.5em"}),t),spacing:{marginTop:"2em"}}}));function x(e){var t=e.setToken,n=e.setUserId,r=e.setUserType,c=f(),i=Object(a.useState)(""),l=Object(s.a)(i,2),m=l[0],p=l[1],x=Object(a.useState)(""),A=Object(s.a)(x,2),v=A[0],y=A[1];return Object(g.jsxs)(d.a,{container:!0,direction:"row",style:{backgroundColor:"#82c0d9"},children:[Object(g.jsxs)(d.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},lg:4,xl:3,children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)("img",{src:"data:image/png;base64,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",className:c.logo,alt:"shiptop logo"})}),Object(g.jsx)(d.a,{item:!0,className:c.h2,children:Object(g.jsx)(u.a,{variant:"h2",children:"Login"})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{label:"Username",id:"username",onChange:function(e){return p(e.target.value)}})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{type:"password",label:"Password",id:"pafssword",onChange:function(e){return y(e.target.value)}})}),Object(g.jsxs)(d.a,{item:!0,className:c.h2,children:[Object(g.jsx)(j.a,{variant:"contained",color:"primary",className:c.spacing,onClick:function(){var e={email:m,password:v};console.log(e),O.a.post("".concat(D.API_ROOT,"/api/user/signIn"),Object(o.a)({},e)).then((function(e){console.log(e),"ACC DOESN't EXIST"!==e.data.status&&(t("12312"),n(e.data.employeeID),r(e.data.role))})).catch((function(e){console.log(e)}))},children:"Log in"}),Object(g.jsxs)("p",{children:["Don't you have an account? ",Object(g.jsx)("br",{}),Object(g.jsx)("a",{href:"/signup",children:"Sign Up here"})]})]})]}),Object(g.jsx)(d.a,{container:!0,className:c.carStyle,lg:8,xl:9,children:Object(g.jsx)("img",{src:h,className:c.carStyle,alt:"shiptop pack"})})]})}var A=n(316),v=n(27),y=n(42),w=n(190),S=Object(w.a)({palette:{common:{mahmoolBlue:"#29467f"},primary:{main:"#82c0d9"},secondary:{main:"#29467f"},typography:{h5:{color:"white"},tab:{fontFamily:"Raleway",textTransform:"none",fontWeight:"700",fontSize:"1rem"}}}}),C=n(184),N=n.p+"static/media/car.ea1e80e2.png",k=Object(m.a)((function(e){var t;return{h2:{color:"white"},carStyle:{backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",height:"55em"},logo:(t={height:"6em"},Object(l.a)(t,e.breakpoints.down("md"),{height:"5em"}),Object(l.a)(t,e.breakpoints.down("xs"),{height:"4.5em"}),t),spacing:{marginTop:"2em"}}}));function B(){var e=k(),t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(""),o=Object(s.a)(i,2),l=o[0],h=o[1],m=Object(a.useState)(""),p=Object(s.a)(m,2),f=p[0],x=p[1],A=Object(a.useState)(""),v=Object(s.a)(A,2),y=v[0],w=v[1];return Object(g.jsxs)(d.a,{container:!0,direction:"row",style:{backgroundColor:"#29467f"},children:[Object(g.jsx)(d.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},lg:4,xl:3,children:Object(g.jsx)(d.a,{item:!0,children:Object(g.jsxs)(d.a,{container:!0,direction:"column",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)("img",{src:"data:image/png;base64,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",className:e.logo,alt:"shiptop logo"})}),Object(g.jsxs)(d.a,{item:!0,className:e.h2,children:[Object(g.jsx)(u.a,{variant:"h2",children:"Sign up"}),0==localStorage.isAuthenticated?Object(g.jsx)(u.a,{variant:"h5",children:y}):1==localStorage.isAuthenticated?Object(g.jsx)(u.a,{variant:"h5",children:"Success!"}):""]}),Object(g.jsx)(d.a,{item:!0,className:e.h2,children:Object(g.jsx)(b.a,{label:"Username",id:"username",onChange:function(e){return c(e.target.value)}})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{label:"Email",id:"email",onChange:function(e){return x(e.target.value)}})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{color:"white",type:"password",label:"Password",id:"password",onChange:function(e){return h(e.target.value)}})}),Object(g.jsxs)(d.a,{item:!0,className:e.h2,children:[Object(g.jsx)(j.a,{variant:"contained",color:"white",className:e.spacing,onClick:function(){var e={username:r,email:f,password:l};O.a.post("".concat(D.API_ROOT,"/signup"),{payload:e}).then((function(e){!0===e.data.success?(localStorage.token=e.data.token,localStorage.isAuthenticated=1,window.location.href="/"):(w(e.data.message),localStorage.isAuthenticated=0)})).catch((function(e){console.log(e)}))},children:"Signup"}),Object(g.jsxs)("p",{children:["Do you have an account? ",Object(g.jsx)("br",{}),Object(g.jsx)("a",{style:{color:"#82c0d9"},href:"/",children:"Sign in here"})]})]})]})})}),Object(g.jsx)(d.a,{container:!0,className:e.carStyle,lg:2,children:Object(g.jsx)("img",{src:N,className:e.carStyle,alt:"shiptop car"})})]})}var I=n(14),P=n(10),_=n(7),E=n.n(_),T=n(5),F=n(30),H=n(311),R=n(312),L=n(307),M=n(310),q=n(308),W=n(326),U=n(309),z=n(324),X=n(198),V=n(193),K=n(320),Y=n(159),Q=n(325),Z=n(314),G=n(315),J=n(28),$=n.n(J),ee=O.a.create({baseURL:"http://localhost:5001"}),te=n(321),ne=n(117),ae=n.n(ne),re=n(63),ce=n.n(re),ie=n(64),oe=n.n(ie),se=Object(m.a)((function(e){return{tableCell:{width:130,height:40},input:{width:130,height:40},inputLarge:{width:140,height:40}}}));function le(e){var t=se(),n=e.row,a=e.name,r=e.placeholder,c=e.onInputChange,i=n.isEditMode;return Object(g.jsx)(L.a,{align:"right",className:"destination_phone"===a?Object(o.a)({},t.inputLarge):Object(o.a)({},t.tableCell),children:i?Object(g.jsx)(b.a,{variant:"standard",value:n[a],name:a,type:"text",placeholder:r||"",inputProps:{style:{textAlign:"right"}},onChange:function(e){c(e,n)},classes:"destination_phone"===a?Object(o.a)({},t.inputLarge):Object(o.a)({},t.tableCell)},"".concat(n.id)):n[a]||"-"})}var de=n(319);function ue(e){return Object(g.jsx)(de.a,Object(o.a)({elevation:6,variant:"filled"},e))}function je(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function be(e,t){return"desc"===e?function(e,n){return je(e,n,t)}:function(e,n){return-je(e,n,t)}}function he(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var me=[{id:"reference_number",numeric:!1,disablePadding:!0,label:"AWB"},{id:"aging",numeric:!0,disablePadding:!1,label:"aging"},{id:"locationChatbot",numeric:!0,disablePadding:!1,label:"Chatbot"},{id:"destinationPhone",numeric:!0,disablePadding:!1,label:"Customer Phone"},{id:"destinationName",numeric:!0,disablePadding:!1,label:"Customer Name"},{id:"destinationCity",numeric:!0,disablePadding:!1,label:"Destination City"},{id:"hubcode",numeric:!0,disablePadding:!1,label:"HUB code"},{id:"origin",numeric:!0,disablePadding:!1,label:"Origin"}];function pe(e){var t=e.classes,n=e.onSelectAllClick,a=e.order,r=e.orderBy,c=e.numSelected,i=e.rowCount,o=e.onRequestSort;return Object(g.jsx)(q.a,{children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(L.a,{padding:"checkbox",children:Object(g.jsx)(K.a,{indeterminate:c>0&&c<i,checked:i>0&&c===i,onChange:n,inputProps:{"aria-label":"select all shipments"}})}),Object(g.jsx)(L.a,{className:t.tableCell,children:"Action"},"action"),me.map((function(e){return Object(g.jsx)(L.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&a,children:Object(g.jsxs)(z.a,{active:r===e.id,direction:r===e.id?a:"asc",onClick:(n=e.id,function(e){o(e,n)}),children:[e.label,r===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===a?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))]})})}var Oe=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.f)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),De=function(e){var t=Oe(),n=e.numSelected;return Object(g.jsxs)(X.a,{className:Object(T.a)(t.root,Object(l.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Shipments"}),n>0?Object(g.jsx)(Q.a,{title:"",children:Object(g.jsxs)(d.a,{container:!0,spacing:3,children:[Object(g.jsx)(j.a,{variant:"contained",color:"secondary",children:"Request Location"}),Object(g.jsx)(j.a,{variant:"contained",children:"Export"})]})}):Object(g.jsx)(Q.a,{title:"Filter list",children:Object(g.jsx)(Y.a,{"aria-label":"filter list",children:Object(g.jsx)($.a,{})})})]})},ge=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableCell:{width:130,height:40},input:{width:130,height:40},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function fe(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=ge(),d=r.a.useState("asc"),u=Object(s.a)(d,2),j=u[0],b=u[1],h=r.a.useState("calories"),m=Object(s.a)(h,2),p=m[0],O=m[1],f=r.a.useState([]),x=Object(s.a)(f,2),A=x[0],v=x[1],y=r.a.useState(0),w=Object(s.a)(y,2),S=w[0],C=w[1],N=r.a.useState(!1),k=Object(s.a)(N,2),B=k[0],_=k[1],T=r.a.useState(5),F=Object(s.a)(T,2),q=F[0],z=F[1],X=q-Math.min(q,n.length-S*q),Q=function(){var e=Object(P.a)(E.a.mark((function e(){var t,n,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("token"),e.next=3,ee.get("/invalidp",{headers:{Authorization:"Bearer ".concat(t)}});case 3:n=e.sent,a=n.data,r=[],Array.isArray(a)&&(r=a.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{id:"sh_".concat(e.reference_number),isEditMode:!1})}))),c(Object(I.a)(r));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Q()}),[]);J=n[0];var J,$,ne,re,ie,se,de,je,me=r.a.useState({open:!1,message:""}),Oe=Object(s.a)(me,2),fe=Oe[0],xe=Oe[1],Ae=function(e,t){"clickaway"!==t&&xe({open:!1,message:""})},ve=r.a.useState({}),ye=Object(s.a)(ve,2),we=ye[0],Se=ye[1],Ce=function(){var e=Object(P.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.post("".concat(D.API_ROOT,"/invalidp/").concat(t.reference_number),{destination_phone:t.destination_phone});case 2:n=e.sent,200!==(a=n.data).statusCode&&xe({open:!0,message:a.message});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(e,t){var a=n.filter((function(t){return t.id==e}))[0];"Save"==t&&""==a.destination_phone?xe({open:!0,message:"Destination Phone is not allowed to be empty"}):"Save"==t&&null==a.destination_phone.match(/^\9665(\d{8})$/)?xe({open:!0,message:"Destination Phone must be in format of 9665XXXXXXXX"}):(c((function(t){return n.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{isEditMode:!t.isEditMode}):t}))})),"Save"==t&&(Ce(Object(o.a)({},a)),Se([])))};return Object(g.jsxs)("div",{className:i.root,children:[Object(g.jsxs)(V.a,{className:i.paper,children:[Object(g.jsx)(De,{numSelected:A.length}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(H.a,{className:i.table,"aria-labelledby":"tableTitle",size:B?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(pe,{classes:i,numSelected:A.length,order:j,orderBy:p,onSelectAllClick:function(e){if(e.target.checked){var t=n.map((function(e){return e.reference_number}));v(t)}else v([])},onRequestSort:function(e,t){b(p===t&&"asc"===j?"desc":"asc"),O(t)},rowCount:n.length}),Object(g.jsxs)(R.a,{children:[he(n,be(j,p)).slice(S*q,S*q+q).map((function(e,t){var a=function(e){return-1!==A.indexOf(e)}(e.reference_number),r="enhanced-table-checkbox-".concat(t);return Object(g.jsxs)(U.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(g.jsx)(L.a,{padding:"checkbox",children:Object(g.jsx)(K.a,{onChange:function(t){return function(e,t){var n=A.indexOf(t),a=[];-1===n?a=a.concat(A,t):0===n?a=a.concat(A.slice(1)):n===A.length-1?a=a.concat(A.slice(0,-1)):n>0&&(a=a.concat(A.slice(0,n),A.slice(n+1))),v(a)}(0,e.reference_number)},checked:a,inputProps:{"aria-labelledby":r}})}),Object(g.jsx)(L.a,{children:e.isEditMode?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Y.a,{"aria-label":"done",onClick:function(){return Ne(e.id,"Save")},children:Object(g.jsx)(ce.a,{})}),Object(g.jsx)(Y.a,{"aria-label":"revert",onClick:function(){return function(e){var t=n.map((function(t){return t.id===e?we[e]?Object(o.a)(Object(o.a)({},we[e]),{},{isEditMode:!1}):Object(o.a)(Object(o.a)({},t),{},{isEditMode:!1}):t}));c(Object(I.a)(t)),Se((function(t){return delete t[e],t}))}(e.id)},children:Object(g.jsx)(oe.a,{})})]}):Object(g.jsx)(Y.a,{"aria-label":"delete",onClick:function(){return Ne(e.id,"Edit")},children:Object(g.jsx)(ae.a,{})})},"action"),Object(g.jsx)(L.a,{component:"th",id:r,scope:"row",padding:"none",children:e.reference_number}),Object(g.jsx)(L.a,{align:"right",children:e.aging}),Object(g.jsx)(L.a,{align:"right",children:e.service_type}),Object(g.jsx)(le,{row:Object(o.a)({},e),placeholder:"9665XXXXXXXX",name:"destination_phone",onInputChange:function(e,t){return function(e,t){we[t.id]||Se((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},t.id,t))}));var a=e.target.value,r=e.target.name,i=t.id,s=n.map((function(e){return e.id===i?Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},r,a)):e}));c(Object(I.a)(s))}(e,t)}}),Object(g.jsx)(L.a,{align:"right",children:e.destination_name}),Object(g.jsx)(L.a,{align:"right",children:e.destination_city}),Object(g.jsx)(L.a,{align:"right",children:e.hub_code}),Object(g.jsx)(L.a,{align:"right",children:e.origin_name})]},e.reference_number)})),X>0&&Object(g.jsx)(U.a,{style:{height:(B?33:53)*X},children:Object(g.jsx)(L.a,{colSpan:6})})]})]})}),Object(g.jsx)(W.a,{rowsPerPageOptions:[5,10,25],component:"div",count:n.length,rowsPerPage:q,page:S,onChangePage:function(e,t){C(t)},onChangeRowsPerPage:function(e){z(parseInt(e.target.value,10)),C(0)}})]}),Object(g.jsx)(te.a,{open:fe.open,autoHideDuration:3e3,onClose:Ae,children:Object(g.jsx)(ue,{onClose:Ae,severity:"error",children:fe.message})}),Object(g.jsx)(Z.a,{control:Object(g.jsx)(G.a,{checked:B,onChange:function(e){_(e.target.checked)}}),label:"Dense padding"})]})}var xe=n(65),Ae=n.n(xe);function ve(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function ye(e,t){return"desc"===e?function(e,n){return ve(e,n,t)}:function(e,n){return-ve(e,n,t)}}function we(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var Se=[{id:"reference_number",numeric:!1,disablePadding:!0,label:"AWB"},{id:"destination_address_line_1",numeric:!0,disablePadding:!1,label:"Address"},{id:"status",numeric:!1,disablePadding:!1,label:"Status"},{id:"UpdatedAt",numeric:!1,disablePadding:!1,label:"Updated At"},{id:"service type",numeric:!0,disablePadding:!1,label:"Service Type"},{id:"destinationphone",numeric:!0,disablePadding:!1,label:"Custmer Phone"},{id:"destinationName",numeric:!0,disablePadding:!1,label:"Destination Name"},{id:"estinationCity",numeric:!0,disablePadding:!1,label:"Destination City"},{id:"hub_code",numeric:!0,disablePadding:!1,label:"HUB Code"},{id:"origin_name",numeric:!0,disablePadding:!1,label:"Origin"}];function Ce(e){var t=e.classes,n=e.onSelectAllClick,a=e.order,r=e.orderBy,c=e.numSelected,i=e.rowCount,o=e.onRequestSort;return Object(g.jsx)(q.a,{children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(L.a,{padding:"checkbox",children:Object(g.jsx)(K.a,{indeterminate:c>0&&c<i,checked:i>0&&c===i,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),Se.map((function(e){return Object(g.jsx)(L.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&a,children:Object(g.jsxs)(z.a,{active:r===e.id,direction:r===e.id?a:"asc",onClick:(n=e.id,function(e){o(e,n)}),children:[e.label,r===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===a?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))]})})}var Ne=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.f)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),ke=function(e){var t=Ne(),n=e.numSelected;return Object(g.jsxs)(X.a,{className:Object(T.a)(t.root,Object(l.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Shipments"}),n>0?Object(g.jsx)(Q.a,{title:"",children:Object(g.jsxs)(d.a,{container:!0,spacing:3,children:[Object(g.jsx)(j.a,{variant:"contained",color:"secondary",children:"Request Location"}),Object(g.jsx)(j.a,{variant:"contained",children:"Export"})]})}):Object(g.jsx)(Q.a,{title:"Filter list",children:Object(g.jsx)(Y.a,{"aria-label":"filter list",children:Object(g.jsx)($.a,{})})})]})},Be=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Ie(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Be(),o=r.a.useState("asc"),l=Object(s.a)(o,2),d=l[0],u=l[1],j=r.a.useState("aging"),b=Object(s.a)(j,2),h=b[0],m=b[1],p=r.a.useState([]),O=Object(s.a)(p,2),D=O[0],f=O[1],x=r.a.useState(0),A=Object(s.a)(x,2),v=A[0],y=A[1],w=r.a.useState(!1),S=Object(s.a)(w,2),C=S[0],N=S[1],k=r.a.useState(300),B=Object(s.a)(k,2),I=B[0],_=B[1],T=function(e,t){var n=D.indexOf(t),a=[];-1===n?a=a.concat(D,t):0===n?a=a.concat(D.slice(1)):n===D.length-1?a=a.concat(D.slice(0,-1)):n>0&&(a=a.concat(D.slice(0,n),D.slice(n+1))),f(a)},F=I-Math.min(I,n.length-v*I),q=function(){var e=Object(P.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("token"),e.next=3,ee.get("/return",{headers:{Authorization:"Bearer ".concat(t)}});case 3:n=e.sent,a=n.data,c(a),console.log(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){q()}),[]);var z,X,Y,Q,J,$,te,ne,ae,re;z=n[0];return Object(g.jsxs)("div",{className:i.root,children:[Object(g.jsxs)(V.a,{className:i.paper,children:[Object(g.jsx)(ke,{numSelected:D.length}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(H.a,{className:i.table,"aria-labelledby":"tableTitle",size:C?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(Ce,{classes:i,numSelected:D.length,order:d,orderBy:h,onSelectAllClick:function(e){if(e.target.checked){var t=n.map((function(e){return e.awb}));f(t)}else f([])},onRequestSort:function(e,t){u(h===t&&"asc"===d?"desc":"asc"),m(t)},rowCount:n.length}),Object(g.jsxs)(R.a,{children:[we(n,ye(d,h)).slice(v*I,v*I+I).map((function(e,t){var n,a=(n=e.awb,-1!==D.indexOf(n)),r="enhanced-table-checkbox-".concat(t);return Object(g.jsxs)(U.a,{hover:!0,onClick:function(t){return T(0,e.awb)},role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(g.jsx)(L.a,{padding:"checkbox",children:Object(g.jsx)(K.a,{onChange:function(t){return T(0,e.reference_number)},checked:a,inputProps:{"aria-labelledby":r}})}),Object(g.jsx)(L.a,{component:"th",id:r,scope:"row",padding:"none",children:e.reference_number||"-"}),Object(g.jsx)(L.a,{align:"right",children:e.destination_address_line_1||"-"}),Object(g.jsx)(L.a,{align:"right",children:e.status||"-"})," ",Object(g.jsx)(L.a,{align:"right",children:e.updatedAt?Ae()(e.updatedAt).format("yyyy-MM-DD"):"-"}),Object(g.jsx)(L.a,{align:"right",children:e.service_type||"-"}),Object(g.jsx)(L.a,{align:"right",children:e.destination_phone||"-"}),Object(g.jsx)(L.a,{align:"right",children:e.destination_name||"-"}),Object(g.jsx)(L.a,{align:"right",children:e.destination_city||"-"}),Object(g.jsx)(L.a,{align:"right",children:e.hub_code||"-"}),Object(g.jsx)(L.a,{align:"right",children:e.origin_name||"-"})]},e.awb)})),F>0&&Object(g.jsx)(U.a,{style:{height:(C?33:53)*F},children:Object(g.jsx)(L.a,{colSpan:6})})]})]})}),Object(g.jsx)(W.a,{rowsPerPageOptions:[100,200,300],component:"div",count:n.length,rowsPerPage:I,page:v,onChangePage:function(e,t){y(t)},onChangeRowsPerPage:function(e){_(parseInt(e.target.value,10)),y(0)}})]}),Object(g.jsx)(Z.a,{control:Object(g.jsx)(G.a,{checked:C,onChange:function(e){N(e.target.checked)}}),label:"Dense padding"})]})}var Pe=n(37),_e=n.n(Pe),Ee=n(323),Te=n(142),Fe=n(303),He=n(313),Re=n(318),Le=n(201),Me=n(9),qe=Object(Me.a)((function(e){return{root:{"label + &":{marginTop:e.spacing(3)}},input:{borderRadius:4,position:"relative",backgroundColor:e.palette.background.paper,border:"1px solid #ced4da",fontSize:16,padding:"10px 26px 10px 12px",transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:focus":{borderRadius:4,borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"}}}}))(Le.a),We=Object(m.a)((function(e){return{margin:{margin:e.spacing(1)}}}));function Ue(e){var t=e.handleFilters,n=We(),c=r.a.useState("DMM"),i=Object(s.a)(c,2),o=i[0],l=i[1],d=r.a.useState(null),u=Object(s.a)(d,2),j=u[0],b=u[1];Object(a.useEffect)((function(){h(j,o)}),[]);var h=Object(a.useCallback)(Object(Te.debounce)((function(e,n){return t(e,n)}),599),[]);return Object(g.jsxs)("div",{children:[Object(g.jsxs)(Fe.a,{className:n.margin,children:[Object(g.jsx)(Ee.a,{htmlFor:"textbox",children:"Shipment Search"}),Object(g.jsx)(qe,{value:j,placeholder:"Search here...",onChange:function(e){b(e.target.value),h(e.target.value,o)},id:"textbox"})]}),Object(g.jsxs)(Fe.a,{className:n.margin,children:[Object(g.jsx)(Ee.a,{id:"demo-customized-select-label",children:"Filter"}),Object(g.jsxs)(Re.a,{labelId:"demo-customized-select-label",id:"demo-customized-select",placeholder:"Select Hub code",value:o,onChange:function(e){l(e.target.value),h(j,e.target.value)},input:Object(g.jsx)(qe,{}),children:[Object(g.jsx)(He.a,{value:"ALL",children:Object(g.jsx)("em",{children:"All"})}),Object(g.jsx)(He.a,{value:"DMM",children:"DMM "}),Object(g.jsx)(He.a,{value:"RUH",children:"RUH"})]})]})]})}function ze(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Xe(e,t){return"desc"===e?function(e,n){return ze(e,n,t)}:function(e,n){return-ze(e,n,t)}}function Ve(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var Ke=[{id:"awb",numeric:!1,disablePadding:!0,label:"AWB"},{id:"coord",numeric:!1,disablePadding:!1,label:"Coord",sort:!1},{id:"status",numeric:!1,disablePadding:!1,label:"Status"},{id:"destinationPhone",numeric:!0,disablePadding:!1,label:"Customer Phone"},{id:"destinationName",numeric:!0,disablePadding:!1,label:"Customer Name"},{id:"destinationCity",numeric:!0,disablePadding:!1,label:"Destination City"},{id:"hubcode",numeric:!0,disablePadding:!1,label:"HUB Code"},{id:"pickuptime",numeric:!0,disablePadding:!1,label:"Picked At"},{id:"origin",numeric:!0,disablePadding:!1,label:"Origin"},{id:"address",numeric:!0,disablePadding:!1,label:"Adress"}];function Ye(e){var t=e.classes,n=e.onSelectAllClick,a=e.order,r=e.orderBy,c=e.numSelected,i=e.rowCount,o=e.onRequestSort;return Object(g.jsx)(q.a,{children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(L.a,{padding:"checkbox",children:Object(g.jsx)(K.a,{indeterminate:c>0&&c<i,checked:i>0&&c===i,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),Object(g.jsx)(L.a,{className:t.tableCell,children:"Action"},"action"),Ke.map((function(e){return Object(g.jsx)(L.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&a,children:Object(g.jsxs)(z.a,{active:r===e.id,direction:r===e.id?a:"asc",onClick:(n=e.id,function(e){o(e,n)}),children:[e.label,r===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===a?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))]})})}var Qe=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.f)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Ze=function(e){var t=Qe(),n=e.numSelected;return Object(g.jsxs)(X.a,{className:Object(T.a)(t.root,Object(l.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Shipments"}),n>0?Object(g.jsx)(Q.a,{title:"",children:Object(g.jsxs)(d.a,{container:!0,spacing:3,children:[Object(g.jsx)(j.a,{variant:"contained",color:"secondary",children:"Request Location"}),Object(g.jsx)(j.a,{variant:"contained",children:"Export"})]})}):Object(g.jsx)(Q.a,{title:"Filter list",children:Object(g.jsx)(Y.a,{"aria-label":"filter list",children:Object(g.jsx)($.a,{})})})]})},Ge=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Je(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Ge(),d=r.a.useState("asc"),u=Object(s.a)(d,2),j=u[0],b=u[1],h=r.a.useState("awb"),m=Object(s.a)(h,2),p=m[0],O=m[1],f=r.a.useState([]),x=Object(s.a)(f,2),A=x[0],v=x[1],y=r.a.useState(0),w=Object(s.a)(y,2),S=w[0],C=w[1],N=r.a.useState(!1),k=Object(s.a)(N,2),B=k[0],_=k[1],T=r.a.useState(100),F=Object(s.a)(T,2),q=F[0],z=F[1],X=q-Math.min(q,n.length-S*q),Q=function(){var e=Object(P.a)(E.a.mark((function e(t,n){var a,r,i,s,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sessionStorage.getItem("token"),r=_e.a.stringify({searchQuery:t,hub_code:"ALL"===n?"":n},{skipEmptyString:!0,skipNull:!0}),e.next=4,ee.get("".concat(D.API_ROOT,"/waitingl").concat(r?"?".concat(r):""),{headers:{Authorization:"Bearer ".concat(a)}});case 4:i=e.sent,s=i.data,l=[],Array.isArray(s)&&(l=s.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{id:"sh_".concat(e.reference_number),coord:e.locations&&e.locations.length>0?e.locations[0].coord:null,isEditMode:!1})}))),c(Object(I.a)(l));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Q()}),[]);J=n[0];var J,$,ne,re,ie,se,de,je,be,he,me=r.a.useState({open:!1,message:""}),pe=Object(s.a)(me,2),Oe=pe[0],De=pe[1],ge=function(e,t){"clickaway"!==t&&De({open:!1,message:""})},fe=r.a.useState({}),xe=Object(s.a)(fe,2),Ae=xe[0],ve=xe[1],ye=function(){var e=Object(P.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.post("".concat(D.API_ROOT,"/newlocation"),{reference_number:t.reference_number,coord:t.coord});case 2:n=e.sent,200!==(a=n.data).statusCode&&De({open:!0,message:a.message});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(e,t){var a=n.filter((function(t){return t.id==e}))[0];"Save"!=t||a.coord?(c((function(t){return n.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{isEditMode:!t.isEditMode}):t}))})),"Save"==t&&(ye(Object(o.a)({},a)),ve([]))):De({open:!0,message:"Coord is not allowed to be empty"})};return Object(g.jsxs)("div",{className:i.root,children:[Object(g.jsx)(Ue,{handleFilters:function(e,t){return Q(e,t)}}),Object(g.jsxs)(V.a,{className:i.paper,children:[Object(g.jsx)(Ze,{numSelected:A.length,data:n,selectedRows:Object(I.a)(A)}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(H.a,{className:i.table,"aria-labelledby":"tableTitle",size:B?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(Ye,{classes:i,numSelected:A.length,order:j,orderBy:p,onSelectAllClick:function(e){if(e.target.checked){var t=n.map((function(e){return e.awb}));v(t)}else v([])},onRequestSort:function(e,t){b(p===t&&"asc"===j?"desc":"asc"),O(t)},rowCount:n.length}),Object(g.jsxs)(R.a,{children:[Ve(n,Xe(j,p)).slice(S*q,S*q+q).map((function(e,t){var a,r=(a=e.awb,-1!==A.indexOf(a)),i="enhanced-table-checkbox-".concat(t);return Object(g.jsxs)(U.a,{hover:!0,role:"checkbox","aria-checked":r,tabIndex:-1,children:[Object(g.jsx)(L.a,{padding:"checkbox",children:Object(g.jsx)(K.a,{checked:r,onChange:function(t){return function(e,t){var n=A.indexOf(t),a=[];-1===n?a=a.concat(A,t):0===n?a=a.concat(A.slice(1)):n===A.length-1?a=a.concat(A.slice(0,-1)):n>0&&(a=a.concat(A.slice(0,n),A.slice(n+1))),v(a)}(0,e.awb)},inputProps:{"aria-labelledby":i}})}),Object(g.jsx)(L.a,{children:e.isEditMode?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Y.a,{"aria-label":"done",onClick:function(){return we(e.id,"Save")},children:Object(g.jsx)(ce.a,{})}),Object(g.jsx)(Y.a,{"aria-label":"revert",onClick:function(){return function(e){var t=n.map((function(t){return t.id===e?Ae[e]?Object(o.a)(Object(o.a)({},Ae[e]),{},{isEditMode:!1}):Object(o.a)(Object(o.a)({},t),{},{isEditMode:!1}):t}));c(Object(I.a)(t)),ve((function(t){return delete t[e],t}))}(e.id)},children:Object(g.jsx)(oe.a,{})})]}):Object(g.jsx)(Y.a,{"aria-label":"delete",onClick:function(){return we(e.id,"Edit")},children:Object(g.jsx)(ae.a,{})})},"action"),Object(g.jsx)(L.a,{component:"th",id:i,scope:"row",padding:"none",children:e.reference_number}),Object(g.jsx)(le,{row:Object(o.a)({},e),placeholder:"00.00, 00.00",name:"coord",onInputChange:function(e,t){return function(e,t){Ae[t.id]||ve((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},t.id,t))}));var a=e.target.value,r=e.target.name,i=t.id,s=n.map((function(e){return e.id===i?Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},r,a)):e}));c(Object(I.a)(s))}(e,t)}}),Object(g.jsx)(L.a,{align:"right",children:e.status}),Object(g.jsx)(L.a,{align:"right",children:e.destination_phone}),Object(g.jsx)(L.a,{align:"right",children:e.destination_name}),Object(g.jsx)(L.a,{align:"right",children:e.destination_city}),Object(g.jsx)(L.a,{align:"right",children:e.hub_code}),Object(g.jsx)(L.a,{align:"right",children:e.pickup_time}),Object(g.jsx)(L.a,{align:"right",children:e.origin_name}),Object(g.jsx)(L.a,{align:"right",children:e.destination_address_line_1})]},e.awb)})),X>0&&Object(g.jsx)(U.a,{style:{height:(B?33:53)*X},children:Object(g.jsx)(L.a,{colSpan:6})})]})]})}),Object(g.jsx)(W.a,{rowsPerPageOptions:[5,10,25],component:"div",count:n.length,rowsPerPage:q,page:S,onChangePage:function(e,t){C(t)},onChangeRowsPerPage:function(e){z(parseInt(e.target.value,10)),C(0)}})]}),Object(g.jsx)(te.a,{open:Oe.open,autoHideDuration:3e3,onClose:ge,children:Object(g.jsx)(ue,{onClose:ge,severity:"error",children:Oe.message})}),Object(g.jsx)(Z.a,{control:Object(g.jsx)(G.a,{checked:B,onChange:function(e){_(e.target.checked)}}),label:"Dense padding"})]})}var $e=n(189),et=n(61),tt=n(317),nt=Object(m.a)((function(e){return{tableCell:{width:130,height:40},datePicker:{marginTop:"5px !important"},input:{width:130,height:40},inputLarge:{width:140,height:40}}}));function at(e){var t=nt(),n=e.row,a=e.name,r=e.dateFormat,c=e.momentFormat,i=e.onInputChange,o=n.isEditMode;return Object(g.jsx)(L.a,{align:"right",className:t.inputLarge,children:o?Object(g.jsx)(et.a,{utils:$e.a,children:Object(g.jsx)(tt.a,{className:t.datePicker,autoOk:!0,contentEditable:"false",disableToolbar:!0,variant:"inline",format:r,margin:"normal",id:"date-picker-inline",value:n[a],onChange:function(e){return i({target:{name:a,value:e}},n)},KeyboardButtonProps:{"aria-label":"change date"}})}):n[a]?Ae()(n[a]).format(c):"-"})}function rt(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function ct(e,t){return"desc"===e?function(e,n){return rt(e,n,t)}:function(e,n){return-rt(e,n,t)}}function it(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var ot=[{id:"awb",numeric:!1,disablePadding:!0,label:"AWB"},{id:"date",numeric:!1,disablePadding:!1,label:"Date"},{id:"from",numeric:!1,disablePadding:!1,label:"From"},{id:"to",numeric:!1,disablePadding:!1,label:"To"},{id:"destinationPhone",numeric:!0,disablePadding:!1,label:"Customer Phone"},{id:"destinationName",numeric:!0,disablePadding:!1,label:"Customer Name"},{id:"destinationCity",numeric:!0,disablePadding:!1,label:"Destination City"}];function st(e){var t=e.classes,n=e.onSelectAllClick,a=e.order,r=e.orderBy,c=e.numSelected,i=e.rowCount,o=e.onRequestSort;return Object(g.jsx)(q.a,{children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(L.a,{padding:"checkbox",children:Object(g.jsx)(K.a,{indeterminate:c>0&&c<i,checked:i>0&&c===i,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),Object(g.jsx)(L.a,{className:t.tableCell,children:"Action"},"action"),ot.map((function(e){return Object(g.jsx)(L.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&a,children:Object(g.jsxs)(z.a,{active:r===e.id,direction:r===e.id?a:"asc",onClick:(n=e.id,function(e){o(e,n)}),children:[e.label,r===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===a?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))]})})}var lt=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.f)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),dt=function(e){var t=lt(),n=e.numSelected;return Object(g.jsxs)(X.a,{className:Object(T.a)(t.root,Object(l.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Shipments"}),n>0?Object(g.jsx)(Q.a,{title:"",children:Object(g.jsxs)(d.a,{container:!0,spacing:3,children:[Object(g.jsx)(j.a,{variant:"contained",color:"secondary",children:"Request Location"}),Object(g.jsx)(j.a,{variant:"contained",children:"Export"})]})}):Object(g.jsx)(Q.a,{title:"Filter list",children:Object(g.jsx)(Y.a,{"aria-label":"filter list",children:Object(g.jsx)($.a,{})})})]})},ut=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableCell:{width:130,height:40},input:{width:130,height:40},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function jt(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=ut(),d=r.a.useState("asc"),u=Object(s.a)(d,2),j=u[0],b=u[1],h=r.a.useState("aging"),m=Object(s.a)(h,2),p=m[0],O=m[1],f=r.a.useState([]),x=Object(s.a)(f,2),A=x[0],v=x[1],y=r.a.useState(0),w=Object(s.a)(y,2),S=w[0],C=w[1],N=r.a.useState(!1),k=Object(s.a)(N,2),B=k[0],_=k[1],T=r.a.useState(5),F=Object(s.a)(T,2),q=F[0],z=F[1],X=q-Math.min(q,n.length-S*q),Q=function(){var e=Object(P.a)(E.a.mark((function e(){var t,n,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("token"),e.next=3,ee.get("".concat(D.API_ROOT,"/waitingr"),{headers:{Authorization:"Bearer ".concat(t)}});case 3:n=e.sent,a=n.data,r=[],Array.isArray(a)&&(r=a.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{id:"sh_".concat(e.reference_number),isEditMode:!1,date:e.routifics&&e.routifics.length>0?e.routifics[0].date:null,from:e.routifics&&e.routifics.length>0?e.routifics[0].from:null,to:e.routifics&&e.routifics.length>0?e.routifics[0].to:null})}))),c(Object(I.a)(r));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Q()}),[]);J=n[0];var J,$,ne,re,ie,se,de,je,be=r.a.useState({open:!1,message:""}),he=Object(s.a)(be,2),me=he[0],pe=he[1],Oe=function(e,t){"clickaway"!==t&&pe({open:!1,message:""})},De=r.a.useState({}),ge=Object(s.a)(De,2),fe=ge[0],xe=ge[1],ve=function(){var e=Object(P.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.post("".concat(D.API_ROOT,"/newroutific"),Object(o.a)({},t));case 2:n=e.sent,200!==(a=n.data).statusCode&&pe({open:!0,message:a.message});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(e){c((function(t){return n.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{isEditMode:!t.isEditMode}):t}))}))},we=function(e,t){var a=n.filter((function(t){return t.id==e}))[0];"Save"==t?(ye(e),xe([]),ve({from:a.from,date:a.date?Ae()(a.date).format("yyyy-MM-DD h:mm:ss"):"",to:a.to,reference_number:a.reference_number})):ye(e)},Se=function(e,t){fe[t.id]||xe((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},t.id,t))}));var a=e.target.value,r=e.target.name,i=t.id,s=n.map((function(e){return e.id===i?Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},r,a)):e}));c(Object(I.a)(s))};return Object(g.jsxs)("div",{className:i.root,children:[Object(g.jsxs)(V.a,{className:i.paper,children:[Object(g.jsx)(dt,{numSelected:A.length}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(H.a,{className:i.table,"aria-labelledby":"tableTitle",size:B?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(st,{classes:i,numSelected:A.length,order:j,orderBy:p,onSelectAllClick:function(e){if(e.target.checked){var t=n.map((function(e){return e.awb}));v(t)}else v([])},onRequestSort:function(e,t){b(p===t&&"asc"===j?"desc":"asc"),O(t)},rowCount:n.length}),Object(g.jsxs)(R.a,{children:[it(n,ct(j,p)).slice(S*q,S*q+q).map((function(e,t){var a=function(e){return-1!==A.indexOf(e)}(e.awb),r="enhanced-table-checkbox-".concat(t);return Object(g.jsxs)(U.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(g.jsx)(L.a,{padding:"checkbox",children:Object(g.jsx)(K.a,{onChange:function(t){return function(e,t){var n=A.indexOf(t),a=[];-1===n?a=a.concat(A,t):0===n?a=a.concat(A.slice(1)):n===A.length-1?a=a.concat(A.slice(0,-1)):n>0&&(a=a.concat(A.slice(0,n),A.slice(n+1))),v(a)}(0,e.awb)},checked:a,inputProps:{"aria-labelledby":r}})}),Object(g.jsx)(L.a,{children:e.isEditMode?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Y.a,{"aria-label":"done",onClick:function(){return we(e.id,"Save")},children:Object(g.jsx)(ce.a,{})}),Object(g.jsx)(Y.a,{"aria-label":"revert",onClick:function(){return function(e){var t=n.map((function(t){return t.id===e?fe[e]?Object(o.a)(Object(o.a)({},fe[e]),{},{isEditMode:!1}):Object(o.a)(Object(o.a)({},t),{},{isEditMode:!1}):t}));c(Object(I.a)(t)),xe((function(t){return delete t[e],t}))}(e.id)},children:Object(g.jsx)(oe.a,{})})]}):Object(g.jsx)(Y.a,{"aria-label":"delete",onClick:function(){return we(e.id,"Edit")},children:Object(g.jsx)(ae.a,{})})},"action"),Object(g.jsx)(L.a,{component:"th",id:r,scope:"row",padding:"none",children:e.reference_number||"-"}),Object(g.jsx)(at,{row:Object(o.a)({},e),dateFormat:"yyyy-MM-dd",momentFormat:"yyyy-MM-DD",name:"date",onInputChange:function(e,t){return Se(e,t)}}),Object(g.jsx)(le,{row:Object(o.a)({},e),name:"from",onInputChange:function(e,t){return Se(e,t)}}),Object(g.jsx)(le,{row:Object(o.a)({},e),name:"to",onInputChange:function(e,t){return Se(e,t)}}),Object(g.jsx)(L.a,{align:"right",children:e.destination_phone||"-"}),Object(g.jsx)(L.a,{align:"right",children:e.destination_name||"-"}),Object(g.jsx)(L.a,{align:"right",children:e.destination_city||"-"}),Object(g.jsx)(L.a,{align:"right",children:e.origin_name})]},e.awb)})),X>0&&Object(g.jsx)(U.a,{style:{height:(B?33:53)*X},children:Object(g.jsx)(L.a,{colSpan:6})})]})]})}),Object(g.jsx)(W.a,{rowsPerPageOptions:[5,10,25],component:"div",count:n.length,rowsPerPage:q,page:S,onChangePage:function(e,t){C(t)},onChangeRowsPerPage:function(e){z(parseInt(e.target.value,10)),C(0)}})]}),Object(g.jsx)(te.a,{open:me.open,autoHideDuration:3e3,onClose:Oe,children:Object(g.jsx)(ue,{onClose:Oe,severity:"error",children:me.message})}),Object(g.jsx)(Z.a,{control:Object(g.jsx)(G.a,{checked:B,onChange:function(e){_(e.target.checked)}}),label:"Dense padding"})]})}var bt=n(26),ht=n.n(bt),mt=n(34),pt=n.n(mt),Ot=n(38),Dt=n.n(Ot);n(92),n(126);Object(m.a)({Button:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",zIndex:"10"},img:{width:"30px",cursor:"pointer"}});var gt=Object(Me.a)((function(e){return{root:{"label + &":{marginTop:e.spacing(3)}},input:{borderRadius:4,position:"relative",backgroundColor:e.palette.background.paper,border:"1px solid #ced4da",fontSize:16,padding:"10px 26px 10px 12px",transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:focus":{borderRadius:4,borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"}}}}))(Le.a);function ft(e){var t=e.setShips,n=Object(a.useState)(!0),r=Object(s.a)(n,2),c=r[0],i=(r[1],Object(a.useState)({shipmentName:"",category:"",isBreakable:"true",height:"",weight:"",width:"",length:"",description:""})),l=Object(s.a)(i,2),u=l[0],h=(l[1],Object(a.useState)([u])),m=Object(s.a)(h,2),p=m[0],O=m[1];return Object(a.useEffect)((function(){t(Object(I.a)(p))}),[p]),Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(d.a,{container:!0,direction:"column",children:[p.length>0?p.map((function(e,t){return Object(g.jsxs)(d.a,{container:!0,direction:"row",style:{minWidth:"62vw"},spacing:2,children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!c,id:"margin-dense",label:"Name",style:{maxWidth:"8vw"},onChange:function(e){return O((function(n){return n.map((function(n,a){return t===a?Object(o.a)(Object(o.a)({},n),{},{shipmentName:e.target.value}):n}))}))},defaultValue:e.shipmentName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!c,id:"margin-dense",label:"category",onChange:function(e){return O((function(n){return n.map((function(n,a){return t===a?Object(o.a)(Object(o.a)({},n),{},{category:e.target.value}):n}))}))},value:e.category})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsxs)(Fe.a,{children:[Object(g.jsx)(Ee.a,{id:"demo-customized-select-label",children:"Breakable?"}),Object(g.jsxs)(Re.a,{labelId:"demo-customized-select-label",id:"demo-customized-select",value:e.isBreakable,onChange:function(e){return O((function(n){return n.map((function(n,a){return t===a?Object(o.a)(Object(o.a)({},n),{},{isBreakable:e.target.value}):n}))}))},input:Object(g.jsx)(gt,{}),children:[Object(g.jsx)(He.a,{value:"true",children:"true "}),Object(g.jsx)(He.a,{value:"false",children:"false"})]})]})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{style:{maxWidth:"5vw"},inputProps:{inputMode:"numeric",pattern:"[0-9]*"},required:!0,color:"primary",error:!c,id:"margin-dense",label:"height",onChange:function(e){return O((function(n){return n.map((function(n,a){return t===a?Object(o.a)(Object(o.a)({},n),{},{height:e.target.value}):n}))}))},value:e.height})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{style:{maxWidth:"5vw"},inputProps:{inputMode:"numeric",pattern:"[0-9]*"},required:!0,color:"primary",error:!c,id:"margin-dense",label:"width",onChange:function(e){return O((function(n){return n.map((function(n,a){return t===a?Object(o.a)(Object(o.a)({},n),{},{width:e.target.value}):n}))}))},value:e.width})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{style:{maxWidth:"5vw"},inputProps:{inputMode:"numeric",pattern:"[0-9]*"},required:!0,color:"primary",error:!c,id:"margin-dense",label:"weight",onChange:function(e){return O((function(n){return n.map((function(n,a){return t===a?Object(o.a)(Object(o.a)({},n),{},{weight:e.target.value}):n}))}))},value:e.weight})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{style:{maxWidth:"5vw"},inputProps:{inputMode:"numeric",pattern:"[0-9]*"},required:!0,color:"primary",error:!c,id:"margin-dense",label:"length",onChange:function(e){return O((function(n){return n.map((function(n,a){return t===a?Object(o.a)(Object(o.a)({},n),{},{length:e.target.value}):n}))}))},value:e.length})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!c,id:"margin-dense",label:"description",onChange:function(e){return O((function(n){return n.map((function(n,a){return t===a?Object(o.a)(Object(o.a)({},n),{},{description:e.target.value}):n}))}))},value:e.desription})}),Object(g.jsx)(Y.a,{"aria-label":"delete",onClick:function(){return function(e){var t=Object(I.a)(p);t.splice(e,1),O(t)}(t)},children:Object(g.jsx)(Dt.a,{})})]})})):Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",onClick:function(){O((function(e){return[].concat(Object(I.a)(e),[u])}))},children:"New Shipment"})}),p.length>0?Object(g.jsx)(d.a,{item:!0,style:{minHeight:"10vh"},children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",onClick:function(){O((function(e){return[].concat(Object(I.a)(e),[u])}))},children:"New Shipment"})}):Object(g.jsx)(g.Fragment,{})]})})}var xt=n(145),At={position:"absolute",top:"100%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#ffffff",padding:"40px",zIndex:1e3,width:"50%",height:"70%",borderRadius:"1em",display:"inline-table"},vt={position:"fixed",display:"flex",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3,height:"100%",width:"100%",overflowY:"auto"},yt=Object(m.a)({h5:{color:"white"}});function wt(e){var t=e.open,n=e.children,r=e.onClose,c=Object(a.useState)(!0),o=Object(s.a)(c,2),l=o[0],h=(o[1],Object(a.useState)("")),m=Object(s.a)(h,2),p=m[0],f=m[1],x=Object(a.useState)(""),A=Object(s.a)(x,2),v=A[0],y=A[1],w=Object(a.useState)("None"),S=Object(s.a)(w,2),C=S[0],N=(S[1],Object(a.useState)(null)),k=Object(s.a)(N,2),B=(k[0],k[1],Object(a.useState)([])),_=Object(s.a)(B,2),T=_[0],F=_[1],H=yt(),R=function(){var e=Object(P.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.stringify({employeeID:sessionStorage.getItem("userId"),location:v,phoneNumber:p,address:C,shipments:Object(I.a)(T)}),console.log(t),O.a.post("".concat(D.API_ROOT,"/api/consignor/createOrder"),t,{headers:{Authorization:"Bearer token","Content-Type":"application/json"}}).then((function(e){console.log(e),"SUCCESS"===e.data.status&&r()})).catch((function(e){Object(xt.a)(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?i.a.createPortal(Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{style:vt}),Object(g.jsxs)("div",{style:At,children:[Object(g.jsxs)(d.a,{container:!0,spacing:1,style:{minWidth:"70vw",minHeight:"100vh"},direction:"column",children:[Object(g.jsx)(d.a,{container:!0,direction:"row",style:{minHeight:"50vh",minWidth:"62vw"},id:"DeliveryDetails",children:Object(g.jsxs)(d.a,{container:!0,spacing:3,direction:"column",alignItems:"left",justify:"top",style:{minHeight:"40vh",minWidth:"62vw"},lg:4,xl:3,children:[Object(g.jsx)(d.a,{style:{minHeight:"10vh"},item:!0,id:"CreateOrder",children:Object(g.jsx)(u.a,{color:"secondary",variant:"h3",children:"Create Order"})}),Object(g.jsx)(d.a,{item:!0,id:"deliveryLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"Delivery Details:"})}),Object(g.jsx)(d.a,{item:!0,id:"deliveryinfo",children:Object(g.jsxs)(d.a,{direction:"column",spacing:4,children:[Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"ContactInfo",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!l,id:"PhoneNumber",label:"Phone Number",onChange:function(e){return f(e.target.value)},value:p})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!l,id:"margin-dense",label:"City",onChange:function(e){return y(e.target.value)},value:v})})]}),Object(g.jsx)(d.a,{container:!0,direction:"row",spacing:2,id:"ConsigneeLocator",children:Object(g.jsx)(d.a,{item:!0,children:C})})]})})]})}),Object(g.jsx)(d.a,{container:!0,style:{minWidth:"70vw"},direction:"row",id:"Shipment Details",children:Object(g.jsxs)(d.a,{container:!0,spacing:3,direction:"column",alignItems:"left",justify:"top",style:{minHeight:"30vh",minWidth:"62vw"},lg:4,xl:3,children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"Shipment Details:"})}),Object(g.jsx)(d.a,{style:{minWidth:"70vw"},item:!0,children:Object(g.jsx)(ft,{setShips:F})})]})}),Object(g.jsxs)(d.a,{container:!0,spacing:2,direction:"row",id:"Buttons",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:H.spacing,onClick:r,sx:{p:2},children:"Cancel"})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:H.spacing,onClick:R,children:"Create Order"})})]})]}),n]})]}),document.getElementById("portal")):null}function St(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Ct(e,t){return"desc"===e?function(e,n){return St(e,n,t)}:function(e,n){return-St(e,n,t)}}function Nt(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}function kt(e,t){var n=".".concat(e),a=new Date,r="routifics_".concat(a.getDate()).concat(a.getMonth()).concat(a.getFullYear(),"_").concat(a.getTime()),c={Sheets:{data:ht.a.utils.json_to_sheet(t)},SheetNames:["data"]},i=ht.a.write(c,{bookType:"".concat(e),type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});pt.a.saveAs(o,r+n)}var Bt=[{id:"reference_number",numeric:!0,disablePadding:!1,label:"Order ID"},{id:"coord",numeric:!1,disablePadding:!1,label:"Total shipments"},{id:"isPaid",numeric:!0,disablePadding:!1,label:"Paid?"}];function It(e){var t=e.classes,n=e.onSelectAllClick,a=e.order,r=e.orderBy,c=e.numSelected,i=e.rowCount,o=e.onRequestSort;return Object(g.jsx)(q.a,{children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(L.a,{padding:"checkbox",children:Object(g.jsx)(K.a,{indeterminate:c>0&&c<i,checked:i>0&&c===i,onChange:n,inputProps:{"aria-label":"select all shipments"}})}),Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Details"},"action"),Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Cancel Order"},"action"),Bt.map((function(e){return Object(g.jsx)(L.a,{align:"center",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&a,children:Object(g.jsxs)(z.a,{active:r===e.id,direction:r===e.id?a:"asc",onClick:(n=e.id,function(e){o(e,n)}),children:[e.label,r===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===a?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))]})})}var Pt=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.f)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},marginL1:{marginLeft:"1rem"},title:{flex:"1 1 100%"}}})),_t=function(e){var t=[];return Array.isArray(e)&&(t=e.map((function(e){return{reference_number:e.reference_number,coord:e.locations&&e.locations.length>0?e.locations[0].coord:null,from:e.routifics&&e.routifics.length>0?e.routifics[0].from:null,to:e.routifics&&e.routifics.length>0?e.routifics[0].to:null,aging:"7",load:null,destination_phone:e.destination_phone,email:null,service_type:e.service_type,priority:"yes",destination_name:e.destination_name,cod_amount:e.cod_amount,customer_reference_number:e.customer_reference_number,whatsapp_link:"http://wa.me/"+e.destination_phone,whatsapp_location:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D8%B1%D8%AC%D9%88%20%D8%A5%D8%B1%D8%B3%D8%A7%D9%84%20%D8%A7%D9%84%D9%84%D9%88%D9%83%D9%8A%D8%B4%D9%86%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20%D8%A8%D8%B1%D9%82%D9%85%20"+e.reference_number,whatsapp_no_answer:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D9%86%D8%A7%20%D9%82%D8%B1%D9%8A%D8%A8%20%D9%85%D9%86%20%D8%A7%D9%84%D9%85%D9%88%D9%82%D8%B9%20%D9%88%D8%AA%D9%85%D8%AA%20%D9%85%D8%AD%D8%A7%D9%88%D9%84%D8%A9%20%D8%A7%D9%84%D8%A7%D8%AA%D8%B5%D8%A7%D9%84%D8%8C%20%D9%86%D8%B1%D8%AC%D9%88%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20"+e.reference_number+"%20%D9%81%D9%8A%20%D8%AD%D8%A7%D9%84%20%D9%84%D9%85%20%D9%8A%D8%AA%D9%85%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%D8%8C%20%D8%B3%D8%AA%D8%AA%D9%85%20%D8%A5%D8%B9%D8%A7%D8%AF%D8%A9%20%D8%A7%D9%84%D8%AC%D8%AF%D9%88%D9%84%D8%A9%20%D9%84%D9%8A%D9%88%D9%85%20%D8%A7%D9%84%D8%B9%D9%85%D9%84%20%D8%A7%D9%84%D9%82%D8%A7%D8%AF%D9%85%D8%8C%20%D9%88%D8%B4%D9%83%D8%B1%D8%A7%D8%8C%0A"}}))),t},Et=function(e){var t=Pt(),n=e.numSelected,r=e.selectedRows,c=(e.data,Object(a.useState)(!1)),i=Object(s.a)(c,2);i[0],i[1];function o(e){return b.apply(this,arguments)}function b(){return b=Object(P.a)(E.a.mark((function e(t){var n,a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/rfdexport"),{reference_number:Object(I.a)(r)});case 2:n=e.sent,a=n.data,c=_t(a),kt(t,c);case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}return Object(g.jsxs)(X.a,{className:Object(T.a)(t.root,Object(l.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Orders"}),n>0?Object(g.jsx)(Q.a,{title:"",children:Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(d.a,{container:!0,children:Object(g.jsx)(j.a,{onClick:Object(P.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("csv");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:t.marginL1,variant:"contained",children:"Export CSV"})})})}):Object(g.jsx)(Q.a,{title:"Filter list",children:Object(g.jsx)(Y.a,{"aria-label":"filter list",children:Object(g.jsx)($.a,{})})})]})},Tt=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},ml1:{marginLeft:"1rem"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Ft(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Tt(),l=r.a.useState("asc"),d=Object(s.a)(l,2),u=d[0],b=d[1],h=r.a.useState("reference_number"),m=Object(s.a)(h,2),p=m[0],f=m[1],x=r.a.useState([]),A=Object(s.a)(x,2),v=A[0],y=A[1],w=r.a.useState(0),S=Object(s.a)(w,2),C=S[0],N=S[1],k=r.a.useState(!1),B=Object(s.a)(k,2),_=B[0],T=B[1],F=r.a.useState(200),q=Object(s.a)(F,2),z=q[0],X=q[1],Q=Object(a.useState)(!1),J=Object(s.a)(Q,2),$=J[0],ee=J[1],ne=z-Math.min(z,n.length-C*z),ae=function(){var e=Object(P.a)(E.a.mark((function e(t,n){var a,r,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=sessionStorage.getItem("token"),r=_e.a.stringify({employeeID:sessionStorage.getItem("userId")},{skipEmptyString:!0,skipNull:!0}),i=[],O.a.get("".concat(D.API_ROOT,"/api/consignor/viewOrders").concat(r?"?".concat(r):""),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e.data),i=e.data;var t=[];console.log("is Array"),Array.isArray(i)&&(t=i.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{id:e.ID,isEditMode:!1})}))),console.log(t),c(Object(I.a)(t))})),console.log(i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ae(),console.log(n)}),[]);re=n[0];var re,ce,ie,oe,se,le,de,je,be,he=r.a.useState({open:!1,message:""}),me=Object(s.a)(he,2),pe=me[0],Oe=me[1],De=function(e,t){"clickaway"!==t&&Oe({open:!1,message:""})},ge=r.a.useState({}),fe=Object(s.a)(ge,2),xe=(fe[0],fe[1]),Ae=function(){var e=Object(P.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/newlocation"),{reference_number:t.reference_number,coord:t.coord});case 2:n=e.sent,200!==(a=n.data).statusCode&&Oe({open:!0,message:a.message});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){}),[]),Object(g.jsxs)("div",{className:i.root,children:[Object(g.jsx)(Ue,{handleFilters:function(e,t){return ae(e,t)}}),Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:i.spacing,onClick:function(){return ee(!0)},children:"add Order"}),Object(g.jsx)(wt,{open:$,onClose:function(){return ee(!1)}}),Object(g.jsxs)(V.a,{className:i.paper,children:[Object(g.jsx)(Et,{numSelected:v.length,data:n,selectedRows:Object(I.a)(v)}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(H.a,{className:i.table,"aria-labelledby":"tableTitle",size:_?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(It,{classes:i,numSelected:v.length,order:u,orderBy:p,onSelectAllClick:function(e){if(e.target.checked){var t=n.map((function(e){return e.ID}));y(t)}else y([])},onRequestSort:function(e,t){b(p===t&&"asc"===u?"desc":"asc"),f(t)},rowCount:n.length}),Object(g.jsxs)(R.a,{children:[Nt(n,Ct(u,p)).slice(C*z,C*z+z).map((function(e,t){var a=function(e){return-1!==v.indexOf(e)}(e.reference_number),r="enhanced-table-checkbox-".concat(t);return Object(g.jsxs)(U.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(g.jsx)(L.a,{padding:"checkbox",children:Object(g.jsx)(K.a,{onChange:function(t){return function(e,t){var n=v.indexOf(t),a=[];-1===n?a=a.concat(v,t):0===n?a=a.concat(v.slice(1)):n===v.length-1?a=a.concat(v.slice(0,-1)):n>0&&(a=a.concat(v.slice(0,n),v.slice(n+1))),y(a)}(0,e.ID)},checked:a,inputProps:{"aria-labelledby":r}})}),Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:i.spacing,onClick:function(){},children:"View"})},"action"),Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(Y.a,{"aria-label":"delete",onClick:function(){return function(e,t){var a=n.filter((function(t){return t.id==e}))[0];"Save"!=t||a.coord?(c((function(t){return n.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{isEditMode:!t.isEditMode}):t}))})),"Save"==t&&(Ae(Object(o.a)({},a)),xe([]))):Oe({open:!0,message:"Coord is not allowed to be empty"})}(e.id,"Edit")},children:Object(g.jsx)(Dt.a,{})})},"action"),Object(g.jsx)(L.a,{component:"th",id:r,scope:"row",padding:"none",align:"center",children:e.ID||"-"}),Object(g.jsx)(L.a,{align:"center",children:e.Total_shipment||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:0===e.isPaid?"no":"yes"})," "]},e.ID)})),ne>0&&Object(g.jsx)(U.a,{style:{height:(_?33:53)*ne},children:Object(g.jsx)(L.a,{colSpan:6})})]})]})}),Object(g.jsx)(W.a,{rowsPerPageOptions:[100,200,300],component:"div",count:n.length,rowsPerPage:z,page:C,onChangePage:function(e,t){N(t)},onChangeRowsPerPage:function(e){X(parseInt(e.target.value,10)),N(0)}})]}),Object(g.jsx)(te.a,{open:pe.open,autoHideDuration:3e3,onClose:De,children:Object(g.jsx)(ue,{onClose:De,severity:"error",children:pe.message})}),Object(g.jsx)(Z.a,{control:Object(g.jsx)(G.a,{checked:_,onChange:function(e){T(e.target.checked)}}),label:"Dense padding"})]})}function Ht(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Rt(e,t){return"desc"===e?function(e,n){return Ht(e,n,t)}:function(e,n){return-Ht(e,n,t)}}function Lt(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var Mt=[{id:"awb",numeric:!1,disablePadding:!0,label:"awb"},{id:"aging",numeric:!0,disablePadding:!1,label:"aging"},{id:"locationChatbot",numeric:!0,disablePadding:!1,label:"Chatbot"},{id:"destinationPhone",numeric:!0,disablePadding:!1,label:"Customer Phone"},{id:"destinationName",numeric:!0,disablePadding:!1,label:"Customer Name"},{id:"destinationCity",numeric:!0,disablePadding:!1,label:"Destination City"},{id:"hubcode",numeric:!0,disablePadding:!1,label:"HUB code"},{id:"origin",numeric:!0,disablePadding:!1,label:"Origin"}];function qt(e){var t=e.classes,n=e.onSelectAllClick,a=e.order,r=e.orderBy,c=e.numSelected,i=e.rowCount,o=e.onRequestSort;return Object(g.jsx)(q.a,{children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(L.a,{padding:"checkbox",children:Object(g.jsx)(K.a,{indeterminate:c>0&&c<i,checked:i>0&&c===i,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),Mt.map((function(e){return Object(g.jsx)(L.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&a,children:Object(g.jsxs)(z.a,{active:r===e.id,direction:r===e.id?a:"asc",onClick:(n=e.id,function(e){o(e,n)}),children:[e.label,r===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===a?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))]})})}var Wt=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.f)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Ut=function(e){var t=Wt(),n=e.numSelected;return Object(g.jsxs)(X.a,{className:Object(T.a)(t.root,Object(l.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Shipments"}),n>0?Object(g.jsx)(Q.a,{title:"",children:Object(g.jsxs)(d.a,{container:!0,spacing:3,children:[Object(g.jsx)(j.a,{variant:"contained",color:"secondary",children:"Request Location"}),Object(g.jsx)(j.a,{variant:"contained",children:"Export"})]})}):Object(g.jsx)(Q.a,{title:"Filter list",children:Object(g.jsx)(Y.a,{"aria-label":"filter list",children:Object(g.jsx)($.a,{})})})]})},zt=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Xt(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=zt(),o=r.a.useState("asc"),l=Object(s.a)(o,2),d=l[0],u=l[1],j=r.a.useState("aging"),b=Object(s.a)(j,2),h=b[0],m=b[1],p=r.a.useState([]),O=Object(s.a)(p,2),D=O[0],f=O[1],x=r.a.useState(0),A=Object(s.a)(x,2),v=A[0],y=A[1],w=r.a.useState(!1),S=Object(s.a)(w,2),C=S[0],N=S[1],k=r.a.useState(5),B=Object(s.a)(k,2),I=B[0],_=B[1],T=I-Math.min(I,n.length-v*I),F=function(){var e=Object(P.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("token"),e.next=3,ee.get("/return",{headers:{Authorization:"Bearer ".concat(t)}});case 3:n=e.sent,a=n.data,c(a),console.log(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){F()}),[]);var q,z,X,Y,Q,J,$,te;q=n[0];return Object(g.jsxs)("div",{className:i.root,children:[Object(g.jsxs)(V.a,{className:i.paper,children:[Object(g.jsx)(Ut,{numSelected:D.length}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(H.a,{className:i.table,"aria-labelledby":"tableTitle",size:C?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(qt,{classes:i,numSelected:D.length,order:d,orderBy:h,onSelectAllClick:function(e){if(e.target.checked){var t=n.map((function(e){return e.awb}));f(t)}else f([])},onRequestSort:function(e,t){u(h===t&&"asc"===d?"desc":"asc"),m(t)},rowCount:n.length}),Object(g.jsxs)(R.a,{children:[Lt(n,Rt(d,h)).slice(v*I,v*I+I).map((function(e,t){var n=function(e){return-1!==D.indexOf(e)}(e.awb),a="enhanced-table-checkbox-".concat(t);return Object(g.jsxs)(U.a,{hover:!0,onClick:function(t){return function(e,t){var n=D.indexOf(t),a=[];-1===n?a=a.concat(D,t):0===n?a=a.concat(D.slice(1)):n===D.length-1?a=a.concat(D.slice(0,-1)):n>0&&(a=a.concat(D.slice(0,n),D.slice(n+1))),f(a)}(0,e.awb)},role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,children:[Object(g.jsx)(L.a,{padding:"checkbox",children:Object(g.jsx)(K.a,{checked:n,inputProps:{"aria-labelledby":a}})}),Object(g.jsx)(L.a,{component:"th",id:a,scope:"row",padding:"none",children:e.reference_number}),Object(g.jsx)(L.a,{align:"right",children:e.aging}),Object(g.jsx)(L.a,{align:"right",children:e.service_type}),Object(g.jsx)(L.a,{align:"right",children:e.destination_phone}),Object(g.jsx)(L.a,{align:"right",children:e.destination_name}),Object(g.jsx)(L.a,{align:"right",children:e.destination_city}),Object(g.jsx)(L.a,{align:"right",children:e.hub_code}),Object(g.jsx)(L.a,{align:"right",children:e.origin_name})]},e.awb)})),T>0&&Object(g.jsx)(U.a,{style:{height:(C?33:53)*T},children:Object(g.jsx)(L.a,{colSpan:6})})]})]})}),Object(g.jsx)(W.a,{rowsPerPageOptions:[5,10,25],component:"div",count:n.length,rowsPerPage:I,page:v,onChangePage:function(e,t){y(t)},onChangeRowsPerPage:function(e){_(parseInt(e.target.value,10)),y(0)}})]}),Object(g.jsx)(Z.a,{control:Object(g.jsx)(G.a,{checked:C,onChange:function(e){N(e.target.checked)}}),label:"Dense padding"})]})}var Vt=function(){return Object(g.jsx)(A.a,{theme:S,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(C.a,{}),Object(g.jsxs)(y.c,{children:[Object(g.jsxs)(y.a,{exact:!0,path:"/",children:[" ",Object(g.jsx)(Ft,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/waitingl",children:[" ",Object(g.jsx)(Je,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/waitingr",children:[" ",Object(g.jsx)(jt,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/invalidp",children:[" ",Object(g.jsx)(fe,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/all",children:[" ",Object(g.jsx)(Ie,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/return",children:[" ",Object(g.jsx)(Xt,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/signup",children:[" ",Object(g.jsx)(B,{})," "]})]})]})})};var Kt={position:"absolute",top:"70%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#ffffff",padding:"40px",zIndex:1e3,width:"50%",height:"70%",borderRadius:"1em",display:"inline-table"},Yt={position:"fixed",display:"flex",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3,height:"100%",width:"100%",overflowY:"auto"},Qt=Object(m.a)({h5:{color:"white"}});function Zt(e){var t=e.open,n=e.children,r=e.onClose,c=Object(a.useState)(!0),l=Object(s.a)(c,2),h=l[0],m=(l[1],Object(a.useState)({firstName:"",lastName:"",email:"",phoneNumber:"",password:"",telephone:"",roomNumber:""})),p=Object(s.a)(m,2),D=p[0],f=p[1],x=Qt(),A=function(){var e=Object(P.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.stringify({employeeID:sessionStorage.getItem("userId"),firstName:D.firstName,lastName:D.lastName,email:D.email,phoneNumber:D.phoneNumber,office:{telephone:D.telephone,roomNumber:D.roomNumber}}),console.log(t),O.a.post("http://localhost:5001/api/logisticManager/addDispatcher",t,{headers:{Authorization:"Bearer token","Content-Type":"application/json"}}).then((function(e){console.log(e),"SUCCESS"===e.data.status&&r()})).catch((function(e){Object(xt.a)(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?i.a.createPortal(Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{style:Yt}),Object(g.jsxs)("div",{style:Kt,children:[Object(g.jsxs)(d.a,{container:!0,spacing:1,style:{minWidth:"70vw",minHeight:"100vh"},direction:"column",children:[Object(g.jsx)(d.a,{container:!0,direction:"row",style:{minHeight:"70vh",minWidth:"62vw"},id:"DispatcherDetails",children:Object(g.jsxs)(d.a,{container:!0,spacing:3,direction:"column",alignItems:"left",justify:"top",lg:4,xl:3,style:{minHeight:"20vh"},children:[Object(g.jsx)(d.a,{style:{minHeight:"13vh"},item:!0,id:"AddDispatcher",children:Object(g.jsx)(u.a,{color:"secondary",variant:"h3",children:"Add Dispatcher"})}),Object(g.jsx)(d.a,{item:!0,id:"personalLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"personal Details:"})}),Object(g.jsx)(d.a,{item:!0,id:"personalDetails",children:Object(g.jsxs)(d.a,{direction:"column",spacing:4,children:[Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"ContactInfo",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"firstName",label:"First Name",onChange:function(e){return f((function(t){return Object(o.a)(Object(o.a)({},t),{},{firstName:e.target.value})}))},value:D.firstName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"lastName",label:"Last Name",onChange:function(e){return f((function(t){return Object(o.a)(Object(o.a)({},t),{},{lastName:e.target.value})}))},value:D.lastName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"phoneNumber",label:"Phone Number",onChange:function(e){f((function(t){return Object(o.a)(Object(o.a)({},t),{},{phoneNumber:e.target.value})}))},value:D.phoneNumber})})]}),Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"credentials",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"email",label:"Email",onChange:function(e){return f((function(t){return Object(o.a)(Object(o.a)({},t),{},{email:e.target.value})}))},value:D.email})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"password",label:"Password",onChange:function(e){return f((function(t){return Object(o.a)(Object(o.a)({},t),{},{password:e.target.value})}))},value:D.password})})]})]})}),Object(g.jsx)(d.a,{item:!0,id:"addressLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"Address:"})}),Object(g.jsx)(d.a,{item:!0,id:"",children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"firstName",label:"landline",onChange:function(e){return f((function(t){return Object(o.a)(Object(o.a)({},t),{},{telephone:e.target.value})}))},value:D.telephone})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"roomNumber",label:"Room Number",onChange:function(e){return f((function(t){return Object(o.a)(Object(o.a)({},t),{},{roomNumber:e.target.value})}))},value:D.roomNumber})})]})}),Object(g.jsxs)(d.a,{container:!0,spacing:2,direction:"row",id:"Buttons",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:x.spacing,onClick:r,sx:{p:2},children:"Cancel"})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:x.spacing,onClick:A,children:"add Dispatcher"})})]})]}),n]})]}),document.getElementById("portal")):null}function Gt(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Jt(e,t){return"desc"===e?function(e,n){return Gt(e,n,t)}:function(e,n){return-Gt(e,n,t)}}function $t(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}function en(e,t){var n=".".concat(e),a=new Date,r="routifics_".concat(a.getDate()).concat(a.getMonth()).concat(a.getFullYear(),"_").concat(a.getTime()),c={Sheets:{data:ht.a.utils.json_to_sheet(t)},SheetNames:["data"]},i=ht.a.write(c,{bookType:"".concat(e),type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});pt.a.saveAs(o,r+n)}var tn=[{id:"employeeID",numeric:!0,disablePadding:!1,label:"ID"},{id:"firstName",numeric:!1,disablePadding:!1,label:"First Name"},{id:"lastName",numeric:!1,disablePadding:!1,label:"Last Name"},{id:"phoneNumber",numeric:!0,disablePadding:!1,label:"phone Number"},{id:"telephone",numeric:!0,disablePadding:!1,label:"telephone"},{id:"assignedShelfs",numeric:!0,disablePadding:!1,label:"Shelfs"}];function nn(e){var t=e.classes,n=(e.onSelectAllClick,e.order),a=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort),c=e.Display;return Object(g.jsx)(q.a,{children:Object(g.jsxs)(U.a,{children:["View"===c?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Details"},"view"),Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Cancel Order"},"action")]}):Object(g.jsxs)(L.a,{align:"center",className:t.tableCell,children:["Action"," "]},"action"),tn.map((function(e){return Object(g.jsx)(L.a,{align:"center",padding:e.disablePadding?"none":"default",sortDirection:a===e.id&&n,children:Object(g.jsxs)(z.a,{active:a===e.id,direction:a===e.id?n:"asc",onClick:(c=e.id,function(e){r(e,c)}),children:[e.label,a===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var c}))]})})}var an=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.f)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},marginL1:{marginLeft:"1rem"},title:{flex:"1 1 100%"}}})),rn=function(e){var t=[];return Array.isArray(e)&&(t=e.map((function(e){return{reference_number:e.reference_number,coord:e.locations&&e.locations.length>0?e.locations[0].coord:null,from:e.routifics&&e.routifics.length>0?e.routifics[0].from:null,to:e.routifics&&e.routifics.length>0?e.routifics[0].to:null,aging:"7",load:null,destination_phone:e.destination_phone,email:null,service_type:e.service_type,priority:"yes",destination_name:e.destination_name,cod_amount:e.cod_amount,customer_reference_number:e.customer_reference_number,whatsapp_link:"http://wa.me/"+e.destination_phone,whatsapp_location:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D8%B1%D8%AC%D9%88%20%D8%A5%D8%B1%D8%B3%D8%A7%D9%84%20%D8%A7%D9%84%D9%84%D9%88%D9%83%D9%8A%D8%B4%D9%86%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20%D8%A8%D8%B1%D9%82%D9%85%20"+e.reference_number,whatsapp_no_answer:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D9%86%D8%A7%20%D9%82%D8%B1%D9%8A%D8%A8%20%D9%85%D9%86%20%D8%A7%D9%84%D9%85%D9%88%D9%82%D8%B9%20%D9%88%D8%AA%D9%85%D8%AA%20%D9%85%D8%AD%D8%A7%D9%88%D9%84%D8%A9%20%D8%A7%D9%84%D8%A7%D8%AA%D8%B5%D8%A7%D9%84%D8%8C%20%D9%86%D8%B1%D8%AC%D9%88%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20"+e.reference_number+"%20%D9%81%D9%8A%20%D8%AD%D8%A7%D9%84%20%D9%84%D9%85%20%D9%8A%D8%AA%D9%85%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%D8%8C%20%D8%B3%D8%AA%D8%AA%D9%85%20%D8%A5%D8%B9%D8%A7%D8%AF%D8%A9%20%D8%A7%D9%84%D8%AC%D8%AF%D9%88%D9%84%D8%A9%20%D9%84%D9%8A%D9%88%D9%85%20%D8%A7%D9%84%D8%B9%D9%85%D9%84%20%D8%A7%D9%84%D9%82%D8%A7%D8%AF%D9%85%D8%8C%20%D9%88%D8%B4%D9%83%D8%B1%D8%A7%D8%8C%0A"}}))),t},cn=function(e){var t=an(),n=e.numSelected,r=e.selectedRows,c=(e.data,Object(a.useState)(!1)),i=Object(s.a)(c,2);i[0],i[1];function o(e){return b.apply(this,arguments)}function b(){return b=Object(P.a)(E.a.mark((function e(t){var n,a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/rfdexport"),{reference_number:Object(I.a)(r)});case 2:n=e.sent,a=n.data,c=rn(a),en(t,c);case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}return Object(g.jsxs)(X.a,{className:Object(T.a)(t.root,Object(l.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Dispatchers"}),n>0?Object(g.jsx)(Q.a,{title:"",children:Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(d.a,{container:!0,children:Object(g.jsx)(j.a,{onClick:Object(P.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("csv");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:t.marginL1,variant:"contained",children:"Export CSV"})})})}):Object(g.jsx)(Q.a,{title:"Filter list",children:Object(g.jsx)(Y.a,{"aria-label":"filter list",children:Object(g.jsx)($.a,{})})})]})},on=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},ml1:{marginLeft:"1rem"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function sn(e){var t=e.Display,n=e.setDispatcher,c=Object(a.useState)([]),i=Object(s.a)(c,2),l=i[0],d=i[1],u=on(),b=r.a.useState("asc"),h=Object(s.a)(b,2),m=h[0],p=h[1],f=r.a.useState("employeeID"),x=Object(s.a)(f,2),A=x[0],v=x[1],y=r.a.useState([]),w=Object(s.a)(y,2),S=w[0],C=w[1],N=r.a.useState(0),k=Object(s.a)(N,2),B=k[0],_=k[1],T=r.a.useState(!1),F=Object(s.a)(T,2),q=F[0],z=F[1],X=r.a.useState(200),K=Object(s.a)(X,2),Q=K[0],J=K[1],$=Object(a.useState)(!1),ee=Object(s.a)($,2),ne=ee[0],ae=ee[1],re=Q-Math.min(Q,l.length-B*Q),ce=function(){var e=Object(P.a)(E.a.mark((function e(t,n){var a,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=sessionStorage.getItem("token"),r=_e.a.stringify({employeeID:sessionStorage.getItem("userId")},{skipEmptyString:!0,skipNull:!0}),c=[],O.a.get("".concat(D.API_ROOT,"/api/logisticManager/viewDispatchers").concat(r?"?".concat(r):""),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e.data),c=e.data;var t=[];console.log("is Array"),Array.isArray(c)&&(t=c.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{employeeID:e.employeeID,isEditMode:!1})}))),console.log(t),d(Object(I.a)(t))})),console.log(c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ce(),console.log(l)}),[]);ie=l[0];var ie,oe,se,le,de,je,be,he,me,pe=r.a.useState({open:!1,message:""}),Oe=Object(s.a)(pe,2),De=Oe[0],ge=Oe[1],fe=function(e,t){"clickaway"!==t&&ge({open:!1,message:""})},xe=r.a.useState({}),Ae=Object(s.a)(xe,2),ve=(Ae[0],Ae[1]),ye=function(){var e=Object(P.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/newlocation"),{reference_number:t.reference_number,coord:t.coord});case 2:n=e.sent,200!==(a=n.data).statusCode&&ge({open:!0,message:a.message});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:u.root,children:["Assign"!==t?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:u.spacing,onClick:function(){return ae(!0)},children:"add Dispatcher"})}):Object(g.jsx)(g.Fragment,{}),Object(g.jsx)(Zt,{open:ne,onClose:function(){return ae(!1)}}),Object(g.jsxs)(V.a,{className:u.paper,children:[Object(g.jsx)(cn,{numSelected:S.length,data:l,selectedRows:Object(I.a)(S)}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(H.a,{className:u.table,"aria-labelledby":"tableTitle",size:q?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(nn,{classes:u,numSelected:S.length,order:m,orderBy:A,onSelectAllClick:function(e){if(e.target.checked){var t=l.map((function(e){return e.ID}));C(t)}else C([])},onRequestSort:function(e,t){p(A===t&&"asc"===m?"desc":"asc"),v(t)},rowCount:l.length,Display:t}),Object(g.jsxs)(R.a,{children:[$t(l,Jt(m,A)).slice(B*Q,B*Q+Q).map((function(e,a){var r=function(e){return-1!==S.indexOf(e)}(e.employeeID),c="enhanced-table-checkbox-".concat(a);return Object(g.jsxs)(U.a,{hover:!0,role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:["View"===t?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:u.spacing,onClick:function(){},children:"View"})},"action"),Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(Y.a,{"aria-label":"delete",onClick:function(){return function(e,t){var n=l.filter((function(t){return t.id==e}))[0];"Save"!=t||n.coord?(d((function(t){return l.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{isEditMode:!t.isEditMode}):t}))})),"Save"==t&&(ye(Object(o.a)({},n)),ve([]))):ge({open:!0,message:"Coord is not allowed to be empty"})}(e.employeeID,"Edit")},children:Object(g.jsx)(Dt.a,{})})},"action")]}):Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:u.spacing,onClick:function(){n(e.employeeID)},children:"Assign"})},"action"),Object(g.jsx)(L.a,{component:"th",id:c,scope:"row",padding:"none",align:"center",children:e.employeeID||"-"}),Object(g.jsx)(L.a,{align:"center",children:e.firstName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.lastName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.phoneNumber||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.telephone||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.assignedShelfs||"-"})," "]},e.employeeID)})),re>0&&Object(g.jsx)(U.a,{style:{height:(q?33:53)*re},children:Object(g.jsx)(L.a,{colSpan:6})})]})]})}),Object(g.jsx)(W.a,{rowsPerPageOptions:[100,200,300],component:"div",count:l.length,rowsPerPage:Q,page:B,onChangePage:function(e,t){_(t)},onChangeRowsPerPage:function(e){J(parseInt(e.target.value,10)),_(0)}})]}),Object(g.jsx)(te.a,{open:De.open,autoHideDuration:3e3,onClose:fe,children:Object(g.jsx)(ue,{onClose:fe,severity:"error",children:De.message})}),Object(g.jsx)(Z.a,{control:Object(g.jsx)(G.a,{checked:q,onChange:function(e){z(e.target.checked)}}),label:"Dense padding"})]})}var ln={position:"absolute",top:"70%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#ffffff",padding:"40px",zIndex:1e3,width:"50%",height:"70%",borderRadius:"1em",display:"inline-table"},dn={position:"fixed",display:"flex",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3,height:"100%",width:"100%",overflowY:"auto"},un=Object(m.a)({h5:{color:"white"}});function jn(e){var t=e.open,n=e.children,r=e.onClose,c=Object(a.useState)(!0),l=Object(s.a)(c,2),h=l[0],m=(l[1],Object(a.useState)("")),p=Object(s.a)(m,2),D=(p[0],p[1],Object(a.useState)("")),f=Object(s.a)(D,2),x=(f[0],f[1],Object(a.useState)("None")),A=Object(s.a)(x,2),v=(A[0],A[1],Object(a.useState)(null)),y=Object(s.a)(v,2),w=(y[0],y[1],Object(a.useState)([])),S=Object(s.a)(w,2),C=(S[0],S[1],Object(a.useState)({firstName:"",lastName:"",email:"",phoneNumber:"",password:"",telephone:"",roomNumber:""})),N=Object(s.a)(C,2),k=N[0],B=N[1],I=un(),_=function(){var e=Object(P.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.stringify({employeeID:sessionStorage.getItem("userId"),firstName:k.firstName,lastName:k.lastName,email:k.email,phoneNumber:k.phoneNumber,office:{telephone:k.telephone,roomNumber:k.roomNumber}}),console.log(t),O.a.post("http://localhost:5001/api/logisticManager/addWarehouseManager",t,{headers:{Authorization:"Bearer token","Content-Type":"application/json"}}).then((function(e){console.log(e),"SUCCESS"===e.data.status&&r()})).catch((function(e){Object(xt.a)(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?i.a.createPortal(Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{style:dn}),Object(g.jsxs)("div",{style:ln,children:[Object(g.jsxs)(d.a,{container:!0,spacing:1,style:{minWidth:"70vw",minHeight:"100vh"},direction:"column",children:[Object(g.jsx)(d.a,{container:!0,direction:"row",style:{minHeight:"70vh",minWidth:"62vw"},id:"DispatcherDetails",children:Object(g.jsxs)(d.a,{container:!0,spacing:3,direction:"column",alignItems:"left",justify:"top",lg:4,xl:3,style:{minHeight:"20vh"},children:[Object(g.jsx)(d.a,{style:{minHeight:"13vh"},item:!0,id:"AddDispatcher",children:Object(g.jsx)(u.a,{color:"secondary",variant:"h3",children:"Add Warehouse Manager"})}),Object(g.jsx)(d.a,{item:!0,id:"personalLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"personal Details:"})}),Object(g.jsx)(d.a,{item:!0,id:"personalDetails",children:Object(g.jsxs)(d.a,{direction:"column",spacing:4,children:[Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"ContactInfo",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"firstName",label:"First Name",onChange:function(e){return B((function(t){return Object(o.a)(Object(o.a)({},t),{},{firstName:e.target.value})}))},value:k.firstName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"lastName",label:"Last Name",onChange:function(e){return B((function(t){return Object(o.a)(Object(o.a)({},t),{},{lastName:e.target.value})}))},value:k.lastName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"phoneNumber",label:"Phone Number",onChange:function(e){B((function(t){return Object(o.a)(Object(o.a)({},t),{},{phoneNumber:e.target.value})}))},value:k.phoneNumber})})]}),Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"credentials",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"email",label:"Email",onChange:function(e){return B((function(t){return Object(o.a)(Object(o.a)({},t),{},{email:e.target.value})}))},value:k.email})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"password",label:"Password",onChange:function(e){return B((function(t){return Object(o.a)(Object(o.a)({},t),{},{password:e.target.value})}))},value:k.password})})]})]})}),Object(g.jsx)(d.a,{item:!0,id:"addressLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"Address:"})}),Object(g.jsx)(d.a,{item:!0,id:"",children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"firstName",label:"landline",onChange:function(e){return B((function(t){return Object(o.a)(Object(o.a)({},t),{},{telephone:e.target.value})}))},value:k.telephone})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"roomNumber",label:"Room Number",onChange:function(e){return B((function(t){return Object(o.a)(Object(o.a)({},t),{},{roomNumber:e.target.value})}))},value:k.roomNumber})})]})}),Object(g.jsxs)(d.a,{container:!0,spacing:2,direction:"row",id:"Buttons",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:I.spacing,onClick:r,sx:{p:2},children:"Cancel"})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:I.spacing,onClick:_,children:"add warehouse Manager"})})]})]}),n]})]}),document.getElementById("portal")):null}function bn(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function hn(e,t){return"desc"===e?function(e,n){return bn(e,n,t)}:function(e,n){return-bn(e,n,t)}}function mn(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}function pn(e,t){var n=".".concat(e),a=new Date,r="routifics_".concat(a.getDate()).concat(a.getMonth()).concat(a.getFullYear(),"_").concat(a.getTime()),c={Sheets:{data:ht.a.utils.json_to_sheet(t)},SheetNames:["data"]},i=ht.a.write(c,{bookType:"".concat(e),type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});pt.a.saveAs(o,r+n)}var On=[{id:"employeeID",numeric:!0,disablePadding:!1,label:"ID"},{id:"firstName",numeric:!1,disablePadding:!1,label:"First Name"},{id:"lastName",numeric:!1,disablePadding:!1,label:"Last Name"},{id:"phoneNumber",numeric:!0,disablePadding:!1,label:"phone Number"},{id:"telephone",numeric:!0,disablePadding:!1,label:"telephone"},{id:"roomNumber",numeric:!0,disablePadding:!1,label:"Room #"}];function Dn(e){var t=e.classes,n=(e.onSelectAllClick,e.order),a=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort);return Object(g.jsx)(q.a,{children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Details"},"view"),Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Delete"},"action"),On.map((function(e){return Object(g.jsx)(L.a,{align:"center",padding:e.disablePadding?"none":"default",sortDirection:a===e.id&&n,children:Object(g.jsxs)(z.a,{active:a===e.id,direction:a===e.id?n:"asc",onClick:(c=e.id,function(e){r(e,c)}),children:[e.label,a===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var c}))]})})}var gn=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.f)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},marginL1:{marginLeft:"1rem"},title:{flex:"1 1 100%"}}})),fn=function(e){var t=[];return Array.isArray(e)&&(t=e.map((function(e){return{reference_number:e.reference_number,coord:e.locations&&e.locations.length>0?e.locations[0].coord:null,from:e.routifics&&e.routifics.length>0?e.routifics[0].from:null,to:e.routifics&&e.routifics.length>0?e.routifics[0].to:null,aging:"7",load:null,destination_phone:e.destination_phone,email:null,service_type:e.service_type,priority:"yes",destination_name:e.destination_name,cod_amount:e.cod_amount,customer_reference_number:e.customer_reference_number,whatsapp_link:"http://wa.me/"+e.destination_phone,whatsapp_location:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D8%B1%D8%AC%D9%88%20%D8%A5%D8%B1%D8%B3%D8%A7%D9%84%20%D8%A7%D9%84%D9%84%D9%88%D9%83%D9%8A%D8%B4%D9%86%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20%D8%A8%D8%B1%D9%82%D9%85%20"+e.reference_number,whatsapp_no_answer:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D9%86%D8%A7%20%D9%82%D8%B1%D9%8A%D8%A8%20%D9%85%D9%86%20%D8%A7%D9%84%D9%85%D9%88%D9%82%D8%B9%20%D9%88%D8%AA%D9%85%D8%AA%20%D9%85%D8%AD%D8%A7%D9%88%D9%84%D8%A9%20%D8%A7%D9%84%D8%A7%D8%AA%D8%B5%D8%A7%D9%84%D8%8C%20%D9%86%D8%B1%D8%AC%D9%88%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20"+e.reference_number+"%20%D9%81%D9%8A%20%D8%AD%D8%A7%D9%84%20%D9%84%D9%85%20%D9%8A%D8%AA%D9%85%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%D8%8C%20%D8%B3%D8%AA%D8%AA%D9%85%20%D8%A5%D8%B9%D8%A7%D8%AF%D8%A9%20%D8%A7%D9%84%D8%AC%D8%AF%D9%88%D9%84%D8%A9%20%D9%84%D9%8A%D9%88%D9%85%20%D8%A7%D9%84%D8%B9%D9%85%D9%84%20%D8%A7%D9%84%D9%82%D8%A7%D8%AF%D9%85%D8%8C%20%D9%88%D8%B4%D9%83%D8%B1%D8%A7%D8%8C%0A"}}))),t},xn=function(e){var t=gn(),n=e.numSelected,r=e.selectedRows,c=(e.data,Object(a.useState)(!1)),i=Object(s.a)(c,2);i[0],i[1];function o(e){return b.apply(this,arguments)}function b(){return b=Object(P.a)(E.a.mark((function e(t){var n,a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/rfdexport"),{reference_number:Object(I.a)(r)});case 2:n=e.sent,a=n.data,c=fn(a),pn(t,c);case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}return Object(g.jsxs)(X.a,{className:Object(T.a)(t.root,Object(l.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Warehouse Managers"}),n>0?Object(g.jsx)(Q.a,{title:"",children:Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(d.a,{container:!0,children:Object(g.jsx)(j.a,{onClick:Object(P.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("csv");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:t.marginL1,variant:"contained",children:"Export CSV"})})})}):Object(g.jsx)(Q.a,{title:"Filter list",children:Object(g.jsx)(Y.a,{"aria-label":"filter list",children:Object(g.jsx)($.a,{})})})]})},An=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},ml1:{marginLeft:"1rem"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function vn(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=An(),l=r.a.useState("asc"),d=Object(s.a)(l,2),u=d[0],b=d[1],h=r.a.useState("employeeID"),m=Object(s.a)(h,2),p=m[0],f=m[1],x=r.a.useState([]),A=Object(s.a)(x,2),v=A[0],y=A[1],w=r.a.useState(0),S=Object(s.a)(w,2),C=S[0],N=S[1],k=r.a.useState(!1),B=Object(s.a)(k,2),_=B[0],T=B[1],F=r.a.useState(200),q=Object(s.a)(F,2),z=q[0],X=q[1],K=Object(a.useState)(!1),Q=Object(s.a)(K,2),J=Q[0],$=Q[1],ee=z-Math.min(z,n.length-C*z),ne=function(){var e=Object(P.a)(E.a.mark((function e(t,n){var a,r,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=sessionStorage.getItem("token"),r=_e.a.stringify({employeeID:sessionStorage.getItem("userId")},{skipEmptyString:!0,skipNull:!0}),i=[],O.a.get("".concat(D.API_ROOT,"/api/logisticManager/viewWarehouseManagers").concat(r?"?".concat(r):""),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e.data),i=e.data;var t=[];console.log("is Array"),Array.isArray(i)&&(t=i.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{employeeID:e.employeeID,isEditMode:!1})}))),console.log(t),c(Object(I.a)(t))})),console.log(i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ne(),console.log(n)}),[]);ae=n[0];var ae,re,ce,ie,oe,se,le,de,je,be=r.a.useState({open:!1,message:""}),he=Object(s.a)(be,2),me=he[0],pe=he[1],Oe=function(e,t){"clickaway"!==t&&pe({open:!1,message:""})},De=r.a.useState({}),ge=Object(s.a)(De,2),fe=(ge[0],ge[1]),xe=function(){var e=Object(P.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/newlocation"),{reference_number:t.reference_number,coord:t.coord});case 2:n=e.sent,200!==(a=n.data).statusCode&&pe({open:!0,message:a.message});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:i.root,children:[Object(g.jsx)(Ue,{handleFilters:function(e,t){return ne(e,t)}}),Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:i.spacing,onClick:function(){return $(!0)},children:"add Warehouse Manager"}),Object(g.jsx)(jn,{open:J,onClose:function(){return $(!1)}}),Object(g.jsxs)(V.a,{className:i.paper,children:[Object(g.jsx)(xn,{numSelected:v.length,data:n,selectedRows:Object(I.a)(v)}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(H.a,{className:i.table,"aria-labelledby":"tableTitle",size:_?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(Dn,{classes:i,numSelected:v.length,order:u,orderBy:p,onSelectAllClick:function(e){if(e.target.checked){var t=n.map((function(e){return e.ID}));y(t)}else y([])},onRequestSort:function(e,t){b(p===t&&"asc"===u?"desc":"asc"),f(t)},rowCount:n.length}),Object(g.jsxs)(R.a,{children:[mn(n,hn(u,p)).slice(C*z,C*z+z).map((function(e,t){var a=function(e){return-1!==v.indexOf(e)}(e.employeeID),r="enhanced-table-checkbox-".concat(t);return Object(g.jsxs)(U.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:i.spacing,onClick:function(){},children:"View"})},"action"),Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(Y.a,{"aria-label":"delete",onClick:function(){return function(e,t){var a=n.filter((function(t){return t.id==e}))[0];"Save"!=t||a.coord?(c((function(t){return n.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{isEditMode:!t.isEditMode}):t}))})),"Save"==t&&(xe(Object(o.a)({},a)),fe([]))):pe({open:!0,message:"Coord is not allowed to be empty"})}(e.employeeID,"Edit")},children:Object(g.jsx)(Dt.a,{})})},"action"),Object(g.jsx)(L.a,{component:"th",id:r,scope:"row",padding:"none",align:"center",children:e.employeeID||"-"}),Object(g.jsx)(L.a,{align:"center",children:e.firstName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.lastName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.phoneNumber||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.telephone||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.roomNumber||"-"})," "]},e.employeeID)})),ee>0&&Object(g.jsx)(U.a,{style:{height:(_?33:53)*ee},children:Object(g.jsx)(L.a,{colSpan:6})})]})]})}),Object(g.jsx)(W.a,{rowsPerPageOptions:[100,200,300],component:"div",count:n.length,rowsPerPage:z,page:C,onChangePage:function(e,t){N(t)},onChangeRowsPerPage:function(e){X(parseInt(e.target.value,10)),N(0)}})]}),Object(g.jsx)(te.a,{open:me.open,autoHideDuration:3e3,onClose:Oe,children:Object(g.jsx)(ue,{onClose:Oe,severity:"error",children:me.message})}),Object(g.jsx)(Z.a,{control:Object(g.jsx)(G.a,{checked:_,onChange:function(e){T(e.target.checked)}}),label:"Dense padding"})]})}var yn=Object(Me.a)((function(e){return{root:{"label + &":{marginTop:e.spacing(3)}},input:{borderRadius:4,position:"relative",backgroundColor:e.palette.background.paper,border:"1px solid #ced4da",fontSize:16,padding:"10px 26px 10px 12px",transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:focus":{borderRadius:4,borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"}}}}))(Le.a),wn=Object(m.a)((function(e){return{margin:{margin:e.spacing(1)}}}));function Sn(e){var t=e.Filter,n=e.handleFilters,c=wn(),i=r.a.useState(t.filters[0]),o=Object(s.a)(i,2),l=o[0],d=o[1];Object(a.useEffect)((function(){u(l)}),[]);var u=Object(a.useCallback)(Object(Te.debounce)((function(e){return n(e)}),599),[]);return Object(g.jsx)("div",{children:Object(g.jsxs)(Fe.a,{className:c.margin,children:[Object(g.jsx)(Ee.a,{id:"demo-customized-select-label",children:t.name}),Object(g.jsx)(Re.a,{labelId:"demo-customized-select-label",id:"demo-customized-select",placeholder:"Select Hub code",value:l,onChange:function(e){d(e.target.value),u(e.target.value)},input:Object(g.jsx)(yn,{}),children:t.filters.map((function(e,t){return Object(g.jsxs)(He.a,{value:e,children:[e," "]},t)}))})]})})}function Cn(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Nn(e,t){return"desc"===e?function(e,n){return Cn(e,n,t)}:function(e,n){return-Cn(e,n,t)}}function kn(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}function Bn(e,t){var n=".".concat(e),a=new Date,r="routifics_".concat(a.getDate()).concat(a.getMonth()).concat(a.getFullYear(),"_").concat(a.getTime()),c={Sheets:{data:ht.a.utils.json_to_sheet(t)},SheetNames:["data"]},i=ht.a.write(c,{bookType:"".concat(e),type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});pt.a.saveAs(o,r+n)}var In=[{id:"shipmentID",numeric:!0,disablePadding:!1,label:"ID"},{id:"shipmentName",numeric:!1,disablePadding:!1,label:"Name"},{id:"currentCity",numeric:!1,disablePadding:!1,label:"Current City"},{id:"location",numeric:!0,disablePadding:!1,label:"Deliver To"},{id:"status",numeric:!0,disablePadding:!1,label:"Status"},{id:"assignedEmployee",numeric:!0,disablePadding:!1,label:"assigned Emp"}];function Pn(e){var t=e.classes,n=e.onSelectAllClick,a=e.order,r=e.orderBy,c=e.numSelected,i=e.rowCount,o=e.onRequestSort;return Object(g.jsx)(q.a,{children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Details"},"view"),Object(g.jsx)(L.a,{padding:"checkbox",children:Object(g.jsx)(K.a,{indeterminate:c>0&&c<i,checked:i>0&&c===i,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),In.map((function(e){return Object(g.jsx)(L.a,{align:"center",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&a,children:Object(g.jsxs)(z.a,{active:r===e.id,direction:r===e.id?a:"asc",onClick:(n=e.id,function(e){o(e,n)}),children:[e.label,r===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===a?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))]})})}var _n=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.f)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},marginL1:{marginLeft:"1rem"},title:{flex:"1 1 100%"}}})),En=function(e){var t=[];return Array.isArray(e)&&(t=e.map((function(e){return{reference_number:e.reference_number,coord:e.locations&&e.locations.length>0?e.locations[0].coord:null,from:e.routifics&&e.routifics.length>0?e.routifics[0].from:null,to:e.routifics&&e.routifics.length>0?e.routifics[0].to:null,aging:"7",load:null,destination_phone:e.destination_phone,email:null,service_type:e.service_type,priority:"yes",destination_name:e.destination_name,cod_amount:e.cod_amount,customer_reference_number:e.customer_reference_number,whatsapp_link:"http://wa.me/"+e.destination_phone,whatsapp_location:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20"}}))),t},Tn=function(e){var t=_n(),n=e.numSelected,r=e.selectedRows,c=(e.data,e.setShipments),i=Object(a.useState)(!1),o=Object(s.a)(i,2);o[0],o[1];function b(e){return h.apply(this,arguments)}function h(){return h=Object(P.a)(E.a.mark((function e(t){var n,a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/Accountant/exportOrders"),{reference_number:Object(I.a)(r)});case 2:n=e.sent,a=n.data,c=En(a),Bn(t,c);case 6:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}return Object(g.jsxs)(X.a,{className:Object(T.a)(t.root,Object(l.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Shipments"}),n>0?Object(g.jsx)(Q.a,{title:"",children:Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{color:"secondary",onClick:function(){console.log("selected rows: ".concat(r)),c(Object(I.a)(r))},className:t.marginL1,variant:"contained",children:"Assign"})}),Object(g.jsxs)(d.a,{item:!0,children:[" ",Object(g.jsx)(j.a,{onClick:Object(P.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("csv");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:t.marginL1,variant:"contained",children:"Export CSV"})]})]})})}):Object(g.jsx)(Q.a,{title:"Filter list",children:Object(g.jsx)(Y.a,{"aria-label":"filter list",children:Object(g.jsx)($.a,{})})})," "]})},Fn=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},ml1:{marginLeft:"1rem"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Hn(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],i=n[1],l=Fn(),d=r.a.useState("asc"),u=Object(s.a)(d,2),b=u[0],h=u[1],m=r.a.useState("shipmentID"),p=Object(s.a)(m,2),f=p[0],x=p[1],A=r.a.useState([]),v=Object(s.a)(A,2),y=v[0],w=v[1],S=r.a.useState(0),C=Object(s.a)(S,2),N=C[0],k=C[1],B=r.a.useState(!1),_=Object(s.a)(B,2),T=_[0],F=_[1],q=r.a.useState(200),z=Object(s.a)(q,2),X=z[0],Y=z[1],Q=Object(a.useState)(!1),J=Object(s.a)(Q,2),$=J[0],ee=J[1],ne=Object(a.useState)("NEW"),ae=Object(s.a)(ne,2),re=(ae[0],ae[1]),ce=(e.shipments,e.setShipments),ie=X-Math.min(X,c.length-N*X),oe=function(){var t=Object(P.a)(E.a.mark((function t(n){var a,r,c,s;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=sessionStorage.getItem("token"),re(n),r=n,c=JSON.stringify({employeeID:sessionStorage.getItem("userId"),filteredBy:{delivery:{deliveryStatus:r}}},{skipEmptyString:!0,skipNull:!0}),s=[],O.a.post("".concat(D.API_ROOT,"/api/logisticManager/viewShipments"),c,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}}).then((function(t){console.log(t.data),s=t.data;var n=[];Array.isArray(s)&&(n=s.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{employeeID:e.employeeID,isEditMode:!1})})),1===e.filters.length?n=n.filter((function(e){return e.currentCity.toUpperCase()===e.shipmentLocation.toUpperCase()})):(n=n.filter((function(e){return e.currentCity.toUpperCase()!==e.shipmentLocation.toUpperCase()})),console.log(n))),i(Object(I.a)(n))}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){oe()}),[]);var se=r.a.useState({open:!1,message:""}),le=Object(s.a)(se,2),de=le[0],je=le[1],be=function(e,t){"clickaway"!==t&&je({open:!1,message:""})},he=r.a.useState({}),me=Object(s.a)(he,2);me[0],me[1];return Object(a.useEffect)((function(){}),[]),Object(g.jsxs)("div",{className:l.root,children:[Object(g.jsx)(Sn,{Filter:{name:"Status",filters:Object(I.a)(e.filters)},handleFilters:function(e){return oe(e)}}),Object(g.jsx)(Zt,{open:$,onClose:function(){return ee(!1)}}),Object(g.jsxs)(V.a,{className:l.paper,children:[Object(g.jsx)(Tn,{numSelected:y.length,data:c,selectedRows:Object(I.a)(y),setShipments:ce}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(H.a,{className:l.table,"aria-labelledby":"tableTitle",size:T?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(Pn,{classes:l,numSelected:y.length,order:b,orderBy:f,onSelectAllClick:function(e){if(e.target.checked){var t=c.map((function(e){return e.shipmentID}));w(t)}else w([])},onRequestSort:function(e,t){h(f===t&&"asc"===b?"desc":"asc"),x(t)},rowCount:c.length}),Object(g.jsxs)(R.a,{children:[kn(c,Nn(b,f)).slice(N*X,N*X+X).map((function(e,t){var n,a=(n=e.shipmentID,-1!==y.indexOf(n)),r="enhanced-table-checkbox-".concat(t);return Object(g.jsxs)(U.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:l.spacing,onClick:function(){},children:"View"})},"view"),Object(g.jsx)(L.a,{padding:"checkbox",children:Object(g.jsx)(K.a,{onChange:function(t){return function(e,t){var n=y.indexOf(t),a=[];-1===n?a=a.concat(y,t):0===n?a=a.concat(y.slice(1)):n===y.length-1?a=a.concat(y.slice(0,-1)):n>0&&(a=a.concat(y.slice(0,n),y.slice(n+1))),w(a)}(0,e.shipmentID)},checked:a,inputProps:{"aria-labelledby":r}})}),Object(g.jsx)(L.a,{component:"th",id:r,scope:"row",padding:"none",align:"center",children:e.shipmentID||"-"}),Object(g.jsx)(L.a,{align:"center",children:e.shipmentName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.currentCity||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.shipmentLocation||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.deliveryStatus||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.assignedEmployee||"-"})," "]},e.shipmentID)})),ie>0&&Object(g.jsx)(U.a,{style:{height:(T?33:53)*ie},children:Object(g.jsx)(L.a,{colSpan:6})})]})]})}),Object(g.jsx)(W.a,{rowsPerPageOptions:[100,200,300],component:"div",count:c.length,rowsPerPage:X,page:N,onChangePage:function(e,t){k(t)},onChangeRowsPerPage:function(e){Y(parseInt(e.target.value,10)),k(0)}})]}),Object(g.jsx)(te.a,{open:de.open,autoHideDuration:3e3,onClose:be,children:Object(g.jsx)(ue,{onClose:be,severity:"error",children:de.message})}),Object(g.jsx)(Z.a,{control:Object(g.jsx)(G.a,{checked:T,onChange:function(e){F(e.target.checked)}}),label:"Dense padding"})]})}function Rn(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Ln(e,t){return"desc"===e?function(e,n){return Rn(e,n,t)}:function(e,n){return-Rn(e,n,t)}}function Mn(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}function qn(e,t){var n=".".concat(e),a=new Date,r="routifics_".concat(a.getDate()).concat(a.getMonth()).concat(a.getFullYear(),"_").concat(a.getTime()),c={Sheets:{data:ht.a.utils.json_to_sheet(t)},SheetNames:["data"]},i=ht.a.write(c,{bookType:"".concat(e),type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});pt.a.saveAs(o,r+n)}var Wn=[{id:"managerID",numeric:!0,disablePadding:!1,label:"MGR ID"},{id:"warehouseID",numeric:!1,disablePadding:!1,label:"Warehouse ID"},{id:"location",numeric:!1,disablePadding:!1,label:"location"}];function Un(e){var t=e.classes,n=(e.onSelectAllClick,e.order),a=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort),c=e.Display;return Object(g.jsx)(q.a,{children:Object(g.jsxs)(U.a,{children:["View"===c?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Details"},"view"),Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Cancel Order"},"action")]}):Object(g.jsxs)(L.a,{align:"center",className:t.tableCell,children:["Action"," "]},"action"),Wn.map((function(e){return Object(g.jsx)(L.a,{align:"center",padding:e.disablePadding?"none":"default",sortDirection:a===e.id&&n,children:Object(g.jsxs)(z.a,{active:a===e.id,direction:a===e.id?n:"asc",onClick:(c=e.id,function(e){r(e,c)}),children:[e.label,a===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var c}))]})})}var zn=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.f)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},marginL1:{marginLeft:"1rem"},title:{flex:"1 1 100%"}}})),Xn=function(e){var t=[];return Array.isArray(e)&&(t=e.map((function(e){return{reference_number:e.reference_number,coord:e.locations&&e.locations.length>0?e.locations[0].coord:null,from:e.routifics&&e.routifics.length>0?e.routifics[0].from:null,to:e.routifics&&e.routifics.length>0?e.routifics[0].to:null,aging:"7",load:null,destination_phone:e.destination_phone,email:null,service_type:e.service_type,priority:"yes",destination_name:e.destination_name,cod_amount:e.cod_amount,customer_reference_number:e.customer_reference_number,whatsapp_link:"http://wa.me/"+e.destination_phone,whatsapp_location:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D8%B1%D8%AC%D9%88%20%D8%A5%D8%B1%D8%B3%D8%A7%D9%84%20%D8%A7%D9%84%D9%84%D9%88%D9%83%D9%8A%D8%B4%D9%86%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20%D8%A8%D8%B1%D9%82%D9%85%20"+e.reference_number,whatsapp_no_answer:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D9%86%D8%A7%20%D9%82%D8%B1%D9%8A%D8%A8%20%D9%85%D9%86%20%D8%A7%D9%84%D9%85%D9%88%D9%82%D8%B9%20%D9%88%D8%AA%D9%85%D8%AA%20%D9%85%D8%AD%D8%A7%D9%88%D9%84%D8%A9%20%D8%A7%D9%84%D8%A7%D8%AA%D8%B5%D8%A7%D9%84%D8%8C%20%D9%86%D8%B1%D8%AC%D9%88%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20"+e.reference_number+"%20%D9%81%D9%8A%20%D8%AD%D8%A7%D9%84%20%D9%84%D9%85%20%D9%8A%D8%AA%D9%85%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%D8%8C%20%D8%B3%D8%AA%D8%AA%D9%85%20%D8%A5%D8%B9%D8%A7%D8%AF%D8%A9%20%D8%A7%D9%84%D8%AC%D8%AF%D9%88%D9%84%D8%A9%20%D9%84%D9%8A%D9%88%D9%85%20%D8%A7%D9%84%D8%B9%D9%85%D9%84%20%D8%A7%D9%84%D9%82%D8%A7%D8%AF%D9%85%D8%8C%20%D9%88%D8%B4%D9%83%D8%B1%D8%A7%D8%8C%0A"}}))),t},Vn=function(e){var t=zn(),n=e.numSelected,r=e.selectedRows,c=(e.data,Object(a.useState)(!1)),i=Object(s.a)(c,2);i[0],i[1];function o(e){return b.apply(this,arguments)}function b(){return b=Object(P.a)(E.a.mark((function e(t){var n,a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/rfdexport"),{reference_number:Object(I.a)(r)});case 2:n=e.sent,a=n.data,c=Xn(a),qn(t,c);case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}return Object(g.jsxs)(X.a,{className:Object(T.a)(t.root,Object(l.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Warehouses"}),n>0?Object(g.jsx)(Q.a,{title:"",children:Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(d.a,{container:!0,children:Object(g.jsx)(j.a,{onClick:Object(P.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("csv");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:t.marginL1,variant:"contained",children:"Export CSV"})})})}):Object(g.jsx)(Q.a,{title:"Filter list",children:Object(g.jsx)(Y.a,{"aria-label":"filter list",children:Object(g.jsx)($.a,{})})})]})},Kn=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},ml1:{marginLeft:"1rem"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Yn(e){var t=e.Display,n=e.setWarehouse,c=Object(a.useState)([]),i=Object(s.a)(c,2),l=i[0],d=i[1],u=Kn(),b=r.a.useState("asc"),h=Object(s.a)(b,2),m=h[0],p=h[1],f=r.a.useState("managerID"),x=Object(s.a)(f,2),A=x[0],v=x[1],y=r.a.useState([]),w=Object(s.a)(y,2),S=w[0],C=w[1],N=r.a.useState(0),k=Object(s.a)(N,2),B=k[0],_=k[1],T=r.a.useState(!1),F=Object(s.a)(T,2),q=F[0],z=F[1],X=r.a.useState(200),K=Object(s.a)(X,2),Q=K[0],J=K[1],$=Object(a.useState)(!1),ee=Object(s.a)($,2),ne=ee[0],ae=ee[1],re=Q-Math.min(Q,l.length-B*Q),ce=function(){var e=Object(P.a)(E.a.mark((function e(t,n){var a,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=sessionStorage.getItem("token"),r=_e.a.stringify({employeeID:sessionStorage.getItem("userId")},{skipEmptyString:!0,skipNull:!0}),c=[],O.a.get("".concat(D.API_ROOT,"/api/logisticManager/viewWarehouses").concat(r?"?".concat(r):""),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){c=e.data;var t=[];Array.isArray(c)&&(t=c.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{managerID:e.managerID,isEditMode:!1})}))),d(Object(I.a)(t))}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ce()}),[]);ie=l[0];var ie,oe,se,le,de,je,be,he,me,pe=r.a.useState({open:!1,message:""}),Oe=Object(s.a)(pe,2),De=Oe[0],ge=Oe[1],fe=function(e,t){"clickaway"!==t&&ge({open:!1,message:""})},xe=r.a.useState({}),Ae=Object(s.a)(xe,2),ve=(Ae[0],Ae[1]),ye=function(){var e=Object(P.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/newlocation"),{reference_number:t.reference_number,coord:t.coord});case 2:n=e.sent,200!==(a=n.data).statusCode&&ge({open:!0,message:a.message});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:u.root,children:[Object(g.jsx)(Ue,{handleFilters:function(e,t){return ce(e,t)}}),"View"===t?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:u.spacing,onClick:function(){return ae(!0)},children:"add Dispatcher"})}):Object(g.jsx)(g.Fragment,{}),Object(g.jsx)(Zt,{open:ne,onClose:function(){return ae(!1)}}),Object(g.jsxs)(V.a,{className:u.paper,children:[Object(g.jsx)(Vn,{numSelected:S.length,data:l,selectedRows:Object(I.a)(S)}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(H.a,{className:u.table,"aria-labelledby":"tableTitle",size:q?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(Un,{classes:u,numSelected:S.length,order:m,orderBy:A,onSelectAllClick:function(e){if(e.target.checked){var t=l.map((function(e){return e.ID}));C(t)}else C([])},onRequestSort:function(e,t){p(A===t&&"asc"===m?"desc":"asc"),v(t)},rowCount:l.length,Display:t}),Object(g.jsxs)(R.a,{children:[Mn(l,Ln(m,A)).slice(B*Q,B*Q+Q).map((function(e,a){var r=function(e){return-1!==S.indexOf(e)}(e.managerID),c="enhanced-table-checkbox-".concat(a);return Object(g.jsxs)(U.a,{hover:!0,role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:["View"===t?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:u.spacing,onClick:function(){},children:"View"})},"action"),Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(Y.a,{"aria-label":"delete",onClick:function(){return function(e,t){var n=l.filter((function(t){return t.id==e}))[0];"Save"!=t||n.coord?(d((function(t){return l.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{isEditMode:!t.isEditMode}):t}))})),"Save"==t&&(ye(Object(o.a)({},n)),ve([]))):ge({open:!0,message:"Coord is not allowed to be empty"})}(e.managerID,"Edit")},children:Object(g.jsx)(Dt.a,{})})},"action")]}):Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:u.spacing,onClick:function(){console.log("".concat(e.managerID," in assing warehouse manage")),n(e.managerID)},children:"Assign"})},"action"),Object(g.jsx)(L.a,{component:"th",id:c,scope:"row",padding:"none",align:"center",children:e.managerID||"-"}),Object(g.jsx)(L.a,{align:"center",children:e.warehouseID||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.location||"-"})," "]},e.managerID)})),re>0&&Object(g.jsx)(U.a,{style:{height:(q?33:53)*re},children:Object(g.jsx)(L.a,{colSpan:6})})]})]})}),Object(g.jsx)(W.a,{rowsPerPageOptions:[100,200,300],component:"div",count:l.length,rowsPerPage:Q,page:B,onChangePage:function(e,t){_(t)},onChangeRowsPerPage:function(e){J(parseInt(e.target.value,10)),_(0)}})]}),Object(g.jsx)(te.a,{open:De.open,autoHideDuration:3e3,onClose:fe,children:Object(g.jsx)(ue,{onClose:fe,severity:"error",children:De.message})}),Object(g.jsx)(Z.a,{control:Object(g.jsx)(G.a,{checked:q,onChange:function(e){z(e.target.checked)}}),label:"Dense padding"})]})}var Qn=function(){var e=Object(a.useState)("View Shipments"),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(null),u=Object(s.a)(d,2),j=u[0],b=u[1],h=Object(a.useState)(null),m=Object(s.a)(h,2),p=m[0],f=m[1],x=function(){var e=Object(P.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("in post request"),t=JSON.stringify({shipmentID:o,warehouseManagerID:j,dispatcherID:p,employeeID:sessionStorage.getItem("userId"),deliveryStatus:"NEW"===n?"ONDELIVERY":"TOSTORE"}),O.a.post("".concat(D.API_ROOT,"/api/logisticManager/assignShipmentsToDispatcher"),t,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"application/json"}}).then((function(e){"SUCCESS"===e.data.status&&(console.log("assigned successfully!!"),f(null),b(null),l([]))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){console.log(j),o.length>0&&null===p?r("View Dispatchers"):null!==p&&null===j?r("View Warehouses"):0===o.length?r("View Shipments"):null!==p&&null!==j&&o.length>0&&(console.log(j),x())}),[p,j,o]),"View Dispatchers"===n?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(sn,{setDispatcher:f,Display:"Assign"})}):"View Warehouses"===n?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Yn,{setWarehouse:b})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Hn,{setShipments:l,filters:["NEW","STORED"]})})};var Zn=function(){var e=Object(a.useState)("View Shipments"),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(null),u=Object(s.a)(d,2),j=u[0],b=u[1],h=function(){var e=Object(P.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("in post request"),t=JSON.stringify({shipmentID:o,warehouseManagerID:null,dispatcherID:j,employeeID:sessionStorage.getItem("userId"),deliveryStatus:"TOPICKUP"}),O.a.post("".concat(D.API_ROOT,"/api/logisticManager/assignShipmentsToDispatcher"),t,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token")),"Content-Type":"application/json"}}).then((function(e){"SUCCESS"===e.data.status&&(console.log("assigned successfully!!"),b(null),l([]))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){o.length>0&&null===j?r("View Dispatchers"):0===o.length?r("View Shipments"):null!==j&&o.length>0&&h()}),[j,o]),"View Dispatchers"===n?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(sn,{setDispatcher:b,Display:"Assign"})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Hn,{setShipments:l,filters:["STORED"]})})},Gn=n(80);var Jn=function(){return Object(g.jsx)(A.a,{theme:S,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(Gn.a,{routes:[{name:"To Warehouse",link:"/toWarehouse",activeIndex:0},{name:"To Consignee",link:"/toConsignee",activeIndex:1},{name:"Dispatchers",link:"/",activeIndex:2},{name:"Warehouse Managers",link:"/WM",activeIndex:3}]}),Object(g.jsxs)(y.c,{children:[Object(g.jsx)(y.a,{exact:!0,path:"/toWarehouse",children:Object(g.jsx)(Qn,{})}),Object(g.jsx)(y.a,{exact:!0,path:"/toConsignee",children:Object(g.jsx)(Zn,{})}),Object(g.jsxs)(y.a,{exact:!0,path:"/",children:[" ",Object(g.jsx)(sn,{Display:"View"})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/WM",children:[" ",Object(g.jsx)(vn,{})," "]})]})]})})},$n={position:"absolute",top:"100%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#ffffff",padding:"40px",zIndex:1e3,width:"50%",height:"70%",borderRadius:"1em",display:"inline-table"},ea={position:"fixed",display:"flex",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3,height:"100%",width:"100%",overflowY:"auto"},ta=Object(m.a)({h5:{color:"white"}});function na(e){var t=e.open,n=e.children,r=e.onClose,c=Object(a.useState)(!0),l=Object(s.a)(c,2),h=l[0],m=(l[1],Object(a.useState)("")),p=Object(s.a)(m,2),f=(p[0],p[1],Object(a.useState)("")),x=Object(s.a)(f,2),A=(x[0],x[1],Object(a.useState)("None")),v=Object(s.a)(A,2),y=(v[0],v[1],Object(a.useState)(null)),w=Object(s.a)(y,2),S=(w[0],w[1],Object(a.useState)([])),C=Object(s.a)(S,2),N=(C[0],C[1],Object(a.useState)({firstName:"",lastName:"",email:"",phoneNumber:"",password:"",telephone:"",roomNumber:"",location:""})),k=Object(s.a)(N,2),B=k[0],I=k[1],_=ta(),T=function(){var e=Object(P.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.stringify({employeeID:sessionStorage.getItem("userId"),firstName:B.firstName,lastName:B.lastName,email:B.email,password:B.password,phoneNumber:B.phoneNumber,office:{telephone:B.telephone,roomNumber:B.roomNumber,location:B.location}}),console.log(t),O.a.post("".concat(D.API_ROOT,"/api/administrator/addfcustomerService"),t,{headers:{Authorization:"Bearer token","Content-Type":"application/json"}}).then((function(e){console.log(e),"SUCCESS"===e.data.status&&r()})).catch((function(e){Object(xt.a)(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?i.a.createPortal(Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{style:ea}),Object(g.jsxs)("div",{style:$n,children:[Object(g.jsxs)(d.a,{container:!0,spacing:1,style:{minWidth:"70vw",minHeight:"100vh"},direction:"column",children:[Object(g.jsx)(d.a,{container:!0,direction:"row",style:{minHeight:"40vh",minWidth:"62vw"},id:"DispatcherDetails",children:Object(g.jsxs)(d.a,{container:!0,spacing:3,direction:"column",alignItems:"left",justify:"top",lg:4,xl:3,style:{minHeight:"20vh"},children:[Object(g.jsx)(d.a,{style:{minHeight:"13vh"},item:!0,id:"AddDispatcher",children:Object(g.jsx)(u.a,{color:"secondary",variant:"h3",children:"Add Customer Service"})}),Object(g.jsx)(d.a,{item:!0,id:"personalLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"personal Details:"})}),Object(g.jsx)(d.a,{item:!0,id:"personalDetails",children:Object(g.jsxs)(d.a,{direction:"column",spacing:4,children:[Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"ContactInfo",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"firstName",label:"First Name",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{firstName:e.target.value})}))},value:B.firstName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"lastName",label:"Last Name",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{lastName:e.target.value})}))},value:B.lastName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"phoneNumber",label:"Phone Number",onChange:function(e){I((function(t){return Object(o.a)(Object(o.a)({},t),{},{phoneNumber:e.target.value})}))},value:B.phoneNumber})})]}),Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"credentials",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"email",label:"Email",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{email:e.target.value})}))},value:B.email})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"password",label:"Password",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{password:e.target.value})}))},value:B.password})})]})]})}),Object(g.jsx)(d.a,{item:!0,id:"addressLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"Address:"})}),Object(g.jsx)(d.a,{item:!0,id:"",children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"firstName",label:"landline",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{telephone:e.target.value})}))},value:B.telephone})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"roomNumber",label:"Room Number",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{roomNumber:e.target.value})}))},value:B.roomNumber})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"location",label:"Location",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{location:e.target.value})}))},value:B.location})})]})}),Object(g.jsxs)(d.a,{container:!0,spacing:2,direction:"row",id:"Buttons",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:_.spacing,onClick:r,sx:{p:2},children:"Cancel"})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:_.spacing,onClick:T,children:"add Customer Service"})})]})]}),n]})]}),document.getElementById("portal")):null}function aa(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function ra(e,t){return"desc"===e?function(e,n){return aa(e,n,t)}:function(e,n){return-aa(e,n,t)}}function ca(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}function ia(e,t){var n=".".concat(e),a=new Date,r="routifics_".concat(a.getDate()).concat(a.getMonth()).concat(a.getFullYear(),"_").concat(a.getTime()),c={Sheets:{data:ht.a.utils.json_to_sheet(t)},SheetNames:["data"]},i=ht.a.write(c,{bookType:"".concat(e),type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});pt.a.saveAs(o,r+n)}var oa=[{id:"employeeID",numeric:!0,disablePadding:!1,label:"ID"},{id:"firstName",numeric:!1,disablePadding:!1,label:"First Name"},{id:"lastName",numeric:!1,disablePadding:!1,label:"Last Name"},{id:"phoneNumber",numeric:!0,disablePadding:!1,label:"phone Number"},{id:"telephone",numeric:!0,disablePadding:!1,label:"telephone"},{id:"loc",numeric:!0,disablePadding:!1,label:"Location"}];function sa(e){var t=e.classes,n=(e.onSelectAllClick,e.order),a=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort);return Object(g.jsx)(q.a,{children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Details"},"action"),Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Cancel Order"},"action"),oa.map((function(e){return Object(g.jsx)(L.a,{align:"center",padding:e.disablePadding?"none":"default",sortDirection:a===e.id&&n,children:Object(g.jsxs)(z.a,{active:a===e.id,direction:a===e.id?n:"asc",onClick:(c=e.id,function(e){r(e,c)}),children:[e.label,a===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var c}))]})})}var la=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.f)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},marginL1:{marginLeft:"1rem"},title:{flex:"1 1 100%"}}})),da=function(e){var t=[];return Array.isArray(e)&&(t=e.map((function(e){return{reference_number:e.reference_number,coord:e.locations&&e.locations.length>0?e.locations[0].coord:null,from:e.routifics&&e.routifics.length>0?e.routifics[0].from:null,to:e.routifics&&e.routifics.length>0?e.routifics[0].to:null,aging:"7",load:null,destination_phone:e.destination_phone,email:null,service_type:e.service_type,priority:"yes",destination_name:e.destination_name,cod_amount:e.cod_amount,customer_reference_number:e.customer_reference_number,whatsapp_link:"http://wa.me/"+e.destination_phone,whatsapp_location:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D8%B1%D8%AC%D9%88%20%D8%A5%D8%B1%D8%B3%D8%A7%D9%84%20%D8%A7%D9%84%D9%84%D9%88%D9%83%D9%8A%D8%B4%D9%86%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20%D8%A8%D8%B1%D9%82%D9%85%20"+e.reference_number,whatsapp_no_answer:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D9%86%D8%A7%20%D9%82%D8%B1%D9%8A%D8%A8%20%D9%85%D9%86%20%D8%A7%D9%84%D9%85%D9%88%D9%82%D8%B9%20%D9%88%D8%AA%D9%85%D8%AA%20%D9%85%D8%AD%D8%A7%D9%88%D9%84%D8%A9%20%D8%A7%D9%84%D8%A7%D8%AA%D8%B5%D8%A7%D9%84%D8%8C%20%D9%86%D8%B1%D8%AC%D9%88%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20"+e.reference_number+"%20%D9%81%D9%8A%20%D8%AD%D8%A7%D9%84%20%D9%84%D9%85%20%D9%8A%D8%AA%D9%85%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%D8%8C%20%D8%B3%D8%AA%D8%AA%D9%85%20%D8%A5%D8%B9%D8%A7%D8%AF%D8%A9%20%D8%A7%D9%84%D8%AC%D8%AF%D9%88%D9%84%D8%A9%20%D9%84%D9%8A%D9%88%D9%85%20%D8%A7%D9%84%D8%B9%D9%85%D9%84%20%D8%A7%D9%84%D9%82%D8%A7%D8%AF%D9%85%D8%8C%20%D9%88%D8%B4%D9%83%D8%B1%D8%A7%D8%8C%0A"}}))),t},ua=function(e){var t=la(),n=e.numSelected,r=e.selectedRows,c=(e.data,Object(a.useState)(!1)),i=Object(s.a)(c,2);i[0],i[1];function o(e){return b.apply(this,arguments)}function b(){return b=Object(P.a)(E.a.mark((function e(t){var n,a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/rfdexport"),{reference_number:Object(I.a)(r)});case 2:n=e.sent,a=n.data,c=da(a),ia(t,c);case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}return Object(g.jsxs)(X.a,{className:Object(T.a)(t.root,Object(l.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Customer Service"}),n>0?Object(g.jsx)(Q.a,{title:"",children:Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(d.a,{container:!0,children:Object(g.jsx)(j.a,{onClick:Object(P.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("csv");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:t.marginL1,variant:"contained",children:"Export CSV"})})})}):Object(g.jsx)(Q.a,{title:"Filter list",children:Object(g.jsx)(Y.a,{"aria-label":"filter list",children:Object(g.jsx)($.a,{})})})]})},ja=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},ml1:{marginLeft:"1rem"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function ba(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=ja(),l=r.a.useState("asc"),d=Object(s.a)(l,2),u=d[0],b=d[1],h=r.a.useState("employeeID"),m=Object(s.a)(h,2),p=m[0],f=m[1],x=r.a.useState([]),A=Object(s.a)(x,2),v=A[0],y=A[1],w=r.a.useState(0),S=Object(s.a)(w,2),C=S[0],N=S[1],k=r.a.useState(!1),B=Object(s.a)(k,2),_=B[0],T=B[1],F=r.a.useState(200),q=Object(s.a)(F,2),z=q[0],X=q[1],K=Object(a.useState)(!1),Q=Object(s.a)(K,2),J=Q[0],$=Q[1],ee=z-Math.min(z,n.length-C*z),ne=function(){var e=Object(P.a)(E.a.mark((function e(t,n){var a,r,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=sessionStorage.getItem("token"),r=_e.a.stringify({employeeID:sessionStorage.getItem("userId")},{skipEmptyString:!0,skipNull:!0}),i=[],O.a.get("".concat(D.API_ROOT,"/api/administrator/viewCustomerService").concat(r?"?".concat(r):""),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e.data),i=e.data;var t=[];console.log("is Array"),Array.isArray(i)&&(t=i.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{employeeID:e.employeeID,isEditMode:!1})}))),console.log(t),c(Object(I.a)(t))})),console.log(i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ne(),console.log(n)}),[]);ae=n[0];var ae,re,ce,ie,oe,se,le,de,je,be=r.a.useState({open:!1,message:""}),he=Object(s.a)(be,2),me=he[0],pe=he[1],Oe=function(e,t){"clickaway"!==t&&pe({open:!1,message:""})},De=r.a.useState({}),ge=Object(s.a)(De,2),fe=(ge[0],ge[1]),xe=function(){var e=Object(P.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/newlocation"),{reference_number:t.reference_number,coord:t.coord});case 2:n=e.sent,200!==(a=n.data).statusCode&&pe({open:!0,message:a.message});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){}),[]),Object(g.jsxs)("div",{className:i.root,children:[Object(g.jsx)(Ue,{handleFilters:function(e,t){return ne(e,t)}}),Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:i.spacing,onClick:function(){return $(!0)},children:"add Customer Service"}),Object(g.jsx)(na,{open:J,onClose:function(){return $(!1)}}),Object(g.jsxs)(V.a,{className:i.paper,children:[Object(g.jsx)(ua,{numSelected:v.length,data:n,selectedRows:Object(I.a)(v)}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(H.a,{className:i.table,"aria-labelledby":"tableTitle",size:_?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(sa,{classes:i,numSelected:v.length,order:u,orderBy:p,onSelectAllClick:function(e){if(e.target.checked){var t=n.map((function(e){return e.ID}));y(t)}else y([])},onRequestSort:function(e,t){b(p===t&&"asc"===u?"desc":"asc"),f(t)},rowCount:n.length}),Object(g.jsxs)(R.a,{children:[ca(n,ra(u,p)).slice(C*z,C*z+z).map((function(e,t){var a=function(e){return-1!==v.indexOf(e)}(e.employeeID),r="enhanced-table-checkbox-".concat(t);return Object(g.jsxs)(U.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:i.spacing,onClick:function(){},children:"View"})},"action"),Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(Y.a,{"aria-label":"delete",onClick:function(){return function(e,t){var a=n.filter((function(t){return t.id==e}))[0];"Save"!=t||a.coord?(c((function(t){return n.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{isEditMode:!t.isEditMode}):t}))})),"Save"==t&&(xe(Object(o.a)({},a)),fe([]))):pe({open:!0,message:"Coord is not allowed to be empty"})}(e.employeeID,"Edit")},children:Object(g.jsx)(Dt.a,{})})},"action"),Object(g.jsx)(L.a,{component:"th",id:r,scope:"row",padding:"none",align:"center",children:e.employeeID||"-"}),Object(g.jsx)(L.a,{align:"center",children:e.firstName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.lastName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.phoneNumber||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.telephone||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.location||"-"})," "]},e.employeeID)})),ee>0&&Object(g.jsx)(U.a,{style:{height:(_?33:53)*ee},children:Object(g.jsx)(L.a,{colSpan:6})})]})]})}),Object(g.jsx)(W.a,{rowsPerPageOptions:[100,200,300],component:"div",count:n.length,rowsPerPage:z,page:C,onChangePage:function(e,t){N(t)},onChangeRowsPerPage:function(e){X(parseInt(e.target.value,10)),N(0)}})]}),Object(g.jsx)(te.a,{open:me.open,autoHideDuration:3e3,onClose:Oe,children:Object(g.jsx)(ue,{onClose:Oe,severity:"error",children:me.message})}),Object(g.jsx)(Z.a,{control:Object(g.jsx)(G.a,{checked:_,onChange:function(e){T(e.target.checked)}}),label:"Dense padding"})]})}var ha={position:"absolute",top:"100%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#ffffff",padding:"40px",zIndex:1e3,width:"50%",height:"70%",borderRadius:"1em",display:"inline-table"},ma={position:"fixed",display:"flex",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3,height:"100%",width:"100%",overflowY:"auto"},pa=Object(m.a)({h5:{color:"white"}});function Oa(e){var t=e.open,n=e.children,r=e.onClose,c=Object(a.useState)(!0),l=Object(s.a)(c,2),h=l[0],m=(l[1],Object(a.useState)("")),p=Object(s.a)(m,2),f=(p[0],p[1],Object(a.useState)("")),x=Object(s.a)(f,2),A=(x[0],x[1],Object(a.useState)("None")),v=Object(s.a)(A,2),y=(v[0],v[1],Object(a.useState)(null)),w=Object(s.a)(y,2),S=(w[0],w[1],Object(a.useState)([])),C=Object(s.a)(S,2),N=(C[0],C[1],Object(a.useState)({firstName:"",lastName:"",email:"",phoneNumber:"",password:"",telephone:"",roomNumber:"",location:""})),k=Object(s.a)(N,2),B=k[0],I=k[1],_=pa(),T=function(){var e=Object(P.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.stringify({employeeID:sessionStorage.getItem("userId"),firstName:B.firstName,lastName:B.lastName,email:B.email,password:B.password,phoneNumber:B.phoneNumber,office:{telephone:B.telephone,roomNumber:B.roomNumber,location:B.location}}),console.log(t),O.a.post("".concat(D.API_ROOT,"/api/administrator/addaccountant"),t,{headers:{Authorization:"Bearer token","Content-Type":"application/json"}}).then((function(e){console.log(e),"SUCCESS"===e.data.status&&r()})).catch((function(e){Object(xt.a)(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?i.a.createPortal(Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{style:ma}),Object(g.jsxs)("div",{style:ha,children:[Object(g.jsxs)(d.a,{container:!0,spacing:1,style:{minWidth:"70vw",minHeight:"100vh"},direction:"column",children:[Object(g.jsx)(d.a,{container:!0,direction:"row",style:{minHeight:"40vh",minWidth:"62vw"},id:"AccountantDetails",children:Object(g.jsxs)(d.a,{container:!0,spacing:3,direction:"column",alignItems:"left",justify:"top",lg:4,xl:3,style:{minHeight:"20vh"},children:[Object(g.jsx)(d.a,{style:{minHeight:"13vh"},item:!0,id:"AddAccountant",children:Object(g.jsx)(u.a,{color:"secondary",variant:"h3",children:"Add Accountant"})}),Object(g.jsx)(d.a,{item:!0,id:"personalLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"personal Details:"})}),Object(g.jsx)(d.a,{item:!0,id:"personalDetails",children:Object(g.jsxs)(d.a,{direction:"column",spacing:4,children:[Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"ContactInfo",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"firstName",label:"First Name",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{firstName:e.target.value})}))},value:B.firstName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"lastName",label:"Last Name",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{lastName:e.target.value})}))},value:B.lastName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"phoneNumber",label:"Phone Number",onChange:function(e){I((function(t){return Object(o.a)(Object(o.a)({},t),{},{phoneNumber:e.target.value})}))},value:B.phoneNumber})})]}),Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"credentials",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"email",label:"Email",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{email:e.target.value})}))},value:B.email})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"password",label:"Password",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{password:e.target.value})}))},value:B.password})})]})]})}),Object(g.jsx)(d.a,{item:!0,id:"addressLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"Address:"})}),Object(g.jsx)(d.a,{item:!0,id:"",children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"firstName",label:"landline",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{telephone:e.target.value})}))},value:B.telephone})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"roomNumber",label:"Room Number",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{roomNumber:e.target.value})}))},value:B.roomNumber})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"location",label:"Location",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{location:e.target.value})}))},value:B.location})})]})}),Object(g.jsxs)(d.a,{container:!0,spacing:2,direction:"row",id:"Buttons",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:_.spacing,onClick:r,sx:{p:2},children:"Cancel"})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:_.spacing,onClick:T,children:"add Accountant"})})]})]}),n]})]}),document.getElementById("portal")):null}function Da(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function ga(e,t){return"desc"===e?function(e,n){return Da(e,n,t)}:function(e,n){return-Da(e,n,t)}}function fa(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}function xa(e,t){var n=".".concat(e),a=new Date,r="routifics_".concat(a.getDate()).concat(a.getMonth()).concat(a.getFullYear(),"_").concat(a.getTime()),c={Sheets:{data:ht.a.utils.json_to_sheet(t)},SheetNames:["data"]},i=ht.a.write(c,{bookType:"".concat(e),type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});pt.a.saveAs(o,r+n)}var Aa=[{id:"employeeID",numeric:!0,disablePadding:!1,label:"ID"},{id:"firstName",numeric:!1,disablePadding:!1,label:"First Name"},{id:"lastName",numeric:!1,disablePadding:!1,label:"Last Name"},{id:"phoneNumber",numeric:!0,disablePadding:!1,label:"phone Number"},{id:"telephone",numeric:!0,disablePadding:!1,label:"telephone"},{id:"loc",numeric:!0,disablePadding:!1,label:"Location"}];function va(e){var t=e.classes,n=(e.onSelectAllClick,e.order),a=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort);return Object(g.jsx)(q.a,{children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Details"},"action"),Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Cancel Order"},"action"),Aa.map((function(e){return Object(g.jsx)(L.a,{align:"center",padding:e.disablePadding?"none":"default",sortDirection:a===e.id&&n,children:Object(g.jsxs)(z.a,{active:a===e.id,direction:a===e.id?n:"asc",onClick:(c=e.id,function(e){r(e,c)}),children:[e.label,a===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var c}))]})})}var ya=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.f)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},marginL1:{marginLeft:"1rem"},title:{flex:"1 1 100%"}}})),wa=function(e){var t=[];return Array.isArray(e)&&(t=e.map((function(e){return{reference_number:e.reference_number,coord:e.locations&&e.locations.length>0?e.locations[0].coord:null,from:e.routifics&&e.routifics.length>0?e.routifics[0].from:null,to:e.routifics&&e.routifics.length>0?e.routifics[0].to:null,aging:"7",load:null,destination_phone:e.destination_phone,email:null,service_type:e.service_type,priority:"yes",destination_name:e.destination_name,cod_amount:e.cod_amount,customer_reference_number:e.customer_reference_number,whatsapp_link:"http://wa.me/"+e.destination_phone,whatsapp_location:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D8%B1%D8%AC%D9%88%20%D8%A5%D8%B1%D8%B3%D8%A7%D9%84%20%D8%A7%D9%84%D9%84%D9%88%D9%83%D9%8A%D8%B4%D9%86%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20%D8%A8%D8%B1%D9%82%D9%85%20"+e.reference_number,whatsapp_no_answer:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D9%86%D8%A7%20%D9%82%D8%B1%D9%8A%D8%A8%20%D9%85%D9%86%20%D8%A7%D9%84%D9%85%D9%88%D9%82%D8%B9%20%D9%88%D8%AA%D9%85%D8%AA%20%D9%85%D8%AD%D8%A7%D9%88%D9%84%D8%A9%20%D8%A7%D9%84%D8%A7%D8%AA%D8%B5%D8%A7%D9%84%D8%8C%20%D9%86%D8%B1%D8%AC%D9%88%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20"+e.reference_number+"%20%D9%81%D9%8A%20%D8%AD%D8%A7%D9%84%20%D9%84%D9%85%20%D9%8A%D8%AA%D9%85%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%D8%8C%20%D8%B3%D8%AA%D8%AA%D9%85%20%D8%A5%D8%B9%D8%A7%D8%AF%D8%A9%20%D8%A7%D9%84%D8%AC%D8%AF%D9%88%D9%84%D8%A9%20%D9%84%D9%8A%D9%88%D9%85%20%D8%A7%D9%84%D8%B9%D9%85%D9%84%20%D8%A7%D9%84%D9%82%D8%A7%D8%AF%D9%85%D8%8C%20%D9%88%D8%B4%D9%83%D8%B1%D8%A7%D8%8C%0A"}}))),t},Sa=function(e){var t=ya(),n=e.numSelected,r=e.selectedRows,c=(e.data,Object(a.useState)(!1)),i=Object(s.a)(c,2);i[0],i[1];function o(e){return b.apply(this,arguments)}function b(){return b=Object(P.a)(E.a.mark((function e(t){var n,a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/rfdexport"),{reference_number:Object(I.a)(r)});case 2:n=e.sent,a=n.data,c=wa(a),xa(t,c);case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}return Object(g.jsxs)(X.a,{className:Object(T.a)(t.root,Object(l.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Accountant"}),n>0?Object(g.jsx)(Q.a,{title:"",children:Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(d.a,{container:!0,children:Object(g.jsx)(j.a,{onClick:Object(P.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("csv");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:t.marginL1,variant:"contained",children:"Export CSV"})})})}):Object(g.jsx)(Q.a,{title:"Filter list",children:Object(g.jsx)(Y.a,{"aria-label":"filter list",children:Object(g.jsx)($.a,{})})})]})},Ca=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},ml1:{marginLeft:"1rem"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Na(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Ca(),l=r.a.useState("asc"),d=Object(s.a)(l,2),u=d[0],b=d[1],h=r.a.useState("employeeID"),m=Object(s.a)(h,2),p=m[0],f=m[1],x=r.a.useState([]),A=Object(s.a)(x,2),v=A[0],y=A[1],w=r.a.useState(0),S=Object(s.a)(w,2),C=S[0],N=S[1],k=r.a.useState(!1),B=Object(s.a)(k,2),_=B[0],T=B[1],F=r.a.useState(200),q=Object(s.a)(F,2),z=q[0],X=q[1],K=Object(a.useState)(!1),Q=Object(s.a)(K,2),J=Q[0],$=Q[1],ee=z-Math.min(z,n.length-C*z),ne=function(){var e=Object(P.a)(E.a.mark((function e(t,n){var a,r,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=sessionStorage.getItem("token"),r=_e.a.stringify({employeeID:sessionStorage.getItem("userId")},{skipEmptyString:!0,skipNull:!0}),i=[],O.a.get("".concat(D.API_ROOT,"/api/administrator/viewAccountants").concat(r?"?".concat(r):""),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e.data),i=e.data;var t=[];console.log("is Array"),Array.isArray(i)&&(t=i.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{employeeID:e.employeeID,isEditMode:!1})}))),console.log(t),c(Object(I.a)(t))})),console.log(i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ne(),console.log(n)}),[]);ae=n[0];var ae,re,ce,ie,oe,se,le,de,je,be=r.a.useState({open:!1,message:""}),he=Object(s.a)(be,2),me=he[0],pe=he[1],Oe=function(e,t){"clickaway"!==t&&pe({open:!1,message:""})},De=r.a.useState({}),ge=Object(s.a)(De,2),fe=(ge[0],ge[1]),xe=function(){var e=Object(P.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/newlocation"),{reference_number:t.reference_number,coord:t.coord});case 2:n=e.sent,200!==(a=n.data).statusCode&&pe({open:!0,message:a.message});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){}),[]),Object(g.jsxs)("div",{className:i.root,children:[Object(g.jsx)(Ue,{handleFilters:function(e,t){return ne(e,t)}}),Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:i.spacing,onClick:function(){return $(!0)},children:"add Accountant"}),Object(g.jsx)(Oa,{open:J,onClose:function(){return $(!1)}}),Object(g.jsxs)(V.a,{className:i.paper,children:[Object(g.jsx)(Sa,{numSelected:v.length,data:n,selectedRows:Object(I.a)(v)}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(H.a,{className:i.table,"aria-labelledby":"tableTitle",size:_?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(va,{classes:i,numSelected:v.length,order:u,orderBy:p,onSelectAllClick:function(e){if(e.target.checked){var t=n.map((function(e){return e.ID}));y(t)}else y([])},onRequestSort:function(e,t){b(p===t&&"asc"===u?"desc":"asc"),f(t)},rowCount:n.length}),Object(g.jsxs)(R.a,{children:[fa(n,ga(u,p)).slice(C*z,C*z+z).map((function(e,t){var a=function(e){return-1!==v.indexOf(e)}(e.employeeID),r="enhanced-table-checkbox-".concat(t);return Object(g.jsxs)(U.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:i.spacing,onClick:function(){},children:"View"})},"action"),Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(Y.a,{"aria-label":"delete",onClick:function(){return function(e,t){var a=n.filter((function(t){return t.id==e}))[0];"Save"!=t||a.coord?(c((function(t){return n.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{isEditMode:!t.isEditMode}):t}))})),"Save"==t&&(xe(Object(o.a)({},a)),fe([]))):pe({open:!0,message:"Coord is not allowed to be empty"})}(e.employeeID,"Edit")},children:Object(g.jsx)(Dt.a,{})})},"action"),Object(g.jsx)(L.a,{component:"th",id:r,scope:"row",padding:"none",align:"center",children:e.employeeID||"-"}),Object(g.jsx)(L.a,{align:"center",children:e.firstName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.lastName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.phoneNumber||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.telephone||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.location||"-"})," "]},e.employeeID)})),ee>0&&Object(g.jsx)(U.a,{style:{height:(_?33:53)*ee},children:Object(g.jsx)(L.a,{colSpan:6})})]})]})}),Object(g.jsx)(W.a,{rowsPerPageOptions:[100,200,300],component:"div",count:n.length,rowsPerPage:z,page:C,onChangePage:function(e,t){N(t)},onChangeRowsPerPage:function(e){X(parseInt(e.target.value,10)),N(0)}})]}),Object(g.jsx)(te.a,{open:me.open,autoHideDuration:3e3,onClose:Oe,children:Object(g.jsx)(ue,{onClose:Oe,severity:"error",children:me.message})}),Object(g.jsx)(Z.a,{control:Object(g.jsx)(G.a,{checked:_,onChange:function(e){T(e.target.checked)}}),label:"Dense padding"})]})}var ka={position:"absolute",top:"100%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#ffffff",padding:"40px",zIndex:1e3,width:"50%",height:"70%",borderRadius:"1em",display:"inline-table"},Ba={position:"fixed",display:"flex",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3,height:"100%",width:"100%",overflowY:"auto"},Ia=Object(m.a)({h5:{color:"white"}});function Pa(e){var t=e.open,n=e.children,r=e.onClose,c=Object(a.useState)(!0),l=Object(s.a)(c,2),h=l[0],m=(l[1],Object(a.useState)("")),p=Object(s.a)(m,2),f=(p[0],p[1],Object(a.useState)("")),x=Object(s.a)(f,2),A=(x[0],x[1],Object(a.useState)("None")),v=Object(s.a)(A,2),y=(v[0],v[1],Object(a.useState)(null)),w=Object(s.a)(y,2),S=(w[0],w[1],Object(a.useState)([])),C=Object(s.a)(S,2),N=(C[0],C[1],Object(a.useState)({firstName:"",lastName:"",email:"",phoneNumber:"",password:"",telephone:"",roomNumber:"",location:""})),k=Object(s.a)(N,2),B=k[0],I=k[1],_=Ia(),T=function(){var e=Object(P.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.stringify({employeeID:sessionStorage.getItem("userId"),firstName:B.firstName,lastName:B.lastName,email:B.email,password:B.password,phoneNumber:B.phoneNumber,office:{telephone:B.telephone,roomNumber:B.roomNumber,location:B.location}}),console.log(t),O.a.post("".concat(D.API_ROOT,"/api/administrator/addlogisticManager"),t,{headers:{Authorization:"Bearer token","Content-Type":"application/json"}}).then((function(e){console.log(e),"SUCCESS"===e.data.status&&r()})).catch((function(e){Object(xt.a)(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?i.a.createPortal(Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{style:Ba}),Object(g.jsxs)("div",{style:ka,children:[Object(g.jsxs)(d.a,{container:!0,spacing:1,style:{minWidth:"70vw",minHeight:"100vh"},direction:"column",children:[Object(g.jsx)(d.a,{container:!0,direction:"row",style:{minHeight:"40vh",minWidth:"62vw"},id:"DispatcherDetails",children:Object(g.jsxs)(d.a,{container:!0,spacing:3,direction:"column",alignItems:"left",justify:"top",lg:4,xl:3,style:{minHeight:"20vh"},children:[Object(g.jsx)(d.a,{style:{minHeight:"13vh"},item:!0,id:"AddDispatcher",children:Object(g.jsx)(u.a,{color:"secondary",variant:"h3",children:"Add Logistic Manager"})}),Object(g.jsx)(d.a,{item:!0,id:"personalLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"personal Details:"})}),Object(g.jsx)(d.a,{item:!0,id:"personalDetails",children:Object(g.jsxs)(d.a,{direction:"column",spacing:4,children:[Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"ContactInfo",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"firstName",label:"First Name",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{firstName:e.target.value})}))},value:B.firstName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"lastName",label:"Last Name",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{lastName:e.target.value})}))},value:B.lastName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"phoneNumber",label:"Phone Number",onChange:function(e){I((function(t){return Object(o.a)(Object(o.a)({},t),{},{phoneNumber:e.target.value})}))},value:B.phoneNumber})})]}),Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"credentials",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"email",label:"Email",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{email:e.target.value})}))},value:B.email})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"password",label:"Password",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{password:e.target.value})}))},value:B.password})})]})]})}),Object(g.jsx)(d.a,{item:!0,id:"addressLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"Address:"})}),Object(g.jsx)(d.a,{item:!0,id:"",children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"firstName",label:"landline",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{telephone:e.target.value})}))},value:B.telephone})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"roomNumber",label:"Room Number",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{roomNumber:e.target.value})}))},value:B.roomNumber})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"location",label:"Location",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{location:e.target.value})}))},value:B.location})})]})}),Object(g.jsxs)(d.a,{container:!0,spacing:2,direction:"row",id:"Buttons",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:_.spacing,onClick:r,sx:{p:2},children:"Cancel"})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:_.spacing,onClick:T,children:"add Logistic Manager"})})]})]}),n]})]}),document.getElementById("portal")):null}function _a(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Ea(e,t){return"desc"===e?function(e,n){return _a(e,n,t)}:function(e,n){return-_a(e,n,t)}}function Ta(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}function Fa(e,t){var n=".".concat(e),a=new Date,r="routifics_".concat(a.getDate()).concat(a.getMonth()).concat(a.getFullYear(),"_").concat(a.getTime()),c={Sheets:{data:ht.a.utils.json_to_sheet(t)},SheetNames:["data"]},i=ht.a.write(c,{bookType:"".concat(e),type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});pt.a.saveAs(o,r+n)}var Ha=[{id:"employeeID",numeric:!0,disablePadding:!1,label:"ID"},{id:"firstName",numeric:!1,disablePadding:!1,label:"First Name"},{id:"lastName",numeric:!1,disablePadding:!1,label:"Last Name"},{id:"phoneNumber",numeric:!0,disablePadding:!1,label:"phone Number"},{id:"telephone",numeric:!0,disablePadding:!1,label:"telephone"},{id:"loc",numeric:!0,disablePadding:!1,label:"Location"}];function Ra(e){var t=e.classes,n=(e.onSelectAllClick,e.order),a=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort);return Object(g.jsx)(q.a,{children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Details"},"action"),Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Cancel Order"},"action"),Ha.map((function(e){return Object(g.jsx)(L.a,{align:"center",padding:e.disablePadding?"none":"default",sortDirection:a===e.id&&n,children:Object(g.jsxs)(z.a,{active:a===e.id,direction:a===e.id?n:"asc",onClick:(c=e.id,function(e){r(e,c)}),children:[e.label,a===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var c}))]})})}var La=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.f)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},marginL1:{marginLeft:"1rem"},title:{flex:"1 1 100%"}}})),Ma=function(e){var t=[];return Array.isArray(e)&&(t=e.map((function(e){return{reference_number:e.reference_number,coord:e.locations&&e.locations.length>0?e.locations[0].coord:null,from:e.routifics&&e.routifics.length>0?e.routifics[0].from:null,to:e.routifics&&e.routifics.length>0?e.routifics[0].to:null,aging:"7",load:null,destination_phone:e.destination_phone,email:null,service_type:e.service_type,priority:"yes",destination_name:e.destination_name,cod_amount:e.cod_amount,customer_reference_number:e.customer_reference_number,whatsapp_link:"http://wa.me/"+e.destination_phone,whatsapp_location:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D8%B1%D8%AC%D9%88%20%D8%A5%D8%B1%D8%B3%D8%A7%D9%84%20%D8%A7%D9%84%D9%84%D9%88%D9%83%D9%8A%D8%B4%D9%86%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20%D8%A8%D8%B1%D9%82%D9%85%20"+e.reference_number,whatsapp_no_answer:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D9%86%D8%A7%20%D9%82%D8%B1%D9%8A%D8%A8%20%D9%85%D9%86%20%D8%A7%D9%84%D9%85%D9%88%D9%82%D8%B9%20%D9%88%D8%AA%D9%85%D8%AA%20%D9%85%D8%AD%D8%A7%D9%88%D9%84%D8%A9%20%D8%A7%D9%84%D8%A7%D8%AA%D8%B5%D8%A7%D9%84%D8%8C%20%D9%86%D8%B1%D8%AC%D9%88%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20"+e.reference_number+"%20%D9%81%D9%8A%20%D8%AD%D8%A7%D9%84%20%D9%84%D9%85%20%D9%8A%D8%AA%D9%85%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%D8%8C%20%D8%B3%D8%AA%D8%AA%D9%85%20%D8%A5%D8%B9%D8%A7%D8%AF%D8%A9%20%D8%A7%D9%84%D8%AC%D8%AF%D9%88%D9%84%D8%A9%20%D9%84%D9%8A%D9%88%D9%85%20%D8%A7%D9%84%D8%B9%D9%85%D9%84%20%D8%A7%D9%84%D9%82%D8%A7%D8%AF%D9%85%D8%8C%20%D9%88%D8%B4%D9%83%D8%B1%D8%A7%D8%8C%0A"}}))),t},qa=function(e){var t=La(),n=e.numSelected,r=e.selectedRows,c=(e.data,Object(a.useState)(!1)),i=Object(s.a)(c,2);i[0],i[1];function o(e){return b.apply(this,arguments)}function b(){return b=Object(P.a)(E.a.mark((function e(t){var n,a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/rfdexport"),{reference_number:Object(I.a)(r)});case 2:n=e.sent,a=n.data,c=Ma(a),Fa(t,c);case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}return Object(g.jsxs)(X.a,{className:Object(T.a)(t.root,Object(l.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Logistic Manager"}),n>0?Object(g.jsx)(Q.a,{title:"",children:Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(d.a,{container:!0,children:Object(g.jsx)(j.a,{onClick:Object(P.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("csv");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:t.marginL1,variant:"contained",children:"Export CSV"})})})}):Object(g.jsx)(Q.a,{title:"Filter list",children:Object(g.jsx)(Y.a,{"aria-label":"filter list",children:Object(g.jsx)($.a,{})})})]})},Wa=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},ml1:{marginLeft:"1rem"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Ua(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Wa(),l=r.a.useState("asc"),d=Object(s.a)(l,2),u=d[0],b=d[1],h=r.a.useState("employeeID"),m=Object(s.a)(h,2),p=m[0],f=m[1],x=r.a.useState([]),A=Object(s.a)(x,2),v=A[0],y=A[1],w=r.a.useState(0),S=Object(s.a)(w,2),C=S[0],N=S[1],k=r.a.useState(!1),B=Object(s.a)(k,2),_=B[0],T=B[1],F=r.a.useState(200),q=Object(s.a)(F,2),z=q[0],X=q[1],K=Object(a.useState)(!1),Q=Object(s.a)(K,2),J=Q[0],$=Q[1],ee=z-Math.min(z,n.length-C*z),ne=function(){var e=Object(P.a)(E.a.mark((function e(t,n){var a,r,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=sessionStorage.getItem("token"),r=_e.a.stringify({employeeID:sessionStorage.getItem("userId")},{skipEmptyString:!0,skipNull:!0}),i=[],O.a.get("".concat(D.API_ROOT,"/api/administrator/viewLogisticManagers").concat(r?"?".concat(r):""),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e.data),i=e.data;var t=[];console.log("is Array"),Array.isArray(i)&&(t=i.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{employeeID:e.employeeID,isEditMode:!1})}))),console.log(t),c(Object(I.a)(t))})),console.log(i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ne(),console.log(n)}),[]);ae=n[0];var ae,re,ce,ie,oe,se,le,de,je,be=r.a.useState({open:!1,message:""}),he=Object(s.a)(be,2),me=he[0],pe=he[1],Oe=function(e,t){"clickaway"!==t&&pe({open:!1,message:""})},De=r.a.useState({}),ge=Object(s.a)(De,2),fe=(ge[0],ge[1]),xe=function(){var e=Object(P.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/newlocation"),{reference_number:t.reference_number,coord:t.coord});case 2:n=e.sent,200!==(a=n.data).statusCode&&pe({open:!0,message:a.message});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){}),[]),Object(g.jsxs)("div",{className:i.root,children:[Object(g.jsx)(Ue,{handleFilters:function(e,t){return ne(e,t)}}),Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:i.spacing,onClick:function(){return $(!0)},children:"add Logistic Manager"}),Object(g.jsx)(Pa,{open:J,onClose:function(){return $(!1)}}),Object(g.jsxs)(V.a,{className:i.paper,children:[Object(g.jsx)(qa,{numSelected:v.length,data:n,selectedRows:Object(I.a)(v)}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(H.a,{className:i.table,"aria-labelledby":"tableTitle",size:_?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(Ra,{classes:i,numSelected:v.length,order:u,orderBy:p,onSelectAllClick:function(e){if(e.target.checked){var t=n.map((function(e){return e.ID}));y(t)}else y([])},onRequestSort:function(e,t){b(p===t&&"asc"===u?"desc":"asc"),f(t)},rowCount:n.length}),Object(g.jsxs)(R.a,{children:[Ta(n,Ea(u,p)).slice(C*z,C*z+z).map((function(e,t){var a=function(e){return-1!==v.indexOf(e)}(e.employeeID),r="enhanced-table-checkbox-".concat(t);return Object(g.jsxs)(U.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:i.spacing,onClick:function(){},children:"View"})},"action"),Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(Y.a,{"aria-label":"delete",onClick:function(){return function(e,t){var a=n.filter((function(t){return t.id==e}))[0];"Save"!=t||a.coord?(c((function(t){return n.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{isEditMode:!t.isEditMode}):t}))})),"Save"==t&&(xe(Object(o.a)({},a)),fe([]))):pe({open:!0,message:"Coord is not allowed to be empty"})}(e.employeeID,"Edit")},children:Object(g.jsx)(Dt.a,{})})},"action"),Object(g.jsx)(L.a,{component:"th",id:r,scope:"row",padding:"none",align:"center",children:e.employeeID||"-"}),Object(g.jsx)(L.a,{align:"center",children:e.firstName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.lastName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.phoneNumber||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.telephone||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.location||"-"})," "]},e.employeeID)})),ee>0&&Object(g.jsx)(U.a,{style:{height:(_?33:53)*ee},children:Object(g.jsx)(L.a,{colSpan:6})})]})]})}),Object(g.jsx)(W.a,{rowsPerPageOptions:[100,200,300],component:"div",count:n.length,rowsPerPage:z,page:C,onChangePage:function(e,t){N(t)},onChangeRowsPerPage:function(e){X(parseInt(e.target.value,10)),N(0)}})]}),Object(g.jsx)(te.a,{open:me.open,autoHideDuration:3e3,onClose:Oe,children:Object(g.jsx)(ue,{onClose:Oe,severity:"error",children:me.message})}),Object(g.jsx)(Z.a,{control:Object(g.jsx)(G.a,{checked:_,onChange:function(e){T(e.target.checked)}}),label:"Dense padding"})]})}var za={position:"absolute",top:"100%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#ffffff",padding:"40px",zIndex:1e3,width:"50%",height:"70%",borderRadius:"1em",display:"inline-table"},Xa={position:"fixed",display:"flex",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3,height:"100%",width:"100%",overflowY:"auto"},Va=Object(m.a)({h5:{color:"white"}});function Ka(e){var t=e.open,n=e.children,r=e.onClose,c=Object(a.useState)(!0),l=Object(s.a)(c,2),h=l[0],m=(l[1],Object(a.useState)("")),p=Object(s.a)(m,2),f=(p[0],p[1],Object(a.useState)("")),x=Object(s.a)(f,2),A=(x[0],x[1],Object(a.useState)("None")),v=Object(s.a)(A,2),y=(v[0],v[1],Object(a.useState)(null)),w=Object(s.a)(y,2),S=(w[0],w[1],Object(a.useState)([])),C=Object(s.a)(S,2),N=(C[0],C[1],Object(a.useState)({firstName:"",lastName:"",email:"",phoneNumber:"",password:"",telephone:"",roomNumber:"",location:""})),k=Object(s.a)(N,2),B=k[0],I=k[1],_=Va(),T=function(){var e=Object(P.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.stringify({employeeID:sessionStorage.getItem("userId"),firstName:B.firstName,lastName:B.lastName,email:B.email,password:B.password,phoneNumber:B.phoneNumber,office:{telephone:B.telephone,roomNumber:B.roomNumber,location:B.location}}),console.log(t),O.a.post("".concat(D.API_ROOT,"/api/administrator/addfreightBroker"),t,{headers:{Authorization:"Bearer token","Content-Type":"application/json"}}).then((function(e){console.log(e),"SUCCESS"===e.data.status&&r()})).catch((function(e){Object(xt.a)(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?i.a.createPortal(Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{style:Xa}),Object(g.jsxs)("div",{style:za,children:[Object(g.jsxs)(d.a,{container:!0,spacing:1,style:{minWidth:"70vw",minHeight:"100vh"},direction:"column",children:[Object(g.jsx)(d.a,{container:!0,direction:"row",style:{minHeight:"40vh",minWidth:"62vw"},id:"DispatcherDetails",children:Object(g.jsxs)(d.a,{container:!0,spacing:3,direction:"column",alignItems:"left",justify:"top",lg:4,xl:3,style:{minHeight:"20vh"},children:[Object(g.jsx)(d.a,{style:{minHeight:"13vh"},item:!0,id:"AddDispatcher",children:Object(g.jsx)(u.a,{color:"secondary",variant:"h3",children:"Add Freight Broker"})}),Object(g.jsx)(d.a,{item:!0,id:"personalLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"personal Details:"})}),Object(g.jsx)(d.a,{item:!0,id:"personalDetails",children:Object(g.jsxs)(d.a,{direction:"column",spacing:4,children:[Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"ContactInfo",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"firstName",label:"First Name",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{firstName:e.target.value})}))},value:B.firstName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"lastName",label:"Last Name",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{lastName:e.target.value})}))},value:B.lastName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"phoneNumber",label:"Phone Number",onChange:function(e){I((function(t){return Object(o.a)(Object(o.a)({},t),{},{phoneNumber:e.target.value})}))},value:B.phoneNumber})})]}),Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"credentials",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"email",label:"Email",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{email:e.target.value})}))},value:B.email})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"password",label:"Password",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{password:e.target.value})}))},value:B.password})})]})]})}),Object(g.jsx)(d.a,{item:!0,id:"addressLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"Address:"})}),Object(g.jsx)(d.a,{item:!0,id:"",children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"firstName",label:"landline",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{telephone:e.target.value})}))},value:B.telephone})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"roomNumber",label:"Room Number",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{roomNumber:e.target.value})}))},value:B.roomNumber})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"location",label:"Location",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{location:e.target.value})}))},value:B.location})})]})}),Object(g.jsxs)(d.a,{container:!0,spacing:2,direction:"row",id:"Buttons",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:_.spacing,onClick:r,sx:{p:2},children:"Cancel"})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:_.spacing,onClick:T,children:"add Freight Broker"})})]})]}),n]})]}),document.getElementById("portal")):null}function Ya(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Qa(e,t){return"desc"===e?function(e,n){return Ya(e,n,t)}:function(e,n){return-Ya(e,n,t)}}function Za(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}function Ga(e,t){var n=".".concat(e),a=new Date,r="routifics_".concat(a.getDate()).concat(a.getMonth()).concat(a.getFullYear(),"_").concat(a.getTime()),c={Sheets:{data:ht.a.utils.json_to_sheet(t)},SheetNames:["data"]},i=ht.a.write(c,{bookType:"".concat(e),type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});pt.a.saveAs(o,r+n)}var Ja=[{id:"employeeID",numeric:!0,disablePadding:!1,label:"ID"},{id:"firstName",numeric:!1,disablePadding:!1,label:"First Name"},{id:"lastName",numeric:!1,disablePadding:!1,label:"Last Name"},{id:"phoneNumber",numeric:!0,disablePadding:!1,label:"phone Number"},{id:"telephone",numeric:!0,disablePadding:!1,label:"telephone"},{id:"loc",numeric:!0,disablePadding:!1,label:"Location"}];function $a(e){var t=e.classes,n=(e.onSelectAllClick,e.order),a=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort);return Object(g.jsx)(q.a,{children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Details"},"action"),Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Cancel Order"},"action"),Ja.map((function(e){return Object(g.jsx)(L.a,{align:"center",padding:e.disablePadding?"none":"default",sortDirection:a===e.id&&n,children:Object(g.jsxs)(z.a,{active:a===e.id,direction:a===e.id?n:"asc",onClick:(c=e.id,function(e){r(e,c)}),children:[e.label,a===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var c}))]})})}var er=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.f)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},marginL1:{marginLeft:"1rem"},title:{flex:"1 1 100%"}}})),tr=function(e){var t=[];return Array.isArray(e)&&(t=e.map((function(e){return{reference_number:e.reference_number,coord:e.locations&&e.locations.length>0?e.locations[0].coord:null,from:e.routifics&&e.routifics.length>0?e.routifics[0].from:null,to:e.routifics&&e.routifics.length>0?e.routifics[0].to:null,aging:"7",load:null,destination_phone:e.destination_phone,email:null,service_type:e.service_type,priority:"yes",destination_name:e.destination_name,cod_amount:e.cod_amount,customer_reference_number:e.customer_reference_number,whatsapp_link:"http://wa.me/"+e.destination_phone,whatsapp_location:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D8%B1%D8%AC%D9%88%20%D8%A5%D8%B1%D8%B3%D8%A7%D9%84%20%D8%A7%D9%84%D9%84%D9%88%D9%83%D9%8A%D8%B4%D9%86%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20%D8%A8%D8%B1%D9%82%D9%85%20"+e.reference_number,whatsapp_no_answer:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D9%86%D8%A7%20%D9%82%D8%B1%D9%8A%D8%A8%20%D9%85%D9%86%20%D8%A7%D9%84%D9%85%D9%88%D9%82%D8%B9%20%D9%88%D8%AA%D9%85%D8%AA%20%D9%85%D8%AD%D8%A7%D9%88%D9%84%D8%A9%20%D8%A7%D9%84%D8%A7%D8%AA%D8%B5%D8%A7%D9%84%D8%8C%20%D9%86%D8%B1%D8%AC%D9%88%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20"+e.reference_number+"%20%D9%81%D9%8A%20%D8%AD%D8%A7%D9%84%20%D9%84%D9%85%20%D9%8A%D8%AA%D9%85%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%D8%8C%20%D8%B3%D8%AA%D8%AA%D9%85%20%D8%A5%D8%B9%D8%A7%D8%AF%D8%A9%20%D8%A7%D9%84%D8%AC%D8%AF%D9%88%D9%84%D8%A9%20%D9%84%D9%8A%D9%88%D9%85%20%D8%A7%D9%84%D8%B9%D9%85%D9%84%20%D8%A7%D9%84%D9%82%D8%A7%D8%AF%D9%85%D8%8C%20%D9%88%D8%B4%D9%83%D8%B1%D8%A7%D8%8C%0A"}}))),t},nr=function(e){var t=er(),n=e.numSelected,r=e.selectedRows,c=(e.data,Object(a.useState)(!1)),i=Object(s.a)(c,2);i[0],i[1];function o(e){return b.apply(this,arguments)}function b(){return b=Object(P.a)(E.a.mark((function e(t){var n,a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/rfdexport"),{reference_number:Object(I.a)(r)});case 2:n=e.sent,a=n.data,c=tr(a),Ga(t,c);case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}return Object(g.jsxs)(X.a,{className:Object(T.a)(t.root,Object(l.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Freight Broker"}),n>0?Object(g.jsx)(Q.a,{title:"",children:Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(d.a,{container:!0,children:Object(g.jsx)(j.a,{onClick:Object(P.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("csv");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:t.marginL1,variant:"contained",children:"Export CSV"})})})}):Object(g.jsx)(Q.a,{title:"Filter list",children:Object(g.jsx)(Y.a,{"aria-label":"filter list",children:Object(g.jsx)($.a,{})})})]})},ar=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},ml1:{marginLeft:"1rem"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function rr(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=ar(),l=r.a.useState("asc"),d=Object(s.a)(l,2),u=d[0],b=d[1],h=r.a.useState("employeeID"),m=Object(s.a)(h,2),p=m[0],f=m[1],x=r.a.useState([]),A=Object(s.a)(x,2),v=A[0],y=A[1],w=r.a.useState(0),S=Object(s.a)(w,2),C=S[0],N=S[1],k=r.a.useState(!1),B=Object(s.a)(k,2),_=B[0],T=B[1],F=r.a.useState(200),q=Object(s.a)(F,2),z=q[0],X=q[1],K=Object(a.useState)(!1),Q=Object(s.a)(K,2),J=Q[0],$=Q[1],ee=z-Math.min(z,n.length-C*z),ne=function(){var e=Object(P.a)(E.a.mark((function e(t,n){var a,r,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=sessionStorage.getItem("token"),r=_e.a.stringify({employeeID:sessionStorage.getItem("userId")},{skipEmptyString:!0,skipNull:!0}),i=[],O.a.get("".concat(D.API_ROOT,"/api/administrator/viewFreightBrokers").concat(r?"?".concat(r):""),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e.data),i=e.data;var t=[];console.log("is Array"),Array.isArray(i)&&(t=i.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{employeeID:e.employeeID,isEditMode:!1})}))),console.log(t),c(Object(I.a)(t))})),console.log(i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ne(),console.log(n)}),[]);ae=n[0];var ae,re,ce,ie,oe,se,le,de,je,be=r.a.useState({open:!1,message:""}),he=Object(s.a)(be,2),me=he[0],pe=he[1],Oe=function(e,t){"clickaway"!==t&&pe({open:!1,message:""})},De=r.a.useState({}),ge=Object(s.a)(De,2),fe=(ge[0],ge[1]),xe=function(){var e=Object(P.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/newlocation"),{reference_number:t.reference_number,coord:t.coord});case 2:n=e.sent,200!==(a=n.data).statusCode&&pe({open:!0,message:a.message});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){}),[]),Object(g.jsxs)("div",{className:i.root,children:[Object(g.jsx)(Ue,{handleFilters:function(e,t){return ne(e,t)}}),Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:i.spacing,onClick:function(){return $(!0)},children:"add Freight Broker"}),Object(g.jsx)(Ka,{open:J,onClose:function(){return $(!1)}}),Object(g.jsxs)(V.a,{className:i.paper,children:[Object(g.jsx)(nr,{numSelected:v.length,data:n,selectedRows:Object(I.a)(v)}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(H.a,{className:i.table,"aria-labelledby":"tableTitle",size:_?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)($a,{classes:i,numSelected:v.length,order:u,orderBy:p,onSelectAllClick:function(e){if(e.target.checked){var t=n.map((function(e){return e.ID}));y(t)}else y([])},onRequestSort:function(e,t){b(p===t&&"asc"===u?"desc":"asc"),f(t)},rowCount:n.length}),Object(g.jsxs)(R.a,{children:[Za(n,Qa(u,p)).slice(C*z,C*z+z).map((function(e,t){var a=function(e){return-1!==v.indexOf(e)}(e.employeeID),r="enhanced-table-checkbox-".concat(t);return Object(g.jsxs)(U.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:i.spacing,onClick:function(){},children:"View"})},"action"),Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(Y.a,{"aria-label":"delete",onClick:function(){return function(e,t){var a=n.filter((function(t){return t.id==e}))[0];"Save"!=t||a.coord?(c((function(t){return n.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{isEditMode:!t.isEditMode}):t}))})),"Save"==t&&(xe(Object(o.a)({},a)),fe([]))):pe({open:!0,message:"Coord is not allowed to be empty"})}(e.employeeID,"Edit")},children:Object(g.jsx)(Dt.a,{})})},"action"),Object(g.jsx)(L.a,{component:"th",id:r,scope:"row",padding:"none",align:"center",children:e.employeeID||"-"}),Object(g.jsx)(L.a,{align:"center",children:e.firstName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.lastName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.phoneNumber||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.telephone||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.location||"-"})," "]},e.employeeID)})),ee>0&&Object(g.jsx)(U.a,{style:{height:(_?33:53)*ee},children:Object(g.jsx)(L.a,{colSpan:6})})]})]})}),Object(g.jsx)(W.a,{rowsPerPageOptions:[100,200,300],component:"div",count:n.length,rowsPerPage:z,page:C,onChangePage:function(e,t){N(t)},onChangeRowsPerPage:function(e){X(parseInt(e.target.value,10)),N(0)}})]}),Object(g.jsx)(te.a,{open:me.open,autoHideDuration:3e3,onClose:Oe,children:Object(g.jsx)(ue,{onClose:Oe,severity:"error",children:me.message})}),Object(g.jsx)(Z.a,{control:Object(g.jsx)(G.a,{checked:_,onChange:function(e){T(e.target.checked)}}),label:"Dense padding"})]})}var cr=function(){return Object(g.jsx)(A.a,{theme:S,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(Gn.a,{routes:[{name:"Accountants",link:"/accountant",activeIndex:0},{name:"Customer Services",link:"/",activeIndex:1},{name:"Freight Srokers",link:"/freightBroker",activeIndex:2},{name:"Logistic Managers",link:"/logisticManager",activeIndex:3}]}),Object(g.jsxs)(y.c,{children:[Object(g.jsxs)(y.a,{exact:!0,path:"/",children:[" ",Object(g.jsx)(ba,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/accountant",children:[" ",Object(g.jsx)(Na,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/logisticManager",children:[" ",Object(g.jsx)(Ua,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/freightBroker",children:[" ",Object(g.jsx)(rr,{})," "]})]})]})})},ir=n(188),or=n.n(ir),sr={position:"absolute",top:"100%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#ffffff",padding:"40px",zIndex:1e3,width:"50%",height:"70%",borderRadius:"1em",display:"inline-table"},lr={position:"fixed",display:"flex",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3,height:"100%",width:"100%",overflowY:"auto"},dr=Object(m.a)({h5:{color:"white"}});function ur(e){var t=e.open,n=e.children,r=e.onClose,c=Object(a.useState)(!0),l=Object(s.a)(c,2),h=l[0],m=(l[1],Object(a.useState)("")),p=Object(s.a)(m,2),f=(p[0],p[1],Object(a.useState)("")),x=Object(s.a)(f,2),A=(x[0],x[1],Object(a.useState)("None")),v=Object(s.a)(A,2),y=(v[0],v[1],Object(a.useState)(null)),w=Object(s.a)(y,2),S=(w[0],w[1],Object(a.useState)([])),C=Object(s.a)(S,2),N=(C[0],C[1],Object(a.useState)({firstName:"",lastName:"",email:"",phoneNumber:"",password:"",telephone:"",roomNumber:""})),k=Object(s.a)(N,2),B=k[0],I=k[1],_=dr(),T=function(){var e=Object(P.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.stringify({employeeID:sessionStorage.getItem("userId"),firstName:B.firstName,lastName:B.lastName,email:B.email,password:B.password,phoneNumber:B.phoneNumber,office:{telephone:B.telephone,roomNumber:B.roomNumber}}),console.log(t),O.a.post("".concat(D.API_ROOT,"/api/freightBroker/addConsignor"),t,{headers:{Authorization:"Bearer token","Content-Type":"application/json"}}).then((function(e){console.log(e),"SUCCESS"===e.data.status&&r()})).catch((function(e){Object(xt.a)(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?i.a.createPortal(Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{style:lr}),Object(g.jsxs)("div",{style:sr,children:[Object(g.jsxs)(d.a,{container:!0,spacing:1,style:{minWidth:"70vw",minHeight:"100vh"},direction:"column",children:[Object(g.jsx)(d.a,{container:!0,direction:"row",style:{minHeight:"40vh",minWidth:"62vw"},id:"ConsignorDetails",children:Object(g.jsxs)(d.a,{container:!0,spacing:3,direction:"column",alignItems:"left",justify:"top",lg:4,xl:3,style:{minHeight:"20vh"},children:[Object(g.jsx)(d.a,{style:{minHeight:"13vh"},item:!0,id:"AddConsignor",children:Object(g.jsx)(u.a,{color:"secondary",variant:"h3",children:"Add Consignor"})}),Object(g.jsx)(d.a,{item:!0,id:"personalLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"personal Details:"})}),Object(g.jsx)(d.a,{item:!0,id:"personalDetails",children:Object(g.jsxs)(d.a,{direction:"column",spacing:4,children:[Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"ContactInfo",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"firstName",label:"First Name",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{firstName:e.target.value})}))},value:B.firstName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"lastName",label:"Last Name",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{lastName:e.target.value})}))},value:B.lastName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"phoneNumber",label:"Phone Number",onChange:function(e){I((function(t){return Object(o.a)(Object(o.a)({},t),{},{phoneNumber:e.target.value})}))},value:B.phoneNumber})})]}),Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"credentials",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"email",label:"Email",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{email:e.target.value})}))},value:B.email})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"password",label:"Password",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{password:e.target.value})}))},value:B.password})})]})]})}),Object(g.jsx)(d.a,{item:!0,id:"addressLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"Address:"})}),Object(g.jsx)(d.a,{item:!0,id:"",children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"firstName",label:"landline",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{telephone:e.target.value})}))},value:B.telephone})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"roomNumber",label:"Room Number",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{roomNumber:e.target.value})}))},value:B.roomNumber})})]})}),Object(g.jsxs)(d.a,{container:!0,spacing:2,direction:"row",id:"Buttons",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:_.spacing,onClick:r,sx:{p:2},children:"Cancel"})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:_.spacing,onClick:T,children:"add Consignor"})})]})]}),n]})]}),document.getElementById("portal")):null}function jr(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function br(e,t){return"desc"===e?function(e,n){return jr(e,n,t)}:function(e,n){return-jr(e,n,t)}}function hr(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}function mr(e,t){var n=".".concat(e),a=new Date,r="routifics_".concat(a.getDate()).concat(a.getMonth()).concat(a.getFullYear(),"_").concat(a.getTime()),c={Sheets:{data:ht.a.utils.json_to_sheet(t)},SheetNames:["data"]},i=ht.a.write(c,{bookType:"".concat(e),type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});pt.a.saveAs(o,r+n)}var pr=[{id:"employeeID",numeric:!0,disablePadding:!1,label:"ID"},{id:"firstName",numeric:!1,disablePadding:!1,label:"First Name"},{id:"lastName",numeric:!1,disablePadding:!1,label:"Last Name"},{id:"phoneNumber",numeric:!0,disablePadding:!1,label:"phone Number"},{id:"telephone",numeric:!0,disablePadding:!1,label:"telephone"},{id:"rating",numeric:!0,disablePadding:!1,label:"Rating"}];function Or(e){var t=e.classes,n=(e.onSelectAllClick,e.order),a=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort);return Object(g.jsx)(q.a,{children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Details"},"action"),Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Cancel Order"},"action"),pr.map((function(e){return Object(g.jsx)(L.a,{align:"center",padding:e.disablePadding?"none":"default",sortDirection:a===e.id&&n,children:Object(g.jsxs)(z.a,{active:a===e.id,direction:a===e.id?n:"asc",onClick:(c=e.id,function(e){r(e,c)}),children:[e.label,a===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var c}))]})})}var Dr=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.f)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},marginL1:{marginLeft:"1rem"},title:{flex:"1 1 100%"}}})),gr=function(e){var t=[];return Array.isArray(e)&&(t=e.map((function(e){return{reference_number:e.reference_number,coord:e.locations&&e.locations.length>0?e.locations[0].coord:null,from:e.routifics&&e.routifics.length>0?e.routifics[0].from:null,to:e.routifics&&e.routifics.length>0?e.routifics[0].to:null,aging:"7",load:null,destination_phone:e.destination_phone,email:null,service_type:e.service_type,priority:"yes",destination_name:e.destination_name,cod_amount:e.cod_amount,customer_reference_number:e.customer_reference_number,whatsapp_link:"http://wa.me/"+e.destination_phone,whatsapp_location:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D8%B1%D8%AC%D9%88%20%D8%A5%D8%B1%D8%B3%D8%A7%D9%84%20%D8%A7%D9%84%D9%84%D9%88%D9%83%D9%8A%D8%B4%D9%86%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20%D8%A8%D8%B1%D9%82%D9%85%20"+e.reference_number,whatsapp_no_answer:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D9%86%D8%A7%20%D9%82%D8%B1%D9%8A%D8%A8%20%D9%85%D9%86%20%D8%A7%D9%84%D9%85%D9%88%D9%82%D8%B9%20%D9%88%D8%AA%D9%85%D8%AA%20%D9%85%D8%AD%D8%A7%D9%88%D9%84%D8%A9%20%D8%A7%D9%84%D8%A7%D8%AA%D8%B5%D8%A7%D9%84%D8%8C%20%D9%86%D8%B1%D8%AC%D9%88%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20"+e.reference_number+"%20%D9%81%D9%8A%20%D8%AD%D8%A7%D9%84%20%D9%84%D9%85%20%D9%8A%D8%AA%D9%85%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%D8%8C%20%D8%B3%D8%AA%D8%AA%D9%85%20%D8%A5%D8%B9%D8%A7%D8%AF%D8%A9%20%D8%A7%D9%84%D8%AC%D8%AF%D9%88%D9%84%D8%A9%20%D9%84%D9%8A%D9%88%D9%85%20%D8%A7%D9%84%D8%B9%D9%85%D9%84%20%D8%A7%D9%84%D9%82%D8%A7%D8%AF%D9%85%D8%8C%20%D9%88%D8%B4%D9%83%D8%B1%D8%A7%D8%8C%0A"}}))),t},fr=function(e){var t=Dr(),n=e.numSelected,r=e.selectedRows,c=(e.data,Object(a.useState)(!1)),i=Object(s.a)(c,2);i[0],i[1];function o(e){return b.apply(this,arguments)}function b(){return b=Object(P.a)(E.a.mark((function e(t){var n,a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/rfdexport"),{reference_number:Object(I.a)(r)});case 2:n=e.sent,a=n.data,c=gr(a),mr(t,c);case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}return Object(g.jsxs)(X.a,{className:Object(T.a)(t.root,Object(l.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Consignors"}),n>0?Object(g.jsx)(Q.a,{title:"",children:Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(d.a,{container:!0,children:Object(g.jsx)(j.a,{onClick:Object(P.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("csv");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:t.marginL1,variant:"contained",children:"Export CSV"})})})}):Object(g.jsx)(Q.a,{title:"Filter list",children:Object(g.jsx)(Y.a,{"aria-label":"filter list",children:Object(g.jsx)($.a,{})})})]})},xr=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},ml1:{marginLeft:"1rem"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Ar(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=xr(),l=r.a.useState("asc"),d=Object(s.a)(l,2),u=d[0],b=d[1],h=r.a.useState("employeeID"),m=Object(s.a)(h,2),p=m[0],f=m[1],x=r.a.useState([]),A=Object(s.a)(x,2),v=A[0],y=A[1],w=r.a.useState(0),S=Object(s.a)(w,2),C=S[0],N=S[1],k=r.a.useState(!1),B=Object(s.a)(k,2),_=B[0],T=B[1],F=r.a.useState(200),q=Object(s.a)(F,2),z=q[0],X=q[1],K=Object(a.useState)(!1),Q=Object(s.a)(K,2),J=Q[0],$=Q[1],ee=z-Math.min(z,n.length-C*z),ne=function(){var e=Object(P.a)(E.a.mark((function e(t,n){var a,r,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=sessionStorage.getItem("token"),r=_e.a.stringify({employeeID:sessionStorage.getItem("userId")},{skipEmptyString:!0,skipNull:!0}),i=[],O.a.get("".concat(D.API_ROOT,"/api/freightBroker/viewConsignors").concat(r?"?".concat(r):""),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e.data),i=e.data;var t=[];console.log("is Array"),Array.isArray(i)&&(t=i.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{employeeID:e.employeeID,isEditMode:!1})}))),console.log(t),c(Object(I.a)(t))})),console.log(i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ne(),console.log(n)}),[]);ae=n[0];var ae,re,ce,ie,oe,se,le,de,je,be=r.a.useState({open:!1,message:""}),he=Object(s.a)(be,2),me=he[0],pe=he[1],Oe=function(e,t){"clickaway"!==t&&pe({open:!1,message:""})},De=r.a.useState({}),ge=Object(s.a)(De,2),fe=(ge[0],ge[1]),xe=function(){var e=Object(P.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/newlocation"),{reference_number:t.reference_number,coord:t.coord});case 2:n=e.sent,200!==(a=n.data).statusCode&&pe({open:!0,message:a.message});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){}),[]),Object(g.jsxs)("div",{className:i.root,children:[Object(g.jsx)(Ue,{handleFilters:function(e,t){return ne(e,t)}}),Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:i.spacing,onClick:function(){return $(!0)},children:"add Consignor"}),Object(g.jsx)(ur,{open:J,onClose:function(){return $(!1)}}),Object(g.jsxs)(V.a,{className:i.paper,children:[Object(g.jsx)(fr,{numSelected:v.length,data:n,selectedRows:Object(I.a)(v)}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(H.a,{className:i.table,"aria-labelledby":"tableTitle",size:_?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(Or,{classes:i,numSelected:v.length,order:u,orderBy:p,onSelectAllClick:function(e){if(e.target.checked){var t=n.map((function(e){return e.ID}));y(t)}else y([])},onRequestSort:function(e,t){b(p===t&&"asc"===u?"desc":"asc"),f(t)},rowCount:n.length}),Object(g.jsxs)(R.a,{children:[hr(n,br(u,p)).slice(C*z,C*z+z).map((function(e,t){var a=function(e){return-1!==v.indexOf(e)}(e.employeeID),r="enhanced-table-checkbox-".concat(t);return Object(g.jsxs)(U.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:i.spacing,onClick:function(){},children:"View"})},"action"),Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(Y.a,{"aria-label":"delete",onClick:function(){return function(e,t){var a=n.filter((function(t){return t.id==e}))[0];"Save"!=t||a.coord?(c((function(t){return n.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{isEditMode:!t.isEditMode}):t}))})),"Save"==t&&(xe(Object(o.a)({},a)),fe([]))):pe({open:!0,message:"Coord is not allowed to be empty"})}(e.employeeID,"Edit")},children:Object(g.jsx)(Dt.a,{})})},"action"),Object(g.jsx)(L.a,{component:"th",id:r,scope:"row",padding:"none",align:"center",children:e.employeeID||"-"}),Object(g.jsx)(L.a,{align:"center",children:e.firstName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.lastName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.phoneNumber||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.telephone||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.rate||"-"})," "]},e.employeeID)})),ee>0&&Object(g.jsx)(U.a,{style:{height:(_?33:53)*ee},children:Object(g.jsx)(L.a,{colSpan:6})})]})]})}),Object(g.jsx)(W.a,{rowsPerPageOptions:[100,200,300],component:"div",count:n.length,rowsPerPage:z,page:C,onChangePage:function(e,t){N(t)},onChangeRowsPerPage:function(e){X(parseInt(e.target.value,10)),N(0)}})]}),Object(g.jsx)(te.a,{open:me.open,autoHideDuration:3e3,onClose:Oe,children:Object(g.jsx)(ue,{onClose:Oe,severity:"error",children:me.message})}),Object(g.jsx)(Z.a,{control:Object(g.jsx)(G.a,{checked:_,onChange:function(e){T(e.target.checked)}}),label:"Dense padding"})]})}var vr=function(){return Object(g.jsx)(A.a,{theme:S,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(Gn.a,{routes:[{name:"Consignors",link:"/consignors",activeIndex:1}]}),Object(g.jsx)(y.c,{children:Object(g.jsxs)(y.a,{exact:!0,path:"/consignors",children:[" ",Object(g.jsx)(Ar,{})," "]})})]})})},yr={position:"absolute",top:"100%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#ffffff",padding:"40px",zIndex:1e3,width:"50%",height:"70%",borderRadius:"1em",display:"inline-table"},wr={position:"fixed",display:"flex",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3,height:"100%",width:"100%",overflowY:"auto"},Sr=Object(m.a)({h5:{color:"white"}});function Cr(e){var t=e.open,n=e.children,r=e.onClose,c=Object(a.useState)(!0),l=Object(s.a)(c,2),h=l[0],m=(l[1],Object(a.useState)("")),p=Object(s.a)(m,2),f=(p[0],p[1],Object(a.useState)("")),x=Object(s.a)(f,2),A=(x[0],x[1],Object(a.useState)("None")),v=Object(s.a)(A,2),y=(v[0],v[1],Object(a.useState)(null)),w=Object(s.a)(y,2),S=(w[0],w[1],Object(a.useState)([])),C=Object(s.a)(S,2),N=(C[0],C[1],Object(a.useState)({firstName:"",lastName:"",email:"",phoneNumber:"",password:"",telephone:"",roomNumber:""})),k=Object(s.a)(N,2),B=k[0],I=k[1],_=Sr(),T=function(){var e=Object(P.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.stringify({employeeID:sessionStorage.getItem("userId"),firstName:B.firstName,lastName:B.lastName,email:B.email,password:B.password,phoneNumber:B.phoneNumber,office:{telephone:B.telephone,roomNumber:B.roomNumber,location:B.location}}),console.log(t),O.a.post("".concat(D.API_ROOT,"/api/owner/addadministrator"),t,{headers:{Authorization:"Bearer token","Content-Type":"application/json"}}).then((function(e){console.log(e),"SUCCESS"===e.data.status&&r()})).catch((function(e){Object(xt.a)(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?i.a.createPortal(Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{style:wr}),Object(g.jsxs)("div",{style:yr,children:[Object(g.jsxs)(d.a,{container:!0,spacing:1,style:{minWidth:"70vw",minHeight:"100vh"},direction:"column",children:[Object(g.jsx)(d.a,{container:!0,direction:"row",style:{minHeight:"40vh",minWidth:"62vw"},id:"AdminDetails",children:Object(g.jsxs)(d.a,{container:!0,spacing:3,direction:"column",alignItems:"left",justify:"top",lg:4,xl:3,style:{minHeight:"20vh"},children:[Object(g.jsx)(d.a,{style:{minHeight:"13vh"},item:!0,id:"AddAdminr",children:Object(g.jsx)(u.a,{color:"secondary",variant:"h3",children:"Add Admin"})}),Object(g.jsx)(d.a,{item:!0,id:"personalLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"personal Details:"})}),Object(g.jsx)(d.a,{item:!0,id:"personalDetails",children:Object(g.jsxs)(d.a,{direction:"column",spacing:4,children:[Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"ContactInfo",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"firstName",label:"First Name",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{firstName:e.target.value})}))},value:B.firstName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"lastName",label:"Last Name",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{lastName:e.target.value})}))},value:B.lastName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"phoneNumber",label:"Phone Number",onChange:function(e){I((function(t){return Object(o.a)(Object(o.a)({},t),{},{phoneNumber:e.target.value})}))},value:B.phoneNumber})})]}),Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"credentials",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"email",label:"Email",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{email:e.target.value})}))},value:B.email})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"password",label:"Password",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{password:e.target.value})}))},value:B.password})})]})]})}),Object(g.jsx)(d.a,{item:!0,id:"addressLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"Address:"})}),Object(g.jsx)(d.a,{item:!0,id:"",children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"firstName",label:"landline",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{telephone:e.target.value})}))},value:B.telephone})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"roomNumber",label:"Room Number",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{roomNumber:e.target.value})}))},value:B.roomNumber})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"location",label:"Location",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{location:e.target.value})}))},value:B.location})})]})}),Object(g.jsxs)(d.a,{container:!0,spacing:2,direction:"row",id:"Buttons",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:_.spacing,onClick:r,sx:{p:2},children:"Cancel"})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:_.spacing,onClick:T,children:"add Admin"})})]})]}),n]})]}),document.getElementById("portal")):null}function Nr(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function kr(e,t){return"desc"===e?function(e,n){return Nr(e,n,t)}:function(e,n){return-Nr(e,n,t)}}function Br(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}function Ir(e,t){var n=".".concat(e),a=new Date,r="routifics_".concat(a.getDate()).concat(a.getMonth()).concat(a.getFullYear(),"_").concat(a.getTime()),c={Sheets:{data:ht.a.utils.json_to_sheet(t)},SheetNames:["data"]},i=ht.a.write(c,{bookType:"".concat(e),type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});pt.a.saveAs(o,r+n)}var Pr=[{id:"employeeID",numeric:!0,disablePadding:!1,label:"ID"},{id:"firstName",numeric:!1,disablePadding:!1,label:"First Name"},{id:"lastName",numeric:!1,disablePadding:!1,label:"Last Name"},{id:"phoneNumber",numeric:!0,disablePadding:!1,label:"phone Number"},{id:"telephone",numeric:!0,disablePadding:!1,label:"telephone"},{id:"loc",numeric:!0,disablePadding:!1,label:"Location"}];function _r(e){var t=e.classes,n=(e.onSelectAllClick,e.order),a=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort);return Object(g.jsx)(q.a,{children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Details"},"action"),Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Cancel Order"},"action"),Pr.map((function(e){return Object(g.jsx)(L.a,{align:"center",padding:e.disablePadding?"none":"default",sortDirection:a===e.id&&n,children:Object(g.jsxs)(z.a,{active:a===e.id,direction:a===e.id?n:"asc",onClick:(c=e.id,function(e){r(e,c)}),children:[e.label,a===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var c}))]})})}var Er=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.f)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},marginL1:{marginLeft:"1rem"},title:{flex:"1 1 100%"}}})),Tr=function(e){var t=[];return Array.isArray(e)&&(t=e.map((function(e){return{reference_number:e.reference_number,coord:e.locations&&e.locations.length>0?e.locations[0].coord:null,from:e.routifics&&e.routifics.length>0?e.routifics[0].from:null,to:e.routifics&&e.routifics.length>0?e.routifics[0].to:null,aging:"7",load:null,destination_phone:e.destination_phone,email:null,service_type:e.service_type,priority:"yes",destination_name:e.destination_name,cod_amount:e.cod_amount,customer_reference_number:e.customer_reference_number,whatsapp_link:"http://wa.me/"+e.destination_phone,whatsapp_location:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D8%B1%D8%AC%D9%88%20%D8%A5%D8%B1%D8%B3%D8%A7%D9%84%20%D8%A7%D9%84%D9%84%D9%88%D9%83%D9%8A%D8%B4%D9%86%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20%D8%A8%D8%B1%D9%82%D9%85%20"+e.reference_number,whatsapp_no_answer:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D9%86%D8%A7%20%D9%82%D8%B1%D9%8A%D8%A8%20%D9%85%D9%86%20%D8%A7%D9%84%D9%85%D9%88%D9%82%D8%B9%20%D9%88%D8%AA%D9%85%D8%AA%20%D9%85%D8%AD%D8%A7%D9%88%D9%84%D8%A9%20%D8%A7%D9%84%D8%A7%D8%AA%D8%B5%D8%A7%D9%84%D8%8C%20%D9%86%D8%B1%D8%AC%D9%88%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20"+e.reference_number+"%20%D9%81%D9%8A%20%D8%AD%D8%A7%D9%84%20%D9%84%D9%85%20%D9%8A%D8%AA%D9%85%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%D8%8C%20%D8%B3%D8%AA%D8%AA%D9%85%20%D8%A5%D8%B9%D8%A7%D8%AF%D8%A9%20%D8%A7%D9%84%D8%AC%D8%AF%D9%88%D9%84%D8%A9%20%D9%84%D9%8A%D9%88%D9%85%20%D8%A7%D9%84%D8%B9%D9%85%D9%84%20%D8%A7%D9%84%D9%82%D8%A7%D8%AF%D9%85%D8%8C%20%D9%88%D8%B4%D9%83%D8%B1%D8%A7%D8%8C%0A"}}))),t},Fr=function(e){var t=Er(),n=e.numSelected,r=e.selectedRows,c=(e.data,Object(a.useState)(!1)),i=Object(s.a)(c,2);i[0],i[1];function o(e){return b.apply(this,arguments)}function b(){return b=Object(P.a)(E.a.mark((function e(t){var n,a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/rfdexport"),{reference_number:Object(I.a)(r)});case 2:n=e.sent,a=n.data,c=Tr(a),Ir(t,c);case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}return Object(g.jsxs)(X.a,{className:Object(T.a)(t.root,Object(l.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Admin"}),n>0?Object(g.jsx)(Q.a,{title:"",children:Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(d.a,{container:!0,children:Object(g.jsx)(j.a,{onClick:Object(P.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("csv");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:t.marginL1,variant:"contained",children:"Export CSV"})})})}):Object(g.jsx)(Q.a,{title:"Filter list",children:Object(g.jsx)(Y.a,{"aria-label":"filter list",children:Object(g.jsx)($.a,{})})})]})},Hr=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},ml1:{marginLeft:"1rem"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Rr(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Hr(),l=r.a.useState("asc"),d=Object(s.a)(l,2),u=d[0],b=d[1],h=r.a.useState("employeeID"),m=Object(s.a)(h,2),p=m[0],f=m[1],x=r.a.useState([]),A=Object(s.a)(x,2),v=A[0],y=A[1],w=r.a.useState(0),S=Object(s.a)(w,2),C=S[0],N=S[1],k=r.a.useState(!1),B=Object(s.a)(k,2),_=B[0],T=B[1],F=r.a.useState(200),q=Object(s.a)(F,2),z=q[0],X=q[1],K=Object(a.useState)(!1),Q=Object(s.a)(K,2),J=Q[0],$=Q[1],ee=z-Math.min(z,n.length-C*z),ne=function(){var e=Object(P.a)(E.a.mark((function e(t,n){var a,r,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=sessionStorage.getItem("token"),r=_e.a.stringify({employeeID:sessionStorage.getItem("userId")},{skipEmptyString:!0,skipNull:!0}),i=[],O.a.get("".concat(D.API_ROOT,"/api/owner/viewAdministrators").concat(r?"?".concat(r):""),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e.data),i=e.data;var t=[];console.log("is Array"),Array.isArray(i)&&(t=i.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{employeeID:e.employeeID,isEditMode:!1})}))),console.log(t),c(Object(I.a)(t))})),console.log(i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ne(),console.log(n)}),[]);ae=n[0];var ae,re,ce,ie,oe,se,le,de,je,be=r.a.useState({open:!1,message:""}),he=Object(s.a)(be,2),me=he[0],pe=he[1],Oe=function(e,t){"clickaway"!==t&&pe({open:!1,message:""})},De=r.a.useState({}),ge=Object(s.a)(De,2),fe=(ge[0],ge[1]),xe=function(){var e=Object(P.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/newlocation"),{reference_number:t.reference_number,coord:t.coord});case 2:n=e.sent,200!==(a=n.data).statusCode&&pe({open:!0,message:a.message});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){}),[]),Object(g.jsxs)("div",{className:i.root,children:[Object(g.jsx)(Ue,{handleFilters:function(e,t){return ne(e,t)}}),Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:i.spacing,onClick:function(){return $(!0)},children:"add Admin"}),Object(g.jsx)(Cr,{open:J,onClose:function(){return $(!1)}}),Object(g.jsxs)(V.a,{className:i.paper,children:[Object(g.jsx)(Fr,{numSelected:v.length,data:n,selectedRows:Object(I.a)(v)}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(H.a,{className:i.table,"aria-labelledby":"tableTitle",size:_?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(_r,{classes:i,numSelected:v.length,order:u,orderBy:p,onSelectAllClick:function(e){if(e.target.checked){var t=n.map((function(e){return e.ID}));y(t)}else y([])},onRequestSort:function(e,t){b(p===t&&"asc"===u?"desc":"asc"),f(t)},rowCount:n.length}),Object(g.jsxs)(R.a,{children:[Br(n,kr(u,p)).slice(C*z,C*z+z).map((function(e,t){var a=function(e){return-1!==v.indexOf(e)}(e.employeeID),r="enhanced-table-checkbox-".concat(t);return Object(g.jsxs)(U.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:i.spacing,onClick:function(){},children:"View"})},"action"),Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(Y.a,{"aria-label":"delete",onClick:function(){return function(e,t){var a=n.filter((function(t){return t.id==e}))[0];"Save"!=t||a.coord?(c((function(t){return n.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{isEditMode:!t.isEditMode}):t}))})),"Save"==t&&(xe(Object(o.a)({},a)),fe([]))):pe({open:!0,message:"Coord is not allowed to be empty"})}(e.employeeID,"Edit")},children:Object(g.jsx)(Dt.a,{})})},"action"),Object(g.jsx)(L.a,{component:"th",id:r,scope:"row",padding:"none",align:"center",children:e.employeeID||"-"}),Object(g.jsx)(L.a,{align:"center",children:e.firstName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.lastName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.phoneNumber||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.telephone||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.location||"-"})," "]},e.employeeID)})),ee>0&&Object(g.jsx)(U.a,{style:{height:(_?33:53)*ee},children:Object(g.jsx)(L.a,{colSpan:6})})]})]})}),Object(g.jsx)(W.a,{rowsPerPageOptions:[100,200,300],component:"div",count:n.length,rowsPerPage:z,page:C,onChangePage:function(e,t){N(t)},onChangeRowsPerPage:function(e){X(parseInt(e.target.value,10)),N(0)}})]}),Object(g.jsx)(te.a,{open:me.open,autoHideDuration:3e3,onClose:Oe,children:Object(g.jsx)(ue,{onClose:Oe,severity:"error",children:me.message})}),Object(g.jsx)(Z.a,{control:Object(g.jsx)(G.a,{checked:_,onChange:function(e){T(e.target.checked)}}),label:"Dense padding"})]})}var Lr=function(){return Object(g.jsx)(A.a,{theme:S,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(Gn.a,{routes:[{name:"Administrators",link:"/",activeIndex:0},{name:"Accountants",link:"/accountant",activeIndex:1},{name:"Customer Services",link:"/customerService",activeIndex:2},{name:"Freight Srokers",link:"/freightBroker",activeIndex:3},{name:"Logistic Managers",link:"/logisticManager",activeIndex:4}]}),Object(g.jsxs)(y.c,{children:[Object(g.jsxs)(y.a,{exact:!0,path:"/",children:[" ",Object(g.jsx)(Rr,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/customerService",children:[" ",Object(g.jsx)(ba,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/accountant",children:[" ",Object(g.jsx)(Na,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/logisticManager",children:[" ",Object(g.jsx)(Ua,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/freightBroker",children:[" ",Object(g.jsx)(rr,{})," "]})]})]})})};var Mr=function(){return Object(g.jsx)(A.a,{theme:S,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(Gn.a,{routes:[{name:"Orders",link:"/",activeIndex:0}]}),Object(g.jsxs)(y.c,{children:[Object(g.jsxs)(y.a,{exact:!0,path:"/",children:[" ",Object(g.jsx)("h1",{children:" BYE BUEEEEEE"})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/waitingl",children:[" ",Object(g.jsx)(Je,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/waitingr",children:[" ",Object(g.jsx)(jt,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/invalidp",children:[" ",Object(g.jsx)(fe,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/all",children:[" ",Object(g.jsx)(Ie,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/return",children:[" ",Object(g.jsx)(Xt,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/signup",children:[" ",Object(g.jsx)(B,{})," "]})]})]})})},qr={position:"absolute",top:"100%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#ffffff",padding:"40px",zIndex:1e3,width:"50%",height:"70%",borderRadius:"1em",display:"inline-table"},Wr={position:"fixed",display:"flex",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3,height:"100%",width:"100%",overflowY:"auto"},Ur=Object(m.a)({h5:{color:"white"}});function zr(e){var t=e.open,n=e.children,r=e.onClose,c=Object(a.useState)(!0),l=Object(s.a)(c,2),h=l[0],m=(l[1],Object(a.useState)("")),p=Object(s.a)(m,2),f=(p[0],p[1],Object(a.useState)("")),x=Object(s.a)(f,2),A=(x[0],x[1],Object(a.useState)("None")),v=Object(s.a)(A,2),y=(v[0],v[1],Object(a.useState)(null)),w=Object(s.a)(y,2),S=(w[0],w[1],Object(a.useState)([])),C=Object(s.a)(S,2),N=(C[0],C[1],Object(a.useState)({firstName:"",lastName:"",email:"",phoneNumber:"",password:"",telephone:"",roomNumber:""})),k=Object(s.a)(N,2),B=k[0],I=k[1],_=Ur(),T=function(){var e=Object(P.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.stringify({employeeID:sessionStorage.getItem("userId"),firstName:B.firstName,lastName:B.lastName,email:B.email,phoneNumber:B.phoneNumber,office:{telephone:B.telephone,roomNumber:B.roomNumber}}),console.log(t),O.a.post("".concat(D.API_ROOT,"/api/logisticManager/addDispatcher"),t,{headers:{Authorization:"Bearer token","Content-Type":"application/json"}}).then((function(e){console.log(e),"SUCCESS"===e.data.status&&r()})).catch((function(e){Object(xt.a)(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?i.a.createPortal(Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{style:Wr}),Object(g.jsxs)("div",{style:qr,children:[Object(g.jsxs)(d.a,{container:!0,spacing:1,style:{minWidth:"70vw",minHeight:"100vh"},direction:"column",children:[Object(g.jsx)(d.a,{container:!0,direction:"row",style:{minHeight:"40vh",minWidth:"62vw"},id:"DispatcherDetails",children:Object(g.jsxs)(d.a,{container:!0,spacing:3,direction:"column",alignItems:"left",justify:"top",lg:4,xl:3,style:{minHeight:"20vh"},children:[Object(g.jsx)(d.a,{style:{minHeight:"13vh"},item:!0,id:"AddDispatcher",children:Object(g.jsx)(u.a,{color:"secondary",variant:"h3",children:"Add Dispatcher"})}),Object(g.jsx)(d.a,{item:!0,id:"personalLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"personal Details:"})}),Object(g.jsx)(d.a,{item:!0,id:"personalDetails",children:Object(g.jsxs)(d.a,{direction:"column",spacing:4,children:[Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"ContactInfo",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"firstName",label:"First Name",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{firstName:e.target.value})}))},value:B.firstName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"lastName",label:"Last Name",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{lastName:e.target.value})}))},value:B.lastName})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"phoneNumber",label:"Phone Number",onChange:function(e){I((function(t){return Object(o.a)(Object(o.a)({},t),{},{phoneNumber:e.target.value})}))},value:B.phoneNumber})})]}),Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,id:"credentials",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"email",label:"Email",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{email:e.target.value})}))},value:B.email})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"password",label:"Password",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{password:e.target.value})}))},value:B.password})})]})]})}),Object(g.jsx)(d.a,{item:!0,id:"addressLabel",children:Object(g.jsx)(u.a,{color:"primary",variant:"h5",children:"Address:"})}),Object(g.jsx)(d.a,{item:!0,id:"",children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"firstName",label:"landline",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{telephone:e.target.value})}))},value:B.telephone})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(b.a,{required:!0,color:"primary",error:!h,id:"roomNumber",label:"Room Number",onChange:function(e){return I((function(t){return Object(o.a)(Object(o.a)({},t),{},{roomNumber:e.target.value})}))},value:B.roomNumber})})]})}),Object(g.jsxs)(d.a,{container:!0,spacing:2,direction:"row",id:"Buttons",children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:_.spacing,onClick:r,sx:{p:2},children:"Cancel"})}),Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:_.spacing,onClick:T,children:"add Dispatcher"})})]})]}),n]})]}),document.getElementById("portal")):null}function Xr(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Vr(e,t){return"desc"===e?function(e,n){return Xr(e,n,t)}:function(e,n){return-Xr(e,n,t)}}function Kr(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}function Yr(e,t){var n=".".concat(e),a=new Date,r="routifics_".concat(a.getDate()).concat(a.getMonth()).concat(a.getFullYear(),"_").concat(a.getTime()),c={Sheets:{data:ht.a.utils.json_to_sheet(t)},SheetNames:["data"]},i=ht.a.write(c,{bookType:"".concat(e),type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});pt.a.saveAs(o,r+n)}var Qr=[{id:"employeeID",numeric:!0,disablePadding:!1,label:"ID"},{id:"firstName",numeric:!1,disablePadding:!1,label:"First Name"},{id:"lastName",numeric:!1,disablePadding:!1,label:"Last Name"},{id:"phoneNumber",numeric:!0,disablePadding:!1,label:"phone Number"},{id:"telephone",numeric:!0,disablePadding:!1,label:"telephone"},{id:"assignedShelfs",numeric:!0,disablePadding:!1,label:"Shelfs"}];function Zr(e){var t=e.classes,n=(e.onSelectAllClick,e.order),a=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort);return Object(g.jsx)(q.a,{children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Details"},"action"),Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Cancel Order"},"action"),Qr.map((function(e){return Object(g.jsx)(L.a,{align:"center",padding:e.disablePadding?"none":"default",sortDirection:a===e.id&&n,children:Object(g.jsxs)(z.a,{active:a===e.id,direction:a===e.id?n:"asc",onClick:(c=e.id,function(e){r(e,c)}),children:[e.label,a===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var c}))]})})}var Gr=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.f)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},marginL1:{marginLeft:"1rem"},title:{flex:"1 1 100%"}}})),Jr=function(e){var t=[];return Array.isArray(e)&&(t=e.map((function(e){return{reference_number:e.reference_number,coord:e.locations&&e.locations.length>0?e.locations[0].coord:null,from:e.routifics&&e.routifics.length>0?e.routifics[0].from:null,to:e.routifics&&e.routifics.length>0?e.routifics[0].to:null,aging:"7",load:null,destination_phone:e.destination_phone,email:null,service_type:e.service_type,priority:"yes",destination_name:e.destination_name,cod_amount:e.cod_amount,customer_reference_number:e.customer_reference_number,whatsapp_link:"http://wa.me/"+e.destination_phone,whatsapp_location:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D8%B1%D8%AC%D9%88%20%D8%A5%D8%B1%D8%B3%D8%A7%D9%84%20%D8%A7%D9%84%D9%84%D9%88%D9%83%D9%8A%D8%B4%D9%86%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20%D8%A8%D8%B1%D9%82%D9%85%20"+e.reference_number,whatsapp_no_answer:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20%D8%B4%D8%B1%D9%83%D8%A9%20%D9%85%D8%AD%D9%85%D9%88%D9%84%D8%8C%20%D8%A7%D9%86%D8%A7%20%D9%82%D8%B1%D9%8A%D8%A8%20%D9%85%D9%86%20%D8%A7%D9%84%D9%85%D9%88%D9%82%D8%B9%20%D9%88%D8%AA%D9%85%D8%AA%20%D9%85%D8%AD%D8%A7%D9%88%D9%84%D8%A9%20%D8%A7%D9%84%D8%A7%D8%AA%D8%B5%D8%A7%D9%84%D8%8C%20%D9%86%D8%B1%D8%AC%D9%88%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%20%D9%84%D9%8A%D8%AA%D9%85%20%D8%AA%D9%88%D8%B5%D9%8A%D9%84%20%D8%B4%D8%AD%D9%86%D8%AA%D9%83%20"+e.reference_number+"%20%D9%81%D9%8A%20%D8%AD%D8%A7%D9%84%20%D9%84%D9%85%20%D9%8A%D8%AA%D9%85%20%D8%A7%D9%84%D8%B1%D8%AF%20%D8%B3%D8%B1%D9%8A%D8%B9%D8%A7%D8%8C%20%D8%B3%D8%AA%D8%AA%D9%85%20%D8%A5%D8%B9%D8%A7%D8%AF%D8%A9%20%D8%A7%D9%84%D8%AC%D8%AF%D9%88%D9%84%D8%A9%20%D9%84%D9%8A%D9%88%D9%85%20%D8%A7%D9%84%D8%B9%D9%85%D9%84%20%D8%A7%D9%84%D9%82%D8%A7%D8%AF%D9%85%D8%8C%20%D9%88%D8%B4%D9%83%D8%B1%D8%A7%D8%8C%0A"}}))),t},$r=function(e){var t=Gr(),n=e.numSelected,r=e.selectedRows,c=(e.data,Object(a.useState)(!1)),i=Object(s.a)(c,2);i[0],i[1];function o(e){return b.apply(this,arguments)}function b(){return b=Object(P.a)(E.a.mark((function e(t){var n,a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/rfdexport"),{reference_number:Object(I.a)(r)});case 2:n=e.sent,a=n.data,c=Jr(a),Yr(t,c);case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}return Object(g.jsxs)(X.a,{className:Object(T.a)(t.root,Object(l.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Orders"}),n>0?Object(g.jsx)(Q.a,{title:"",children:Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(d.a,{container:!0,children:Object(g.jsx)(j.a,{onClick:Object(P.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("csv");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:t.marginL1,variant:"contained",children:"Export CSV"})})})}):Object(g.jsx)(Q.a,{title:"Filter list",children:Object(g.jsx)(Y.a,{"aria-label":"filter list",children:Object(g.jsx)($.a,{})})})]})},ec=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},ml1:{marginLeft:"1rem"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function tc(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=ec(),l=r.a.useState("asc"),d=Object(s.a)(l,2),u=d[0],b=d[1],h=r.a.useState("employeeID"),m=Object(s.a)(h,2),p=m[0],f=m[1],x=r.a.useState([]),A=Object(s.a)(x,2),v=A[0],y=A[1],w=r.a.useState(0),S=Object(s.a)(w,2),C=S[0],N=S[1],k=r.a.useState(!1),B=Object(s.a)(k,2),_=B[0],T=B[1],F=r.a.useState(200),q=Object(s.a)(F,2),z=q[0],X=q[1],K=Object(a.useState)(!1),Q=Object(s.a)(K,2),J=Q[0],$=Q[1],ee=z-Math.min(z,n.length-C*z),ne=function(){var e=Object(P.a)(E.a.mark((function e(t,n){var a,r,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=sessionStorage.getItem("token"),r=_e.a.stringify({employeeID:sessionStorage.getItem("userId")},{skipEmptyString:!0,skipNull:!0}),i=[],O.a.get("".concat(D.API_ROOT,"/api/warehouseManager/viewWorkers").concat(r?"?".concat(r):""),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e.data),i=e.data;var t=[];console.log("is Array"),Array.isArray(i)&&(t=i.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{employeeID:e.employeeID,isEditMode:!1})}))),console.log(t),c(Object(I.a)(t))})),console.log(i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ne(),console.log(n)}),[]);ae=n[0];var ae,re,ce,ie,oe,se,le,de,je,be=r.a.useState({open:!1,message:""}),he=Object(s.a)(be,2),me=he[0],pe=he[1],Oe=function(e,t){"clickaway"!==t&&pe({open:!1,message:""})},De=r.a.useState({}),ge=Object(s.a)(De,2),fe=(ge[0],ge[1]),xe=function(){var e=Object(P.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/newlocation"),{reference_number:t.reference_number,coord:t.coord});case 2:n=e.sent,200!==(a=n.data).statusCode&&pe({open:!0,message:a.message});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){}),[]),Object(g.jsxs)("div",{className:i.root,children:[Object(g.jsx)(Ue,{handleFilters:function(e,t){return ne(e,t)}}),Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:i.spacing,onClick:function(){return $(!0)},children:"add Worker"}),Object(g.jsx)(zr,{open:J,onClose:function(){return $(!1)}}),Object(g.jsxs)(V.a,{className:i.paper,children:[Object(g.jsx)($r,{numSelected:v.length,data:n,selectedRows:Object(I.a)(v)}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(H.a,{className:i.table,"aria-labelledby":"tableTitle",size:_?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(Zr,{classes:i,numSelected:v.length,order:u,orderBy:p,onSelectAllClick:function(e){if(e.target.checked){var t=n.map((function(e){return e.ID}));y(t)}else y([])},onRequestSort:function(e,t){b(p===t&&"asc"===u?"desc":"asc"),f(t)},rowCount:n.length}),Object(g.jsxs)(R.a,{children:[Kr(n,Vr(u,p)).slice(C*z,C*z+z).map((function(e,t){var a=function(e){return-1!==v.indexOf(e)}(e.employeeID),r="enhanced-table-checkbox-".concat(t);return Object(g.jsxs)(U.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:i.spacing,onClick:function(){},children:"View"})},"action"),Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(Y.a,{"aria-label":"delete",onClick:function(){return function(e,t){var a=n.filter((function(t){return t.id==e}))[0];"Save"!=t||a.coord?(c((function(t){return n.map((function(t){return t.id===e?Object(o.a)(Object(o.a)({},t),{},{isEditMode:!t.isEditMode}):t}))})),"Save"==t&&(xe(Object(o.a)({},a)),fe([]))):pe({open:!0,message:"Coord is not allowed to be empty"})}(e.employeeID,"Edit")},children:Object(g.jsx)(Dt.a,{})})},"action"),Object(g.jsx)(L.a,{component:"th",id:r,scope:"row",padding:"none",align:"center",children:e.employeeID||"-"}),Object(g.jsx)(L.a,{align:"center",children:e.firstName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.lastName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.phoneNumber||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.telephone||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.assignedShelfs||"-"})," "]},e.employeeID)})),ee>0&&Object(g.jsx)(U.a,{style:{height:(_?33:53)*ee},children:Object(g.jsx)(L.a,{colSpan:6})})]})]})}),Object(g.jsx)(W.a,{rowsPerPageOptions:[100,200,300],component:"div",count:n.length,rowsPerPage:z,page:C,onChangePage:function(e,t){N(t)},onChangeRowsPerPage:function(e){X(parseInt(e.target.value,10)),N(0)}})]}),Object(g.jsx)(te.a,{open:me.open,autoHideDuration:3e3,onClose:Oe,children:Object(g.jsx)(ue,{onClose:Oe,severity:"error",children:me.message})}),Object(g.jsx)(Z.a,{control:Object(g.jsx)(G.a,{checked:_,onChange:function(e){T(e.target.checked)}}),label:"Dense padding"})]})}function nc(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function ac(e,t){return"desc"===e?function(e,n){return nc(e,n,t)}:function(e,n){return-nc(e,n,t)}}function rc(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}function cc(e,t){var n=".".concat(e),a=new Date,r="routifics_".concat(a.getDate()).concat(a.getMonth()).concat(a.getFullYear(),"_").concat(a.getTime()),c={Sheets:{data:ht.a.utils.json_to_sheet(t)},SheetNames:["data"]},i=ht.a.write(c,{bookType:"".concat(e),type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});pt.a.saveAs(o,r+n)}var ic=[{id:"shipmentID",numeric:!0,disablePadding:!1,label:"ID"},{id:"shipmentName",numeric:!1,disablePadding:!1,label:"Name"},{id:"currentCity",numeric:!1,disablePadding:!1,label:"Current City"},{id:"location",numeric:!0,disablePadding:!1,label:"Deliver To"},{id:"status",numeric:!0,disablePadding:!1,label:"Status"},{id:"assignedEmployee",numeric:!0,disablePadding:!1,label:"assigned Emp"}];function oc(e){var t=e.classes,n=e.onSelectAllClick,a=e.order,r=e.orderBy,c=e.numSelected,i=e.rowCount,o=e.onRequestSort;return Object(g.jsx)(q.a,{children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(L.a,{align:"center",className:t.tableCell,children:"Details"},"view"),Object(g.jsx)(L.a,{padding:"checkbox",children:Object(g.jsx)(K.a,{indeterminate:c>0&&c<i,checked:i>0&&c===i,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),ic.map((function(e){return Object(g.jsx)(L.a,{align:"center",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&a,children:Object(g.jsxs)(z.a,{active:r===e.id,direction:r===e.id?a:"asc",onClick:(n=e.id,function(e){o(e,n)}),children:[e.label,r===e.id?Object(g.jsx)("span",{className:t.visuallyHidden,children:"desc"===a?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))]})})}var sc=Object(m.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.f)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},marginL1:{marginLeft:"1rem"},title:{flex:"1 1 100%"}}})),lc=function(e){var t=[];return Array.isArray(e)&&(t=e.map((function(e){return{reference_number:e.reference_number,coord:e.locations&&e.locations.length>0?e.locations[0].coord:null,from:e.routifics&&e.routifics.length>0?e.routifics[0].from:null,to:e.routifics&&e.routifics.length>0?e.routifics[0].to:null,aging:"7",load:null,destination_phone:e.destination_phone,email:null,service_type:e.service_type,priority:"yes",destination_name:e.destination_name,cod_amount:e.cod_amount,customer_reference_number:e.customer_reference_number,whatsapp_link:"http://wa.me/"+e.destination_phone,whatsapp_location:"http://wa.me/"+e.destination_phone+"?text=%D9%85%D8%B1%D8%AD%D8%A8%D8%A7%20"+e.destination_name.split(" ").slice(0,2).join("%20")+"%20%D9%85%D8%B9%D8%A7%D9%83%20%D9%85%D9%86%D8%AF%D9%88%D8%A8%20"}}))),t},dc=function(e){var t=sc(),n=e.numSelected,r=e.selectedRows,c=(e.data,e.setShipments),i=Object(a.useState)(!1),o=Object(s.a)(i,2);o[0],o[1];function b(e){return h.apply(this,arguments)}function h(){return h=Object(P.a)(E.a.mark((function e(t){var n,a,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(D.API_ROOT,"/Accountant/exportOrders"),{reference_number:Object(I.a)(r)});case 2:n=e.sent,a=n.data,c=lc(a),cc(t,c);case 6:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}return Object(g.jsxs)(X.a,{className:Object(T.a)(t.root,Object(l.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Shipments"}),n>0?Object(g.jsx)(Q.a,{title:"",children:Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(d.a,{container:!0,direction:"row",spacing:2,children:[Object(g.jsx)(d.a,{item:!0,children:Object(g.jsx)(j.a,{color:"secondary",onClick:function(){console.log("selected rows: ".concat(r)),c(Object(I.a)(r))},className:t.marginL1,variant:"contained",children:"Assign"})}),Object(g.jsxs)(d.a,{item:!0,children:[" ",Object(g.jsx)(j.a,{onClick:Object(P.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("csv");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:t.marginL1,variant:"contained",children:"Export CSV"})]})]})})}):Object(g.jsx)(Q.a,{title:"Filter list",children:Object(g.jsx)(Y.a,{"aria-label":"filter list",children:Object(g.jsx)($.a,{})})})," "]})},uc=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},ml1:{marginLeft:"1rem"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function jc(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],i=n[1],l=uc(),d=r.a.useState("asc"),u=Object(s.a)(d,2),b=u[0],h=u[1],m=r.a.useState("shipmentID"),p=Object(s.a)(m,2),f=p[0],x=p[1],A=r.a.useState([]),v=Object(s.a)(A,2),y=v[0],w=v[1],S=r.a.useState(0),C=Object(s.a)(S,2),N=C[0],k=C[1],B=r.a.useState(!1),_=Object(s.a)(B,2),T=_[0],F=_[1],q=r.a.useState(200),z=Object(s.a)(q,2),X=z[0],Y=z[1],Q=Object(a.useState)(!1),J=Object(s.a)(Q,2),$=J[0],ee=J[1],ne=Object(a.useState)("NEW"),ae=Object(s.a)(ne,2),re=(ae[0],ae[1]),ce=(e.shipments,e.setShipments),ie=X-Math.min(X,c.length-N*X),oe=function(){var t=Object(P.a)(E.a.mark((function t(n){var a,r,c,s;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=sessionStorage.getItem("token"),re(n),r=n,c=JSON.stringify({employeeID:sessionStorage.getItem("userId"),filteredBy:{delivery:{deliveryStatus:r}}},{skipEmptyString:!0,skipNull:!0}),s=[],O.a.post("".concat(D.API_ROOT,"/api/logisticManager/viewShipments"),c,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}}).then((function(t){console.log(t.data),s=t.data;var n=[];Array.isArray(s)&&(n=s.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{employeeID:e.employeeID,isEditMode:!1})})),1===e.filters.length?n=n.filter((function(e){return e.currentCity.toUpperCase()===e.shipmentLocation.toUpperCase()})):(n=n.filter((function(e){return e.currentCity.toUpperCase()!==e.shipmentLocation.toUpperCase()})),console.log(n))),i(Object(I.a)(n))}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){oe()}),[]);var se=r.a.useState({open:!1,message:""}),le=Object(s.a)(se,2),de=le[0],je=le[1],be=function(e,t){"clickaway"!==t&&je({open:!1,message:""})},he=r.a.useState({}),me=Object(s.a)(he,2);me[0],me[1];return Object(a.useEffect)((function(){}),[]),Object(g.jsxs)("div",{className:l.root,children:[Object(g.jsx)(Sn,{Filter:{name:"Status",filters:Object(I.a)(e.filters)},handleFilters:function(e){return oe(e)}}),Object(g.jsx)(Zt,{open:$,onClose:function(){return ee(!1)}}),Object(g.jsxs)(V.a,{className:l.paper,children:[Object(g.jsx)(dc,{numSelected:y.length,data:c,selectedRows:Object(I.a)(y),setShipments:ce}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(H.a,{className:l.table,"aria-labelledby":"tableTitle",size:T?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(oc,{classes:l,numSelected:y.length,order:b,orderBy:f,onSelectAllClick:function(e){if(e.target.checked){var t=c.map((function(e){return e.shipmentID}));w(t)}else w([])},onRequestSort:function(e,t){h(f===t&&"asc"===b?"desc":"asc"),x(t)},rowCount:c.length}),Object(g.jsxs)(R.a,{children:[rc(c,ac(b,f)).slice(N*X,N*X+X).map((function(e,t){var n,a=(n=e.shipmentID,-1!==y.indexOf(n)),r="enhanced-table-checkbox-".concat(t);return Object(g.jsxs)(U.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(g.jsx)(L.a,{align:"center",children:Object(g.jsx)(j.a,{variant:"contained",color:"secondary",className:l.spacing,onClick:function(){},children:"View"})},"view"),Object(g.jsx)(L.a,{padding:"checkbox",children:Object(g.jsx)(K.a,{onChange:function(t){return function(e,t){var n=y.indexOf(t),a=[];-1===n?a=a.concat(y,t):0===n?a=a.concat(y.slice(1)):n===y.length-1?a=a.concat(y.slice(0,-1)):n>0&&(a=a.concat(y.slice(0,n),y.slice(n+1))),w(a)}(0,e.shipmentID)},checked:a,inputProps:{"aria-labelledby":r}})}),Object(g.jsx)(L.a,{component:"th",id:r,scope:"row",padding:"none",align:"center",children:e.shipmentID||"-"}),Object(g.jsx)(L.a,{align:"center",children:e.shipmentName||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.currentCity||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.shipmentLocation||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.deliveryStatus||"-"})," ",Object(g.jsx)(L.a,{align:"center",children:e.assignedEmployee||"-"})," "]},e.shipmentID)})),ie>0&&Object(g.jsx)(U.a,{style:{height:(T?33:53)*ie},children:Object(g.jsx)(L.a,{colSpan:6})})]})]})}),Object(g.jsx)(W.a,{rowsPerPageOptions:[100,200,300],component:"div",count:c.length,rowsPerPage:X,page:N,onChangePage:function(e,t){k(t)},onChangeRowsPerPage:function(e){Y(parseInt(e.target.value,10)),k(0)}})]}),Object(g.jsx)(te.a,{open:de.open,autoHideDuration:3e3,onClose:be,children:Object(g.jsx)(ue,{onClose:be,severity:"error",children:de.message})}),Object(g.jsx)(Z.a,{control:Object(g.jsx)(G.a,{checked:T,onChange:function(e){F(e.target.checked)}}),label:"Dense padding"})]})}var bc=function(){return Object(g.jsx)(A.a,{theme:S,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(Gn.a,{routes:[{name:"Shipments",link:"/",activeIndex:0},{name:"Workers",link:"/workers",activeIndex:1},{name:"My Warehouse",link:"/warehouse",activeIndex:2},{name:"Shelves",link:"/shelves",activeIndex:3}]}),Object(g.jsxs)(y.c,{children:[Object(g.jsx)(y.a,{exact:!0,path:"/",children:Object(g.jsx)(jc,{})}),Object(g.jsxs)(y.a,{exact:!0,path:"/workers",children:[" ",Object(g.jsx)(tc,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/waitingr",children:[" ",Object(g.jsx)(jt,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/invalidp",children:[" ",Object(g.jsx)(fe,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/all",children:[" ",Object(g.jsx)(Ie,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/return",children:[" ",Object(g.jsx)(Xt,{})," "]}),Object(g.jsxs)(y.a,{exact:!0,path:"/signup",children:[" ",Object(g.jsx)(B,{})," "]})]})]})})};var hc=function(){var e=function(){var e=Object(a.useState)(sessionStorage.getItem("token")),t=Object(s.a)(e,2),n=t[0],r=t[1];return{setToken:function(e){sessionStorage.setItem("token",e),r(e)},token:n}}(),t=e.token,n=e.setToken,c=function(){var e=Object(a.useState)(sessionStorage.getItem("UserId")),t=Object(s.a)(e,2),n=t[0],r=t[1];return{setUserId:function(e){sessionStorage.setItem("userId",e),r(e)},userId:n}}(),i=(c.userId,c.setUserId),o=function(){var e=Object(a.useState)(sessionStorage.getItem("UserType")),t=Object(s.a)(e,2),n=t[0],r=t[1];return{setUserType:function(e){sessionStorage.setItem("UserType",e),r(e)},userType:n}}(),l=o.userType,d=o.setUserType;return t?Object(g.jsxs)(r.a.Fragment,{children:["LM"===l&&Object(g.jsx)(Jn,{}),"WM"===l&&Object(g.jsx)(bc,{}),"AD"===l&&Object(g.jsx)(cr,{}),"CO"===l&&Object(g.jsx)(Vt,{}),"FB"===l&&Object(g.jsx)(vr,{}),"DI"===l&&Object(g.jsx)(Mr,{}),"DR"===l&&Object(g.jsx)(Mr,{}),"OW"===l&&Object(g.jsx)(Lr,{}),"AC"===l&&Object(g.jsx)(Mr,{}),"CS"===l&&Object(g.jsx)(or.a,{}),"WO"===l&&Object(g.jsx)(Mr,{})]}):Object(g.jsx)(v.a,{children:Object(g.jsxs)(y.c,{children:[Object(g.jsx)(y.a,{exact:!0,path:"/signup",children:Object(g.jsx)(B,{})}),Object(g.jsx)(x,{setToken:n,setUserId:i,setUserType:d})]})})};i.a.render(Object(g.jsx)(hc,{}),document.getElementById("root"))},80:function(e,t,n){"use strict";(function(e){var a=n(2),r=n(8),c=n(4),i=n(0),o=n.n(i),s=n(197),l=n(147),d=n(198),u=n(195),j=n(160),b=n(199),h=n(110),m=n(120),p=n.n(m),O=n(138),D=n(27),g=n(196),f=n(44),x=n(139),A=n.n(x),v=n(200),y=n(159),w=n(194),S=n(90),C=n(111),N=n(42),k=n(1);function B(e){var t=e.children,n=Object(u.a)({disableHysteresis:!0,threshold:0});return o.a.cloneElement(t,{elevation:n?4:0})}var I=Object(j.a)((function(e){var t,n;return{toolbarMargin:Object(c.a)(Object(c.a)({},e.mixins.toolbar),{},(t={marginBottom:"3em"},Object(r.a)(t,e.breakpoints.down("md"),{marginBottom:"2em"}),Object(r.a)(t,e.breakpoints.down("xs"),{marginBottom:"1.25em"}),t)),logo:(n={height:"6em"},Object(r.a)(n,e.breakpoints.down("md"),{height:"5em"}),Object(r.a)(n,e.breakpoints.down("xs"),{height:"4.5em"}),n),tabContainer:{margin:"auto"},tab:{fontFamily:"Raleway",textTransform:"none",fontWeight:"700",fontSize:"1rem",minWidth:10,marginLeft:"25px",color:"white"},button:{fontFamily:"Raleway",textTransform:"none",fontWeight:"700",fontSize:"1rem",marginRight:"25px"},drawerIcon:{height:"50px",width:"50px "},drawerIconContainer:{marginLeft:"auto","&:hover":{backgroundColor:"transparent"}},drawer:Object(r.a)({backgroundColor:e.palette.common.mahmoolBlue,width:"178.9px"},e.breakpoints.down("xs"),{width:"161px"}),drawerItem:Object(c.a)(Object(c.a)({},e.typography.tab),{},{color:"white",opacity:.7}),draweItemSelected:{opacity:1},appbar:{zIndex:e.zIndex.modal+1}}}));t.a=function(t){Object(N.f)();var n=Object(i.useState)(!1),r=Object(a.a)(n,2),c=r[0],u=r[1],j=e.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent),m=I(),x=Object(f.a)(),P=Object(g.a)(x.breakpoints.down("md")),_=Object(i.useState)(0),E=Object(a.a)(_,2),T=E[0],F=E[1],H=t.routes;console.log(H),Object(i.useEffect)((function(){H.forEach((function(e){if(window.location.pathname==="".concat(e.link))T!==e.activeIndex&&"Log in"!==e.name&&F(e.activeIndex)}))}),[T,H]);var R=Object(k.jsxs)(o.a.Fragment,{children:[Object(k.jsx)(b.a,{value:T,onChange:function(e,t){F(t)},className:m.tabContainer,indicatorColor:"primary",children:H.map((function(e,t){return Object(k.jsx)(h.a,{className:m.tab,label:e.name,component:D.b,to:e.link})}))}),Object(k.jsxs)(l.a,{className:m.button,endIcon:Object(k.jsx)(p.a,{}),color:"inherit",onClick:function(){sessionStorage.clear(),localStorage.clear(),window.location.href="/"},children:[" ","Log out"]})]}),L=Object(k.jsxs)(o.a.Fragment,{children:[Object(k.jsxs)(v.a,{disableBackdropTransition:!j,disableDiscovery:j,open:c,onClose:function(){return u(!1)},onOpen:function(){return u(!0)},classes:{paper:m.drawer},children:[Object(k.jsx)("di",{className:m.toolbarMargin}),Object(k.jsxs)(w.a,{disablePadding:!0,children:[H.map((function(e,t){return Object(k.jsx)(S.a,{className:T===e.activeIndex?[m.drawerItem,m.draweItemSelected]:m.drawerItem,onClick:function(){u(!1),F(e.activeIndex)},divider:!0,button:!0,component:D.b,to:e.link,selected:T===e.activeIndex,children:Object(k.jsx)(C.a,{disableTypography:!0,children:e.name})})})),Object(k.jsx)(S.a,{className:m.drawerItem,onClick:function(){return u(!1)},divider:!0,button:!0,component:D.b,to:"/",selected:5===T,children:Object(k.jsxs)(l.a,{className:m.button,endIcon:Object(k.jsx)(p.a,{}),color:"inherit",onClick:function(){sessionStorage.clear(),localStorage.clear(),window.location.href="/"},children:[" ","Log out"]})})]})]}),Object(k.jsx)(y.a,{className:m.drawerIconContainer,onClick:function(){return u(!c)},disableRipple:!0,children:Object(k.jsx)(A.a,{className:m.drawerIcon})})]});return Object(k.jsxs)(o.a.Fragment,{children:[Object(k.jsx)(B,{children:Object(k.jsx)(s.a,{className:m.appbar,children:Object(k.jsxs)(d.a,{disableGutters:!0,children:[Object(k.jsx)("img",{src:O.a,className:m.logo,alt:"mahmool logo"}),P?L:R]})})}),Object(k.jsx)("div",{className:m.toolbarMargin})]})}}).call(this,n(130))}},[[271,1,2]]]);
//# sourceMappingURL=main.0a330c3f.chunk.js.map